__d(function(g,_r,i,_a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return I}});var t=_r(_d[0]),o=e(_r(_d[1])),n=e(_r(_d[2])),l=e(_r(_d[3])),r=e(_r(_d[4])),c=e(_r(_d[5])),a=_r(_d[6]),s=_r(_d[7]),f=_r(_d[8]),d=_r(_d[9]),u=e(_r(_d[10])),h=_r(_d[11]);_r(_d[12]);var y=_r(_d[13]),b=_r(_d[14]),_=_r(_d[15]),x=_r(_d[16]);const{width:j}=c.default.get("window"),S=[{name:"\u5317\u6d77\u9053\u30fb\u6771\u5317",prefectures:["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c"],color:"#3B82F6"},{name:"\u95a2\u6771",prefectures:["\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c"],color:"#EC4899"},{name:"\u4e2d\u90e8",prefectures:["\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c"],color:"#10B981"},{name:"\u8fd1\u757f",prefectures:["\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c"],color:"#F59E0B"},{name:"\u4e2d\u56fd\u30fb\u56db\u56fd",prefectures:["\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c"],color:"#8B5CF6"},{name:"\u4e5d\u5dde\u30fb\u6c96\u7e04",prefectures:["\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"],color:"#EF4444"}];function p(e){const l=(0,t.c)(15),{participations:r}=e;let c;l[0]!==r?(c=Array(24).fill(0),r.forEach(e=>{const t=new Date(e.createdAt).getHours();c[t]=c[t]+(e.contribution||1)}),l[0]=r,l[1]=c):c=l[1];const a=c,s=Math.max(...a,1);let f,d,u,h,y,b,_;if(l[2]===Symbol.for("react.memo_cache_sentinel")?(f={marginVertical:16},l[2]=f):f=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\u23f0 \u6642\u9593\u5e2f\u5225\u53c2\u52a0\u5206\u5e03"}),l[3]=d):d=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(u={flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},l[4]=u):u=l[4],l[5]!==a||l[6]!==s){let e;l[8]!==s?(e=(e,t)=>{const l=e/s;return(0,x.jsxs)(n.default,{style:{width:(j-64)/12-2,height:40,margin:1,borderRadius:4,backgroundColor:e>0?`rgba(236, 72, 153, ${.2+.8*l})`:"#1A1D21",alignItems:"center",justifyContent:"center"},children:[(0,x.jsxs)(o.default,{style:{color:e>0?"#fff":"#6B7280",fontSize:10},children:[t,"\u6642"]}),e>0&&(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:10,fontWeight:"bold"},children:e})]},t)},l[8]=s,l[9]=e):e=l[9],h=a.map(e),l[5]=a,l[6]=s,l[7]=h}else h=l[7];return l[10]!==h?(y=(0,x.jsx)(n.default,{style:u,children:h}),l[10]=h,l[11]=y):y=l[11],l[12]===Symbol.for("react.memo_cache_sentinel")?(b=(0,x.jsx)(o.default,{style:{color:"#9CA3AF",fontSize:12,textAlign:"center",marginTop:8},children:"\u53c2\u52a0\u767b\u9332\u304c\u591a\u3044\u6642\u9593\u5e2f\u307b\u3069\u6fc3\u3044\u30d4\u30f3\u30af\u3067\u8868\u793a"}),l[12]=b):b=l[12],l[13]!==y?(_=(0,x.jsxs)(n.default,{style:f,children:[d,y,b]}),l[13]=y,l[14]=_):_=l[14],_}function C(e){const l=(0,t.c)(50),{participations:r}=e;let c;if(l[0]!==r){const e={};r.forEach(t=>{const o=new Date(t.createdAt).toISOString().split("T")[0];e[o]=(e[o]||0)+(t.contribution||1)});c=Object.keys(e).sort().map(t=>({date:t,count:e[t],cumulative:0})),l[0]=r,l[1]=c}else c=l[1];const a=c;let s;l[2]!==a?(s=0,a.forEach(e=>{s+=e.count,e.cumulative=s}),l[2]=a,l[3]=s):s=l[3];const f=s||1;if(0===a.length){let e,t,r,c;return l[4]===Symbol.for("react.memo_cache_sentinel")?(e={marginVertical:16},l[4]=e):e=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83d\udcc8 \u53c2\u52a0\u8005\u6570\u63a8\u79fb"}),l[5]=t):t=l[5],l[6]===Symbol.for("react.memo_cache_sentinel")?(r={backgroundColor:"#1A1D21",borderRadius:8,padding:24,alignItems:"center"},l[6]=r):r=l[6],l[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,x.jsxs)(n.default,{style:e,children:[t,(0,x.jsx)(n.default,{style:r,children:(0,x.jsx)(o.default,{style:{color:"#6B7280"},children:"\u307e\u3060\u53c2\u52a0\u8005\u304c\u3044\u307e\u305b\u3093"})})]}),l[7]=c):c=l[7],c}let d,u,y,b,_,j,S,p,C,w,B,z,A,R,W,F,k,v,E,I,V;if(l[8]===Symbol.for("react.memo_cache_sentinel")?(d={marginVertical:16},l[8]=d):d=l[8],l[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83d\udcc8 \u53c2\u52a0\u8005\u6570\u63a8\u79fb"}),l[9]=u):u=l[9],l[10]===Symbol.for("react.memo_cache_sentinel")?(y={backgroundColor:"#1A1D21",borderRadius:8,padding:16},l[10]=y):y=l[10],l[11]===Symbol.for("react.memo_cache_sentinel")?(b={height:120,flexDirection:"row",alignItems:"flex-end"},l[11]=b):b=l[11],l[12]!==a||l[13]!==f){let e;l[15]!==f?(e=(e,t)=>{const o=e.cumulative/f*120;return(0,x.jsx)(n.default,{style:{flex:1,alignItems:"center",marginHorizontal:1},children:(0,x.jsx)(h.LinearGradient,{colors:["#EC4899","#8B5CF6"],style:{width:"80%",height:o,borderRadius:4}})},e.date)},l[15]=f,l[16]=e):e=l[16],_=a.map(e),l[12]=a,l[13]=f,l[14]=_}else _=l[14];l[17]!==_?(j=(0,x.jsx)(n.default,{style:b,children:_}),l[17]=_,l[18]=j):j=l[18],l[19]===Symbol.for("react.memo_cache_sentinel")?(S={flexDirection:"row",marginTop:8},l[19]=S):S=l[19],l[20]!==a?(p=a.length<=7?a.map(D):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:10,flex:1},children:a[0]?.date.slice(5)}),(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:10,flex:1,textAlign:"right"},children:a[a.length-1]?.date.slice(5)})]}),l[20]=a,l[21]=p):p=l[21],l[22]!==p?(C=(0,x.jsx)(n.default,{style:S,children:p}),l[22]=p,l[23]=C):C=l[23],l[24]===Symbol.for("react.memo_cache_sentinel")?(w={flexDirection:"row",marginTop:16,justifyContent:"space-around"},l[24]=w):w=l[24],l[25]===Symbol.for("react.memo_cache_sentinel")?(B={alignItems:"center"},l[25]=B):B=l[25],l[26]===Symbol.for("react.memo_cache_sentinel")?(z=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u5408\u8a08"}),l[26]=z):z=l[26],l[27]===Symbol.for("react.memo_cache_sentinel")?(A={color:"#EC4899",fontSize:20,fontWeight:"bold"},l[27]=A):A=l[27],l[28]!==s?(R=(0,x.jsxs)(n.default,{style:B,children:[z,(0,x.jsxs)(o.default,{style:A,children:[s,"\u4eba"]})]}),l[28]=s,l[29]=R):R=l[29],l[30]===Symbol.for("react.memo_cache_sentinel")?(W={alignItems:"center"},l[30]=W):W=l[30],l[31]===Symbol.for("react.memo_cache_sentinel")?(F=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u65e5\u6570"}),l[31]=F):F=l[31],l[32]===Symbol.for("react.memo_cache_sentinel")?(k={color:"#fff",fontSize:20,fontWeight:"bold"},l[32]=k):k=l[32],l[33]!==a.length?(v=(0,x.jsxs)(n.default,{style:W,children:[F,(0,x.jsxs)(o.default,{style:k,children:[a.length,"\u65e5"]})]}),l[33]=a.length,l[34]=v):v=l[34],l[35]===Symbol.for("react.memo_cache_sentinel")?(E={alignItems:"center"},l[35]=E):E=l[35],l[36]===Symbol.for("react.memo_cache_sentinel")?(I=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u5e73\u5747/\u65e5"}),l[36]=I):I=l[36],l[37]===Symbol.for("react.memo_cache_sentinel")?(V={color:"#fff",fontSize:20,fontWeight:"bold"},l[37]=V):V=l[37];const P=s/a.length;let T,N,L,O;return l[38]!==P?(T=P.toFixed(1),l[38]=P,l[39]=T):T=l[39],l[40]!==T?(N=(0,x.jsxs)(n.default,{style:E,children:[I,(0,x.jsxs)(o.default,{style:V,children:[T,"\u4eba"]})]}),l[40]=T,l[41]=N):N=l[41],l[42]!==R||l[43]!==v||l[44]!==N?(L=(0,x.jsxs)(n.default,{style:w,children:[R,v,N]}),l[42]=R,l[43]=v,l[44]=N,l[45]=L):L=l[45],l[46]!==C||l[47]!==L||l[48]!==j?(O=(0,x.jsxs)(n.default,{style:d,children:[u,(0,x.jsxs)(n.default,{style:y,children:[j,C,L]})]}),l[46]=C,l[47]=L,l[48]=j,l[49]=O):O=l[49],O}function D(e,t){return(0,x.jsx)(n.default,{style:{flex:1,alignItems:"center"},children:(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:8},children:e.date.slice(5)})},e.date)}function w(e){const l=(0,t.c)(23),{participations:r}=e;let c;if(l[0]!==r){const e={};let t=0;r.forEach(o=>{if(o.prefecture){const n=S.find(e=>e.prefectures.includes(o.prefecture));n&&(e[n.name]=(e[n.name]||0)+(o.contribution||1),t+=o.contribution||1)}}),c=S.map(o=>({name:o.name,count:e[o.name]||0,color:o.color,percentage:t>0?((e[o.name]||0)/t*100).toFixed(1):"0"})).filter(A).sort(z),l[0]=r,l[1]=c}else c=l[1];const a=c,s=a.reduce(B,0);if(0===a.length){let e,t,r,c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(e={marginVertical:16},l[2]=e):e=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83d\uddfe \u5730\u57df\u5206\u5e03"}),l[3]=t):t=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(r={backgroundColor:"#1A1D21",borderRadius:8,padding:24,alignItems:"center"},l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,x.jsxs)(n.default,{style:e,children:[t,(0,x.jsx)(n.default,{style:r,children:(0,x.jsx)(o.default,{style:{color:"#6B7280"},children:"\u5730\u57df\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})})]}),l[5]=c):c=l[5],c}let f,d,u,h,y,b,_,j,p,C;if(l[6]===Symbol.for("react.memo_cache_sentinel")?(f={marginVertical:16},l[6]=f):f=l[6],l[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83d\uddfe \u5730\u57df\u5206\u5e03"}),l[7]=d):d=l[7],l[8]===Symbol.for("react.memo_cache_sentinel")?(u={backgroundColor:"#1A1D21",borderRadius:8,padding:16},l[8]=u):u=l[8],l[9]!==a||l[10]!==s){let e;l[12]!==s?(e=(e,t)=>(0,x.jsxs)(n.default,{style:{marginBottom:12},children:[(0,x.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:4},children:[(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:14},children:e.name}),(0,x.jsxs)(o.default,{style:{color:"#9CA3AF",fontSize:14},children:[e.count,"\u4eba (",e.percentage,"%)"]})]}),(0,x.jsx)(n.default,{style:{height:8,backgroundColor:"#2D3139",borderRadius:4,overflow:"hidden"},children:(0,x.jsx)(n.default,{style:{height:"100%",width:e.count/s*100+"%",backgroundColor:e.color,borderRadius:4}})})]},e.name),l[12]=s,l[13]=e):e=l[13],h=a.map(e),l[9]=a,l[10]=s,l[11]=h}else h=l[11];return l[14]===Symbol.for("react.memo_cache_sentinel")?(y={borderTopWidth:1,borderTopColor:"#2D3139",paddingTop:12,marginTop:8},l[14]=y):y=l[14],l[15]===Symbol.for("react.memo_cache_sentinel")?(b={flexDirection:"row",justifyContent:"space-between"},l[15]=b):b=l[15],l[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,x.jsx)(o.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u5408\u8a08"}),l[16]=_):_=l[16],l[17]===Symbol.for("react.memo_cache_sentinel")?(j={color:"#EC4899",fontSize:16,fontWeight:"bold"},l[17]=j):j=l[17],l[18]!==s?(p=(0,x.jsx)(n.default,{style:y,children:(0,x.jsxs)(n.default,{style:b,children:[_,(0,x.jsxs)(o.default,{style:j,children:[s,"\u4eba"]})]})}),l[18]=s,l[19]=p):p=l[19],l[20]!==p||l[21]!==h?(C=(0,x.jsxs)(n.default,{style:f,children:[d,(0,x.jsxs)(n.default,{style:u,children:[h,p]})]}),l[20]=p,l[21]=h,l[22]=C):C=l[22],C}function B(e,t){return e+t.count}function z(e,t){return t.count-e.count}function A(e){return e.count>0}function R(e){const l=(0,t.c)(11),{participations:r}=e;let c;if(l[0]!==r){const e={};r.forEach(t=>{t.prefecture&&(e[t.prefecture]=(e[t.prefecture]||0)+(t.contribution||1))}),c=Object.entries(e).map(F).sort(W).slice(0,10),l[0]=r,l[1]=c}else c=l[1];const a=c;if(0===a.length)return null;let s,f,d,u,h;if(l[2]===Symbol.for("react.memo_cache_sentinel")?(s={marginVertical:16},l[2]=s):s=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(f=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83c\udfc6 \u90fd\u9053\u5e9c\u770c\u5225\u30e9\u30f3\u30ad\u30f3\u30b0 TOP10"}),l[3]=f):f=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(d={backgroundColor:"#1A1D21",borderRadius:8,padding:16},l[4]=d):d=l[4],l[5]!==a){let e;l[7]!==a.length?(e=(e,t)=>(0,x.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"center",paddingVertical:8,borderBottomWidth:t<a.length-1?1:0,borderBottomColor:"#2D3139"},children:[(0,x.jsx)(n.default,{style:{width:24,height:24,borderRadius:12,backgroundColor:0===t?"#FFD700":1===t?"#C0C0C0":2===t?"#CD7F32":"#2D3139",alignItems:"center",justifyContent:"center",marginRight:12},children:(0,x.jsx)(o.default,{style:{color:t<3?"#000":"#fff",fontSize:12,fontWeight:"bold"},children:t+1})}),(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:14,flex:1},children:e.name}),(0,x.jsxs)(o.default,{style:{color:"#EC4899",fontSize:16,fontWeight:"bold"},children:[e.count,"\u4eba"]})]},e.name),l[7]=a.length,l[8]=e):e=l[8],u=a.map(e),l[5]=a,l[6]=u}else u=l[6];return l[9]!==u?(h=(0,x.jsxs)(n.default,{style:s,children:[f,(0,x.jsx)(n.default,{style:d,children:u})]}),l[9]=u,l[10]=h):h=l[10],h}function W(e,t){return t.count-e.count}function F(e){const[t,o]=e;return{name:t,count:o}}function k(e){const l=(0,t.c)(65),{challenge:r,participations:c}=e,a=c.reduce(E,0),s=c.length,f=s>0?a/s:0;let d;l[0]!==c?(d=c.filter(v),l[0]=c,l[1]=d):d=l[1];const u=d.length,y=s>0?u/s*100:0,b=r?.goalValue?a/r.goalValue*100:0;let _;l[2]!==f||l[3]!==y||l[4]!==b||l[5]!==a||l[6]!==s||l[7]!==u?(_={total:a,uniqueParticipants:s,avgContribution:f,withCompanions:u,companionRate:y,progressRate:b},l[2]=f,l[3]=y,l[4]=b,l[5]=a,l[6]=s,l[7]=u,l[8]=_):_=l[8];const j=_;let S,p,C,D,w,B,z,A,R,W,F,k,I,V,P,T,N,L,O,U,q,M,H,G,Q,$,J,K,X,Y,Z;l[9]===Symbol.for("react.memo_cache_sentinel")?(S={marginVertical:16},l[9]=S):S=l[9],l[10]===Symbol.for("react.memo_cache_sentinel")?(p=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:12},children:"\ud83d\udcca \u7d71\u8a08\u30b5\u30de\u30ea\u30fc"}),l[10]=p):p=l[10],l[11]===Symbol.for("react.memo_cache_sentinel")?(C={flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},l[11]=C):C=l[11],l[12]===Symbol.for("react.memo_cache_sentinel")?(D={width:"48%",backgroundColor:"#1A1D21",borderRadius:8,padding:16,marginBottom:8},l[12]=D):D=l[12],l[13]===Symbol.for("react.memo_cache_sentinel")?(w=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u7dcf\u52d5\u54e1\u6570"}),l[13]=w):w=l[13],l[14]===Symbol.for("react.memo_cache_sentinel")?(B={color:"#EC4899",fontSize:24,fontWeight:"bold"},l[14]=B):B=l[14],l[15]!==j.total?(z=(0,x.jsxs)(n.default,{style:D,children:[w,(0,x.jsxs)(o.default,{style:B,children:[j.total,"\u4eba"]})]}),l[15]=j.total,l[16]=z):z=l[16],l[17]===Symbol.for("react.memo_cache_sentinel")?(A={width:"48%",backgroundColor:"#1A1D21",borderRadius:8,padding:16,marginBottom:8},l[17]=A):A=l[17],l[18]===Symbol.for("react.memo_cache_sentinel")?(R=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u53c2\u52a0\u8005\u6570"}),l[18]=R):R=l[18],l[19]===Symbol.for("react.memo_cache_sentinel")?(W={color:"#fff",fontSize:24,fontWeight:"bold"},l[19]=W):W=l[19],l[20]!==j.uniqueParticipants?(F=(0,x.jsxs)(n.default,{style:A,children:[R,(0,x.jsxs)(o.default,{style:W,children:[j.uniqueParticipants,"\u4eba"]})]}),l[20]=j.uniqueParticipants,l[21]=F):F=l[21],l[22]===Symbol.for("react.memo_cache_sentinel")?(k={width:"48%",backgroundColor:"#1A1D21",borderRadius:8,padding:16,marginBottom:8},l[22]=k):k=l[22],l[23]===Symbol.for("react.memo_cache_sentinel")?(I=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u5e73\u5747\u8ca2\u732e\u5ea6"}),l[23]=I):I=l[23],l[24]===Symbol.for("react.memo_cache_sentinel")?(V={color:"#fff",fontSize:24,fontWeight:"bold"},l[24]=V):V=l[24],l[25]!==j.avgContribution?(P=j.avgContribution.toFixed(1),l[25]=j.avgContribution,l[26]=P):P=l[26],l[27]!==P?(T=(0,x.jsxs)(n.default,{style:k,children:[I,(0,x.jsxs)(o.default,{style:V,children:[P,"\u4eba"]})]}),l[27]=P,l[28]=T):T=l[28],l[29]===Symbol.for("react.memo_cache_sentinel")?(N={width:"48%",backgroundColor:"#1A1D21",borderRadius:8,padding:16,marginBottom:8},l[29]=N):N=l[29],l[30]===Symbol.for("react.memo_cache_sentinel")?(L=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u540c\u4f34\u7387"}),l[30]=L):L=l[30],l[31]===Symbol.for("react.memo_cache_sentinel")?(O={color:"#fff",fontSize:24,fontWeight:"bold"},l[31]=O):O=l[31],l[32]!==j.companionRate?(U=j.companionRate.toFixed(0),l[32]=j.companionRate,l[33]=U):U=l[33],l[34]!==U?(q=(0,x.jsxs)(n.default,{style:N,children:[L,(0,x.jsxs)(o.default,{style:O,children:[U,"%"]})]}),l[34]=U,l[35]=q):q=l[35],l[36]===Symbol.for("react.memo_cache_sentinel")?(M={width:"100%",backgroundColor:"#1A1D21",borderRadius:8,padding:16},l[36]=M):M=l[36],l[37]===Symbol.for("react.memo_cache_sentinel")?(H={flexDirection:"row",justifyContent:"space-between",marginBottom:8},l[37]=H):H=l[37],l[38]===Symbol.for("react.memo_cache_sentinel")?(G=(0,x.jsx)(o.default,{style:{color:"#6B7280",fontSize:12},children:"\u76ee\u6a19\u9054\u6210\u7387"}),l[38]=G):G=l[38],l[39]===Symbol.for("react.memo_cache_sentinel")?(Q={color:"#EC4899",fontSize:14,fontWeight:"bold"},l[39]=Q):Q=l[39],l[40]!==j.progressRate?($=j.progressRate.toFixed(1),l[40]=j.progressRate,l[41]=$):$=l[41],l[42]!==$?(J=(0,x.jsxs)(n.default,{style:H,children:[G,(0,x.jsxs)(o.default,{style:Q,children:[$,"%"]})]}),l[42]=$,l[43]=J):J=l[43],l[44]===Symbol.for("react.memo_cache_sentinel")?(K={height:12,backgroundColor:"#2D3139",borderRadius:6,overflow:"hidden"},l[44]=K):K=l[44],l[45]===Symbol.for("react.memo_cache_sentinel")?(X=["#EC4899","#8B5CF6"],Y={x:0,y:0},Z={x:1,y:0},l[45]=X,l[46]=Y,l[47]=Z):(X=l[45],Y=l[46],Z=l[47]);const ee=`${Math.min(j.progressRate,100)}%`;let te,oe;l[48]!==ee?(te=(0,x.jsx)(n.default,{style:K,children:(0,x.jsx)(h.LinearGradient,{colors:X,start:Y,end:Z,style:{height:"100%",width:ee,borderRadius:6}})}),l[48]=ee,l[49]=te):te=l[49],l[50]===Symbol.for("react.memo_cache_sentinel")?(oe={color:"#9CA3AF",fontSize:12,textAlign:"center",marginTop:4},l[50]=oe):oe=l[50];const ne=r?.goalValue||0,le=r?.goalUnit||"\u4eba";let re,ce,ae;return l[51]!==j.total||l[52]!==ne||l[53]!==le?(re=(0,x.jsxs)(o.default,{style:oe,children:[j.total," / ",ne," ",le]}),l[51]=j.total,l[52]=ne,l[53]=le,l[54]=re):re=l[54],l[55]!==J||l[56]!==te||l[57]!==re?(ce=(0,x.jsxs)(n.default,{style:M,children:[J,te,re]}),l[55]=J,l[56]=te,l[57]=re,l[58]=ce):ce=l[58],l[59]!==F||l[60]!==T||l[61]!==q||l[62]!==ce||l[63]!==z?(ae=(0,x.jsxs)(n.default,{style:S,children:[p,(0,x.jsxs)(n.default,{style:C,children:[z,F,T,q,ce]})]}),l[59]=F,l[60]=T,l[61]=q,l[62]=ce,l[63]=z,l[64]=ae):ae=l[64],ae}function v(e){return e.companionCount>0}function E(e,t){return e+(t.contribution||1)}function I(){const e=(0,t.c)(70),{id:c}=(0,a.useLocalSearchParams)(),h=(0,a.useRouter)(),{user:j}=(0,d.useAuth)(),S=Number(c);let D;e[0]!==S?(D={id:S},e[0]=S,e[1]=D):D=e[1];const B=!!c;let z;e[2]!==B?(z={enabled:B},e[2]=B,e[3]=z):z=e[3];const{data:A,isLoading:W}=f.trpc.events.getById.useQuery(D,z),F=Number(c);let v;e[4]!==F?(v={eventId:F},e[4]=F,e[5]=v):v=e[5];const E=!!c;let I;e[6]!==E?(I={enabled:E},e[6]=E,e[7]=I):I=e[7];const{data:T,isLoading:N}=f.trpc.participations.listByEvent.useQuery(v,I);let L;e[8]!==T?(L=void 0===T?[]:T,e[8]=T,e[9]=L):L=e[9];const O=L,U=W||N,q=j&&A&&j.id===A.hostUserId;if(U){let t,l;return e[10]===Symbol.for("react.memo_cache_sentinel")?(t={flex:1,alignItems:"center",justifyContent:"center"},e[10]=t):t=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,x.jsx)(s.ScreenContainer,{className:"p-4",children:(0,x.jsx)(n.default,{style:t,children:(0,x.jsx)(o.default,{style:{color:"#9CA3AF"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."})})}),e[11]=l):l=e[11],l}if(!A){let t,r,c,a,f,d;return e[12]===Symbol.for("react.memo_cache_sentinel")?(t={flex:1,alignItems:"center",justifyContent:"center"},e[12]=t):t=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(r=(0,x.jsx)(o.default,{style:{color:"#9CA3AF"},children:"\u30c1\u30e3\u30ec\u30f3\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}),e[13]=r):r=e[13],e[14]!==h?(c=()=>h.back(),e[14]=h,e[15]=c):c=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(a={marginTop:16,padding:12},e[16]=a):a=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,x.jsx)(o.default,{style:{color:"#EC4899"},children:"\u623b\u308b"}),e[17]=f):f=e[17],e[18]!==c?(d=(0,x.jsx)(s.ScreenContainer,{className:"p-4",children:(0,x.jsxs)(n.default,{style:t,children:[r,(0,x.jsx)(l.default,{onPress:c,style:a,children:f})]})}),e[18]=c,e[19]=d):d=e[19],d}let M,H,G,Q,$,J,K,X,Y,Z,ee,te,oe,ne,le,re,ce,ae,ie,se,fe,de,me,ue;return e[20]===Symbol.for("react.memo_cache_sentinel")?(M={flex:1},H={padding:16},e[20]=M,e[21]=H):(M=e[20],H=e[21]),e[22]!==h?(G=()=>h.back(),e[22]=h,e[23]=G):G=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(Q={flexDirection:"row",alignItems:"center"},$=(0,x.jsx)(u.default,{name:"arrow-back",size:24,color:"#fff"}),e[24]=Q,e[25]=$):(Q=e[24],$=e[25]),e[26]===Symbol.for("react.memo_cache_sentinel")?(J=(0,x.jsx)(o.default,{style:{color:"#fff",marginLeft:8},children:"\u623b\u308b"}),e[26]=J):J=e[26],e[27]!==G?(K=(0,x.jsx)(y.AppHeader,{title:"\u541b\u6597\u308a\u3093\u304f\u306e\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058",showCharacters:!1,rightElement:(0,x.jsxs)(l.default,{onPress:G,style:Q,children:[$,J]})}),e[27]=G,e[28]=K):K=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(X={marginBottom:16},e[29]=X):X=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(Y={flexDirection:"row",justifyContent:"space-between",alignItems:"center"},e[30]=Y):Y=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(Z={flex:1},e[31]=Z):Z=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,x.jsx)(o.default,{style:{color:"#fff",fontSize:18,fontWeight:"bold"},children:"\u7d71\u8a08\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),e[32]=ee):ee=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(te={color:"#9CA3AF",fontSize:14},e[33]=te):te=e[33],e[34]!==A.title?(oe=(0,x.jsxs)(n.default,{style:Z,children:[ee,(0,x.jsx)(o.default,{style:te,numberOfLines:1,children:A.title})]}),e[34]=A.title,e[35]=oe):oe=e[35],e[36]!==A.eventDate||e[37]!==A.goalUnit||e[38]!==A.goalValue||e[39]!==A.hostName||e[40]!==A.id||e[41]!==A.title||e[42]!==q||e[43]!==O?(ne=q&&(0,x.jsx)(b.ExportButton,{data:{challenge:{id:A.id,title:A.title,hostName:A.hostName||"",goalValue:A.goalValue,goalUnit:A.goalUnit||"\u4eba",startDate:new Date(A.eventDate),endDate:new Date(A.eventDate)},participations:O.map(P),exportDate:new Date}}),e[36]=A.eventDate,e[37]=A.goalUnit,e[38]=A.goalValue,e[39]=A.hostName,e[40]=A.id,e[41]=A.title,e[42]=q,e[43]=O,e[44]=ne):ne=e[44],e[45]!==oe||e[46]!==ne?(le=(0,x.jsx)(n.default,{style:X,children:(0,x.jsxs)(n.default,{style:Y,children:[oe,ne]})}),e[45]=oe,e[46]=ne,e[47]=le):le=e[47],e[48]!==q?(re=!q&&(0,x.jsx)(n.default,{style:{backgroundColor:"#1A1D21",borderRadius:8,padding:16,marginBottom:16},children:(0,x.jsx)(o.default,{style:{color:"#F59E0B",fontSize:14},children:"\u26a0\ufe0f \u4e00\u90e8\u306e\u8a73\u7d30\u30c7\u30fc\u30bf\u306f\u4e3b\u50ac\u8005\u306e\u307f\u95b2\u89a7\u3067\u304d\u307e\u3059"})}),e[48]=q,e[49]=re):re=e[49],e[50]!==A||e[51]!==O?(ce=(0,x.jsx)(k,{challenge:A,participations:O}),e[50]=A,e[51]=O,e[52]=ce):ce=e[52],e[53]!==O?(ae=(0,x.jsx)(C,{participations:O}),ie=(0,x.jsx)(w,{participations:O}),se=(0,x.jsx)(R,{participations:O}),fe=(0,x.jsx)(p,{participations:O}),de=O.length>0&&(0,x.jsx)(_.ParticipantRanking,{participants:O.map(V),maxDisplay:15,showBadges:!0,title:"\u8ca2\u732e\u30e9\u30f3\u30ad\u30f3\u30b0"}),e[53]=O,e[54]=ae,e[55]=ie,e[56]=se,e[57]=fe,e[58]=de):(ae=e[54],ie=e[55],se=e[56],fe=e[57],de=e[58]),e[59]===Symbol.for("react.memo_cache_sentinel")?(me=(0,x.jsx)(n.default,{style:{height:40}}),e[59]=me):me=e[59],e[60]!==K||e[61]!==le||e[62]!==re||e[63]!==ce||e[64]!==ae||e[65]!==ie||e[66]!==se||e[67]!==fe||e[68]!==de?(ue=(0,x.jsx)(s.ScreenContainer,{children:(0,x.jsxs)(r.default,{style:M,contentContainerStyle:H,children:[K,le,re,ce,ae,ie,se,fe,de,me]})}),e[60]=K,e[61]=le,e[62]=re,e[63]=ce,e[64]=ae,e[65]=ie,e[66]=se,e[67]=fe,e[68]=de,e[69]=ue):ue=e[69],ue}function V(e){return{...e,createdAt:new Date(e.createdAt)}}function P(e){return{...e,createdAt:new Date(e.createdAt)}}},1469,[1670,188,109,229,133,134,473,1083,1087,1185,712,1192,3,1196,1470,1472,2]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.ExportButton=function({data:e,disabled:s=!1}){const[x,h]=(0,c.useState)(!1),[y,j]=(0,c.useState)(!1),C=(0,c.useCallback)(()=>{s||h(!0)},[s]),I=(0,c.useCallback)(async t=>{j(!0);try{let o=!1;switch(t){case"csv":o=await(0,u.shareCSV)(e);break;case"text":o=await(0,u.shareTextReport)(e);break;case"clipboard":const t=(0,u.generateCSV)(e);o=await(0,u.copyToClipboard)(t),o&&d.default.alert("\u30b3\u30d4\u30fc\u5b8c\u4e86","\u7d71\u8a08\u30c7\u30fc\u30bf\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")}o&&h(!1)}catch(e){console.error("[ExportButton] Export failed:",e),d.default.alert("\u30a8\u30e9\u30fc","\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{j(!1)}},[e]),v=(0,c.useCallback)(()=>{h(!1)},[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.default,{onPress:C,disabled:s,style:[p.button,s&&p.buttonDisabled],accessibilityRole:"button",accessibilityLabel:"\u7d71\u8a08\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",children:[(0,b.jsx)(f.default,{name:"file-download",size:20,color:s?"#6B7280":"#fff"}),(0,b.jsx)(o.default,{style:[p.buttonText,s&&p.buttonTextDisabled],children:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"})]}),(0,b.jsx)(n.default,{visible:x,transparent:!0,animationType:"fade",onRequestClose:v,children:(0,b.jsx)(l.default,{style:p.modalOverlay,activeOpacity:1,onPress:v,children:(0,b.jsxs)(t.default,{style:p.modalContent,children:[(0,b.jsxs)(t.default,{style:p.modalHeader,children:[(0,b.jsx)(o.default,{style:p.modalTitle,children:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5f62\u5f0f\u3092\u9078\u629e"}),(0,b.jsx)(l.default,{onPress:v,style:p.closeButton,children:(0,b.jsx)(f.default,{name:"close",size:24,color:"#9CA3AF"})})]}),(0,b.jsxs)(t.default,{style:p.optionList,children:[(0,b.jsxs)(l.default,{onPress:()=>I("csv"),disabled:y,style:p.optionItem,children:[(0,b.jsx)(t.default,{style:[p.optionIcon,{backgroundColor:"#10B981"}],children:(0,b.jsx)(f.default,{name:"table-chart",size:24,color:"#fff"})}),(0,b.jsxs)(t.default,{style:p.optionInfo,children:[(0,b.jsx)(o.default,{style:p.optionTitle,children:"CSV\u5f62\u5f0f"}),(0,b.jsx)(o.default,{style:p.optionDescription,children:"\u8868\u8a08\u7b97\u30bd\u30d5\u30c8\u3067\u958b\u3051\u308b\u5f62\u5f0f"})]}),(0,b.jsx)(f.default,{name:"chevron-right",size:24,color:"#6B7280"})]}),(0,b.jsxs)(l.default,{onPress:()=>I("text"),disabled:y,style:p.optionItem,children:[(0,b.jsx)(t.default,{style:[p.optionIcon,{backgroundColor:"#EC4899"}],children:(0,b.jsx)(f.default,{name:"description",size:24,color:"#fff"})}),(0,b.jsxs)(t.default,{style:p.optionInfo,children:[(0,b.jsx)(o.default,{style:p.optionTitle,children:"\u30c6\u30ad\u30b9\u30c8\u30ec\u30dd\u30fc\u30c8"}),(0,b.jsx)(o.default,{style:p.optionDescription,children:"SNS\u3067\u30b7\u30a7\u30a2\u3057\u3084\u3059\u3044\u5f62\u5f0f"})]}),(0,b.jsx)(f.default,{name:"chevron-right",size:24,color:"#6B7280"})]}),(0,b.jsxs)(l.default,{onPress:()=>I("clipboard"),disabled:y,style:p.optionItem,children:[(0,b.jsx)(t.default,{style:[p.optionIcon,{backgroundColor:"#8B5CF6"}],children:(0,b.jsx)(f.default,{name:"content-copy",size:24,color:"#fff"})}),(0,b.jsxs)(t.default,{style:p.optionInfo,children:[(0,b.jsx)(o.default,{style:p.optionTitle,children:"\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"}),(0,b.jsx)(o.default,{style:p.optionDescription,children:"CSV\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc"})]}),(0,b.jsx)(f.default,{name:"chevron-right",size:24,color:"#6B7280"})]})]}),y&&(0,b.jsx)(t.default,{style:p.loadingOverlay,children:(0,b.jsx)(o.default,{style:p.loadingText,children:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u4e2d..."})})]})})})]})};var t=e(r(_d[0])),o=e(r(_d[1])),l=e(r(_d[2])),n=e(r(_d[3])),s=e(r(_d[4]));r(_d[5]);var d=e(r(_d[6])),c=r(_d[7]),f=e(r(_d[8])),u=((function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[9])),r(_d[10])),b=r(_d[11]);const p=s.default.create({button:{flexDirection:"row",alignItems:"center",backgroundColor:"#1A1D21",paddingHorizontal:16,paddingVertical:10,borderRadius:8,borderWidth:1,borderColor:"#2D3139",gap:8},buttonDisabled:{opacity:.5},buttonText:{color:"#fff",fontSize:14,fontWeight:"500"},buttonTextDisabled:{color:"#6B7280"},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center",padding:24},modalContent:{backgroundColor:"#1A1D21",borderRadius:16,width:"100%",maxWidth:400,overflow:"hidden"},modalHeader:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:16,borderBottomWidth:1,borderBottomColor:"#2D3139"},modalTitle:{color:"#fff",fontSize:18,fontWeight:"bold"},closeButton:{padding:4},optionList:{padding:8},optionItem:{flexDirection:"row",alignItems:"center",padding:12,borderRadius:12,marginVertical:4},optionIcon:{width:48,height:48,borderRadius:12,alignItems:"center",justifyContent:"center",marginRight:12},optionInfo:{flex:1},optionTitle:{color:"#fff",fontSize:16,fontWeight:"600",marginBottom:2},optionDescription:{color:"#9CA3AF",fontSize:13},loadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",alignItems:"center",justifyContent:"center"},loadingText:{color:"#fff",fontSize:16}})},1470,[109,188,229,235,28,104,101,3,712,708,1471,2]);
__d(function(g,_r,_i,_a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.generateCSV=o,_e.generateTextReport=a,_e.shareCSV=async function(e){try{const t=o(e);return(await n.default.share({title:`${e.challenge.title} - \u7d71\u8a08\u30c7\u30fc\u30bf`,message:t})).action===n.default.sharedAction}catch(e){return console.error("[ExportStats] Failed to share CSV:",e),!1}},_e.shareTextReport=async function(e){try{const t=a(e);return(await n.default.share({title:`${e.challenge.title} - \u7d71\u8a08\u30ec\u30dd\u30fc\u30c8`,message:t})).action===n.default.sharedAction}catch(e){return console.error("[ExportStats] Failed to share report:",e),!1}},_e.copyToClipboard=async function(e){try{return!("undefined"==typeof navigator||!navigator.clipboard)&&(await navigator.clipboard.writeText(e),!0)}catch(e){return console.error("[ExportStats] Failed to copy to clipboard:",e),!1}};var e,t=_r(_d[0]),n=(e=t)&&e.__esModule?e:{default:e};_r(_d[1]);!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e})(_r(_d[2]));const r=[{name:"\u5317\u6d77\u9053\u30fb\u6771\u5317",prefectures:["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c"]},{name:"\u95a2\u6771",prefectures:["\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c"]},{name:"\u4e2d\u90e8",prefectures:["\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c"]},{name:"\u8fd1\u757f",prefectures:["\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c"]},{name:"\u4e2d\u56fd\u30fb\u56db\u56fd",prefectures:["\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c"]},{name:"\u4e5d\u5dde\u30fb\u6c96\u7e04",prefectures:["\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"]}];function o(e){const{challenge:t,participations:n,exportDate:r}=e,o=["# \u52d5\u54e1\u3061\u3083\u308c\u3093\u3058 \u7d71\u8a08\u30ec\u30dd\u30fc\u30c8",`# \u30c1\u30e3\u30ec\u30f3\u30b8\u540d: ${t.title}`,`# \u4e3b\u50ac\u8005: ${t.hostName}`,`# \u76ee\u6a19: ${t.goalValue}${t.goalUnit}`,`# \u671f\u9593: ${l(t.startDate)} \u301c ${l(t.endDate)}`,`# \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u65e5\u6642: ${p(r)}`,""].join("\n"),a=n.reduce((e,t)=>e+(t.contribution||1),0);return[o,["## \u30b5\u30de\u30ea\u30fc",`\u7dcf\u53c2\u52a0\u8868\u660e\u6570,${a}`,`\u30e6\u30cb\u30fc\u30af\u53c2\u52a0\u8005\u6570,${n.length}`,`\u76ee\u6a19\u9054\u6210\u7387,${t.goalValue>0?(a/t.goalValue*100).toFixed(1):"0"}%`,""].join("\n"),"## \u53c2\u52a0\u8005\u30ea\u30b9\u30c8\n\u8868\u793a\u540d,\u90fd\u9053\u5e9c\u770c,\u540c\u884c\u8005\u6570,\u8ca2\u732e\u6570,\u53c2\u52a0\u65e5\u6642",n.map(e=>`${e.isAnonymous?"\u533f\u540d":e.displayName},${e.prefecture||"\u672a\u8a2d\u5b9a"},${e.companionCount||0},${e.contribution||1},${p(new Date(e.createdAt))}`).join("\n"),"\n## \u90fd\u9053\u5e9c\u770c\u5225\u96c6\u8a08\n\u90fd\u9053\u5e9c\u770c,\u53c2\u52a0\u8005\u6570,\u5272\u5408",c(n).sort((e,t)=>t.count-e.count).map(e=>`${e.prefecture},${e.count},${e.percentage}%`).join("\n"),"\n## \u5730\u57df\u5225\u96c6\u8a08\n\u5730\u57df,\u53c2\u52a0\u8005\u6570,\u5272\u5408",u(n).sort((e,t)=>t.count-e.count).map(e=>`${e.region},${e.count},${e.percentage}%`).join("\n"),"\n## \u65e5\u5225\u96c6\u8a08\n\u65e5\u4ed8,\u53c2\u52a0\u8005\u6570,\u7d2f\u8a08",i(n).map(e=>`${e.date},${e.count},${e.cumulative}`).join("\n"),"\n## \u6642\u9593\u5e2f\u5225\u96c6\u8a08\n\u6642\u9593\u5e2f,\u53c2\u52a0\u8005\u6570",s(n).map(e=>`${e.hour}\u6642,${e.count}`).join("\n")].join("\n")}function a(e){const{challenge:t,participations:n,exportDate:r}=e,o=n.reduce((e,t)=>e+(t.contribution||1),0),a=n.length,i=t.goalValue>0?(o/t.goalValue*100).toFixed(1):"0",s=c(n).sort((e,t)=>t.count-e.count).slice(0,5),$=u(n).sort((e,t)=>t.count-e.count).slice(0,3);return["\ud83d\udcca \u52d5\u54e1\u3061\u3083\u308c\u3093\u3058 \u7d71\u8a08\u30ec\u30dd\u30fc\u30c8","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501","",`\ud83c\udfaf \u30c1\u30e3\u30ec\u30f3\u30b8: ${t.title}`,`\ud83d\udc64 \u4e3b\u50ac\u8005: ${t.hostName}`,`\ud83d\udcc5 \u671f\u9593: ${l(t.startDate)} \u301c ${l(t.endDate)}`,"","\ud83d\udcc8 \u9054\u6210\u72b6\u6cc1","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",`\u73fe\u5728: ${o} / ${t.goalValue}${t.goalUnit}`,`\u9054\u6210\u7387: ${i}%`,`\u53c2\u52a0\u8005\u6570: ${a}\u4eba`,"","\ud83c\udfc6 \u90fd\u9053\u5e9c\u770cTOP5","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",...s.map((e,t)=>`${t+1}. ${e.prefecture}: ${e.count}\u4eba (${e.percentage}%)`),"","\ud83d\uddfe \u5730\u57dfTOP3","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",...$.map((e,t)=>`${t+1}. ${e.region}: ${e.count}\u4eba (${e.percentage}%)`),"","\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501",`\u30ec\u30dd\u30fc\u30c8\u751f\u6210: ${p(r)}`,"#\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058"].join("\n")}function c(e){const t={};let n=0;return e.forEach(e=>{e.prefecture&&(t[e.prefecture]=(t[e.prefecture]||0)+(e.contribution||1),n+=e.contribution||1)}),Object.entries(t).map(([e,t])=>({prefecture:e,count:t,percentage:n>0?(t/n*100).toFixed(1):"0"}))}function u(e){const t={};let n=0;return e.forEach(e=>{if(e.prefecture){const o=r.find(t=>t.prefectures.includes(e.prefecture));o&&(t[o.name]=(t[o.name]||0)+(e.contribution||1),n+=e.contribution||1)}}),Object.entries(t).map(([e,t])=>({region:e,count:t,percentage:n>0?(t/n*100).toFixed(1):"0"}))}function i(e){const t={};e.forEach(e=>{const n=new Date(e.createdAt).toISOString().split("T")[0];t[n]=(t[n]||0)+(e.contribution||1)});const n=Object.keys(t).sort();let r=0;return n.map(e=>(r+=t[e],{date:e,count:t[e],cumulative:r}))}function s(e){const t=Array(24).fill(0);return e.forEach(e=>{const n=new Date(e.createdAt).getHours();t[n]+=e.contribution||1}),t.map((e,t)=>({hour:t,count:e}))}function l(e){const t=new Date(e);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`}function p(e){const t=new Date(e);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`}},1471,[225,104,708]);