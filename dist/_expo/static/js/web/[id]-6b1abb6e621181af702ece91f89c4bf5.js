__d(function(g,_r,i,_a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return te}});var t=_r(d[0]),r=e(_r(d[1])),o=e(_r(d[2])),l=e(_r(d[3])),n=e(_r(d[4])),s=e(_r(d[5])),a=e(_r(d[6]));_r(d[7]);var c=e(_r(d[8])),u=e(_r(d[9])),f=e(_r(d[10])),h=e(_r(d[11])),x=e(_r(d[12])),y=_r(d[13]),b=_r(d[14]),j=_r(d[15]),p=_r(d[16]),C=_r(d[17]),w=_r(d[18]),S=_r(d[19]),z=_r(d[20]),I=e(_r(d[21])),D=_r(d[22]),A=_r(d[23]),k=_r(d[24]),R=_r(d[25]),B=_r(d[26]),W=_r(d[27]),F=_r(d[28]),E=_r(d[29]),T=_r(d[30]),v=_r(d[31]),P=_r(d[32]),L=_r(d[33]),_=_r(d[34]),$=_r(d[35]),H=_r(d[36]),N=_r(d[37]),M=_r(d[38]),U=_r(d[39]);const{width:V}=f.default.get("window"),O={attendance:{label:"\u52d5\u54e1",icon:"people",unit:"\u4eba"},followers:{label:"\u30d5\u30a9\u30ed\u30ef\u30fc",icon:"person-add",unit:"\u4eba"},viewers:{label:"\u540c\u6642\u8996\u8074",icon:"visibility",unit:"\u4eba"},points:{label:"\u30dd\u30a4\u30f3\u30c8",icon:"star",unit:"pt"},custom:{label:"\u30ab\u30b9\u30bf\u30e0",icon:"flag",unit:""}},G=[{name:"\u5317\u6d77\u9053\u30fb\u6771\u5317",prefectures:["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c"]},{name:"\u95a2\u6771",prefectures:["\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c"]},{name:"\u4e2d\u90e8",prefectures:["\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c"]},{name:"\u8fd1\u757f",prefectures:["\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c"]},{name:"\u4e2d\u56fd\u30fb\u56db\u56fd",prefectures:["\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c"]},{name:"\u4e5d\u5dde\u30fb\u6c96\u7e04",prefectures:["\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"]}],Q=["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c","\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c","\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c","\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c","\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c","\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"];function K(e){const l=(0,t.c)(16),{participations:n}=e,s=(0,S.useColors)();let a,c;l[0]!==n?(a={},n.forEach(e=>{if(e.prefecture){const t=G.find(t=>t.prefectures.includes(e.prefecture));t&&(a[t.name]=(a[t.name]||0)+(e.contribution||1))}}),l[0]=n,l[1]=a):a=l[1],l[2]!==a?(c=Object.values(a),l[2]=a,l[3]=c):c=l[3];const u=Math.max(...c,1);let f,h,x,y,b,j;return l[4]===Symbol.for("react.memo_cache_sentinel")?(f={marginVertical:16},l[4]=f):f=l[4],l[5]!==s.foreground?(h=(0,U.jsx)(r.default,{style:{color:s.foreground,fontSize:16,fontWeight:"bold",marginBottom:12},children:"\u5730\u57df\u5225\u53c2\u52a0\u8005"}),l[5]=s.foreground,l[6]=h):h=l[6],l[7]===Symbol.for("react.memo_cache_sentinel")?(x={flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},l[7]=x):x=l[7],l[8]!==u||l[9]!==a?(y=G.map(e=>{const t=a[e.name]||0,l=t/u;return(0,U.jsxs)(o.default,{style:{width:"48%",backgroundColor:"#1A1D21",borderRadius:8,padding:12,marginBottom:8,borderWidth:1,borderColor:t>0?`rgba(236, 72, 153, ${.3+.7*l})`:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:e.name}),(0,U.jsxs)(r.default,{style:{color:t>0?"#EC4899":"#6B7280",fontSize:20,fontWeight:"bold"},children:[t,"\u4eba"]})]},e.name)}),l[8]=u,l[9]=a,l[10]=y):y=l[10],l[11]!==y?(b=(0,U.jsx)(o.default,{style:x,children:y}),l[11]=y,l[12]=b):b=l[12],l[13]!==h||l[14]!==b?(j=(0,U.jsxs)(o.default,{style:f,children:[h,b]}),l[13]=h,l[14]=b,l[15]=j):j=l[15],j}function X(e){const n=(0,t.c)(42),{participations:a,onFanPress:c}=e,u=(0,S.useColors)(),f=(0,b.useRouter)();let h,x,y,j,p,C,w,z,D,A,k,R,B,W;if(n[0]!==u||n[1]!==c||n[2]!==a||n[3]!==f){A=Symbol.for("react.early_return_sentinel");e:{const e=a.filter(Y).slice(0,10);if(0===e.length){A=null;break e}let t,b;y=o.default,n[14]===Symbol.for("react.memo_cache_sentinel")?(z={marginVertical:16},n[14]=z):z=n[14],n[15]!==u.foreground?(t={color:u.foreground,fontSize:16,fontWeight:"bold",marginBottom:12},n[15]=u.foreground,n[16]=t):t=n[16],n[17]!==a.length||n[18]!==t?(D=(0,U.jsxs)(r.default,{style:t,children:["\u4e00\u7dd2\u306b\u53c2\u52a0\u3057\u3066\u3044\u308b\u4eba (",a.length,"\u4eba)"]}),n[17]=a.length,n[18]=t,n[19]=D):D=n[19],x=s.default,C=!0,w=!1,h=o.default,n[20]===Symbol.for("react.memo_cache_sentinel")?(j={flexDirection:"row",gap:12},n[20]=j):j=n[20],n[21]!==u.foreground||n[22]!==c||n[23]!==f?(b=e=>(0,U.jsxs)(l.default,{onPress:()=>{c&&e.twitterId&&e.username?c({twitterId:e.twitterId,username:e.username,displayName:e.displayName,profileImage:e.profileImage||void 0}):e.userId&&f.push({pathname:"/profile/[userId]",params:{userId:e.userId.toString()}})},style:{alignItems:"center",width:70},activeOpacity:.7,children:[(0,U.jsxs)(o.default,{children:[(0,U.jsx)(F.OptimizedAvatar,{source:e.profileImage?{uri:e.profileImage}:void 0,size:50,fallbackColor:"#EC4899",fallbackText:e.displayName.charAt(0)}),(0,U.jsx)(o.default,{style:{position:"absolute",bottom:-2,right:-2,backgroundColor:"#EC4899",borderRadius:8,padding:2},children:(0,U.jsx)(I.default,{name:"info",size:10,color:"#fff"})})]}),(0,U.jsx)(r.default,{style:{color:u.foreground,fontSize:11,marginTop:4,textAlign:"center"},numberOfLines:1,children:e.displayName}),e.followersCount&&e.followersCount>0&&(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontSize:9,fontWeight:"bold"},numberOfLines:1,children:[e.followersCount>=1e4?`${(e.followersCount/1e4).toFixed(1)}\u4e07`:e.followersCount.toLocaleString(),"\u4eba"]}),e.username&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:9},numberOfLines:1,children:["@",e.username]})]},e.id),n[21]=u.foreground,n[22]=c,n[23]=f,n[24]=b):b=n[24],p=e.map(b)}n[0]=u,n[1]=c,n[2]=a,n[3]=f,n[4]=h,n[5]=x,n[6]=y,n[7]=j,n[8]=p,n[9]=C,n[10]=w,n[11]=z,n[12]=D,n[13]=A}else h=n[4],x=n[5],y=n[6],j=n[7],p=n[8],C=n[9],w=n[10],z=n[11],D=n[12],A=n[13];return A!==Symbol.for("react.early_return_sentinel")?A:(n[25]!==a?(k=a.filter(J).length>10&&(0,U.jsx)(o.default,{style:{alignItems:"center",justifyContent:"center",width:50},children:(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["+",a.filter(q).length-10]})}),n[25]=a,n[26]=k):k=n[26],n[27]!==h||n[28]!==j||n[29]!==p||n[30]!==k?(R=(0,U.jsxs)(h,{style:j,children:[p,k]}),n[27]=h,n[28]=j,n[29]=p,n[30]=k,n[31]=R):R=n[31],n[32]!==x||n[33]!==C||n[34]!==w||n[35]!==R?(B=(0,U.jsx)(x,{horizontal:C,showsHorizontalScrollIndicator:w,children:R}),n[32]=x,n[33]=C,n[34]=w,n[35]=R,n[36]=B):B=n[36],n[37]!==y||n[38]!==B||n[39]!==z||n[40]!==D?(W=(0,U.jsxs)(y,{style:z,children:[D,B]}),n[37]=y,n[38]=B,n[39]=z,n[40]=D,n[41]=W):W=n[41],W)}function q(e){return!e.isAnonymous&&e.userId}function J(e){return!e.isAnonymous&&e.userId}function Y(e){return!e.isAnonymous&&e.userId}function Z(e){const n=(0,t.c)(19),{participations:s,followerIds:a}=e;let c;n[0]!==a?(c=void 0===a?[]:a,n[0]=a,n[1]=c):c=n[1];const u=c,f=(0,S.useColors)(),h=(0,b.useRouter)();let x;n[2]!==u?(x=new Set(u),n[2]=u,n[3]=x):x=n[3];const y=x;let j,p;if(n[4]!==f||n[5]!==y||n[6]!==s||n[7]!==h){p=Symbol.for("react.early_return_sentinel");e:{let e;n[10]!==y?(e=(e,t)=>{const r=t.contribution||1,o=e.contribution||1;if(r!==o)return r-o;const l=!!e.userId&&y.has(e.userId),n=!!t.userId&&y.has(t.userId);return l&&!n?-1:!l&&n?1:0},n[10]=y,n[11]=e):e=n[11];const t=[...s].sort(e).slice(0,5);if(0===t.length){p=null;break e}let a,c,u;n[12]===Symbol.for("react.memo_cache_sentinel")?(a={marginVertical:16},n[12]=a):a=n[12],n[13]!==f.foreground?(c=(0,U.jsx)(r.default,{style:{color:f.foreground,fontSize:16,fontWeight:"bold",marginBottom:12},children:"\u8ca2\u732e\u5ea6\u30e9\u30f3\u30ad\u30f3\u30b0"}),n[13]=f.foreground,n[14]=c):c=n[14],n[15]!==f.foreground||n[16]!==y||n[17]!==h?(u=(e,t)=>(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"#1A1D21",borderRadius:8,padding:12,marginBottom:8,borderWidth:0===t?2:1,borderColor:0===t?"#FFD700":"#2D3139"},children:[(0,U.jsx)(o.default,{style:{width:28,height:28,borderRadius:14,backgroundColor:0===t?"#FFD700":1===t?"#C0C0C0":2===t?"#CD7F32":"#2D3139",alignItems:"center",justifyContent:"center",marginRight:12},children:(0,U.jsx)(r.default,{style:{color:t<3?"#000":"#fff",fontSize:12,fontWeight:"bold"},children:t+1})}),(0,U.jsx)(o.default,{style:{marginRight:12},children:(0,U.jsx)(F.OptimizedAvatar,{source:e.profileImage&&!e.isAnonymous?{uri:e.profileImage}:void 0,size:36,fallbackColor:"#EC4899",fallbackText:e.displayName.charAt(0)})}),(0,U.jsxs)(o.default,{style:{flex:1},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(r.default,{style:{color:f.foreground,fontSize:14,fontWeight:"600"},children:e.isAnonymous?"\u533f\u540d":e.displayName}),e.userId&&y.has(e.userId)&&(0,U.jsx)(o.default,{style:{marginLeft:6,backgroundColor:"#8B5CF6",paddingHorizontal:6,paddingVertical:2,borderRadius:8},children:(0,U.jsx)(r.default,{style:{color:f.foreground,fontSize:9,fontWeight:"bold"},children:"\u30d5\u30a9\u30ed\u30ef\u30fc"})})]}),e.username&&!e.isAnonymous&&(0,U.jsxs)(l.default,{onPress:()=>{e.userId&&h.push({pathname:"/profile/[userId]",params:{userId:e.userId.toString()}})},style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:"person",size:10,color:"#DD6500",style:{marginRight:2}}),(0,U.jsxs)(r.default,{style:{color:"#DD6500",fontSize:12},children:["@",e.username]})]})]}),(0,U.jsxs)(o.default,{style:{alignItems:"flex-end"},children:[(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontSize:18,fontWeight:"bold"},children:["+",e.contribution||1]}),(0,U.jsx)(r.default,{style:{color:"#6B7280",fontSize:10},children:e.companionCount>0?`(\u672c\u4eba+${e.companionCount}\u4eba)`:""}),e.followersCount&&e.followersCount>0&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:10,marginTop:2},children:[e.followersCount>=1e4?`${(e.followersCount/1e4).toFixed(1)}\u4e07`:e.followersCount.toLocaleString(),"\u30d5\u30a9\u30ed\u30ef\u30fc"]})]})]},e.id),n[15]=f.foreground,n[16]=y,n[17]=h,n[18]=u):u=n[18],j=(0,U.jsxs)(o.default,{style:a,children:[c,t.map(u)]})}n[4]=f,n[5]=y,n[6]=s,n[7]=h,n[8]=j,n[9]=p}else j=n[8],p=n[9];return p!==Symbol.for("react.early_return_sentinel")?p:j}function ee(e){const n=(0,t.c)(68),{participation:s,onCheer:a,cheerCount:c,onDM:u,companions:f}=e,h=(0,S.useColors)(),x=(0,b.useRouter)();let y,j,p,C,w,z,D;n[0]===Symbol.for("react.memo_cache_sentinel")?(y={backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},n[0]=y):y=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(j={flexDirection:"row",alignItems:"center",marginBottom:8},n[1]=j):j=n[1],n[2]!==s.isAnonymous||n[3]!==s.profileImage?(p=s.profileImage&&!s.isAnonymous?{uri:s.profileImage}:void 0,n[2]=s.isAnonymous,n[3]=s.profileImage,n[4]=p):p=n[4],n[5]!==s.displayName?(C=s.displayName.charAt(0),n[5]=s.displayName,n[6]=C):C=n[6],n[7]!==p||n[8]!==C?(w=(0,U.jsx)(F.OptimizedAvatar,{source:p,size:40,fallbackColor:"#EC4899",fallbackText:C}),n[7]=p,n[8]=C,n[9]=w):w=n[9],n[10]===Symbol.for("react.memo_cache_sentinel")?(z={marginLeft:12,flex:1},n[10]=z):z=n[10],n[11]!==h.foreground?(D={color:h.foreground,fontSize:16,fontWeight:"600"},n[11]=h.foreground,n[12]=D):D=n[12];const A=s.isAnonymous?"\u533f\u540d":s.displayName;let k,R,B,W,E,T,v,P,L;n[13]!==D||n[14]!==A?(k=(0,U.jsx)(r.default,{style:D,children:A}),n[13]=D,n[14]=A,n[15]=k):k=n[15],n[16]===Symbol.for("react.memo_cache_sentinel")?(R={flexDirection:"row",alignItems:"center"},n[16]=R):R=n[16],n[17]!==s.isAnonymous||n[18]!==s.userId||n[19]!==s.username||n[20]!==x?(B=s.username&&!s.isAnonymous&&(0,U.jsxs)(l.default,{onPress:()=>{s.userId&&x.push({pathname:"/profile/[userId]",params:{userId:s.userId.toString()}})},style:{flexDirection:"row",alignItems:"center",marginRight:8},children:[(0,U.jsx)(I.default,{name:"person",size:12,color:"#DD6500",style:{marginRight:2}}),(0,U.jsxs)(r.default,{style:{color:"#DD6500",fontSize:14},children:["@",s.username]})]}),n[17]=s.isAnonymous,n[18]=s.userId,n[19]=s.username,n[20]=x,n[21]=B):B=n[21],n[22]!==s.prefecture?(W=s.prefecture&&(0,U.jsxs)(r.default,{style:{color:"#6B7280",fontSize:12},children:["\ud83d\udccd",s.prefecture]}),n[22]=s.prefecture,n[23]=W):W=n[23],n[24]!==s.followersCount?(E=s.followersCount&&s.followersCount>0&&(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontSize:11,marginLeft:8},children:[s.followersCount.toLocaleString()," \u30d5\u30a9\u30ed\u30ef\u30fc"]}),n[24]=s.followersCount,n[25]=E):E=n[25],n[26]!==B||n[27]!==W||n[28]!==E?(T=(0,U.jsxs)(o.default,{style:R,children:[B,W,E]}),n[26]=B,n[27]=W,n[28]=E,n[29]=T):T=n[29],n[30]!==T||n[31]!==k?(v=(0,U.jsxs)(o.default,{style:z,children:[k,T]}),n[30]=T,n[31]=k,n[32]=v):v=n[32],n[33]===Symbol.for("react.memo_cache_sentinel")?(P={alignItems:"flex-end"},n[33]=P):P=n[33],n[34]===Symbol.for("react.memo_cache_sentinel")?(L={color:"#EC4899",fontSize:14,fontWeight:"bold"},n[34]=L):L=n[34];const _=s.contribution||1;let $,H,N,M,V,O,G,Q,K;n[35]!==_?($=(0,U.jsx)(o.default,{style:P,children:(0,U.jsxs)(r.default,{style:L,children:["+",_,"\u4eba"]})}),n[35]=_,n[36]=$):$=n[36],n[37]!==v||n[38]!==$||n[39]!==w?(H=(0,U.jsxs)(o.default,{style:j,children:[w,v,$]}),n[37]=v,n[38]=$,n[39]=w,n[40]=H):H=n[40],n[41]!==s.message?(N=s.message&&(0,U.jsx)(r.default,{style:{color:"#E5E7EB",fontSize:15,lineHeight:22,marginBottom:12},children:s.message}),n[41]=s.message,n[42]=N):N=n[42],n[43]!==h.background||n[44]!==h.foreground||n[45]!==f?(M=f&&f.length>0&&(0,U.jsxs)(o.default,{style:{backgroundColor:h.background,borderRadius:8,padding:12,marginBottom:12},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:8},children:"\u4e00\u7dd2\u306b\u53c2\u52a0\u3059\u308b\u53cb\u4eba:"}),(0,U.jsx)(o.default,{style:{flexDirection:"row",flexWrap:"wrap",gap:8},children:f.map(e=>(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"#1A1D21",borderRadius:16,paddingHorizontal:10,paddingVertical:6,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(o.default,{style:{marginRight:6},children:(0,U.jsx)(F.OptimizedAvatar,{source:e.profileImage?{uri:e.profileImage}:void 0,size:20,fallbackColor:"#8B5CF6",fallbackText:e.displayName.charAt(0)})}),(0,U.jsx)(r.default,{style:{color:h.foreground,fontSize:12},children:e.displayName}),e.twitterUsername&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:11,marginLeft:4},children:["@",e.twitterUsername]})]},e.id))})]}),n[43]=h.background,n[44]=h.foreground,n[45]=f,n[46]=M):M=n[46],n[47]===Symbol.for("react.memo_cache_sentinel")?(V={flexDirection:"row",alignItems:"center",justifyContent:"flex-end",marginTop:8,gap:8},n[47]=V):V=n[47],n[48]!==u||n[49]!==s.isAnonymous||n[50]!==s.userId?(O=u&&s.userId&&!s.isAnonymous&&(0,U.jsxs)(l.default,{onPress:()=>u(s.userId),style:{flexDirection:"row",alignItems:"center",backgroundColor:"#2D3139",paddingHorizontal:12,paddingVertical:6,borderRadius:16},children:[(0,U.jsx)(r.default,{style:{fontSize:16,marginRight:4},children:"\ud83d\udcac"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:"DM"})]}),n[48]=u,n[49]=s.isAnonymous,n[50]=s.userId,n[51]=O):O=n[51],n[52]===Symbol.for("react.memo_cache_sentinel")?(G={flexDirection:"row",alignItems:"center",backgroundColor:"#2D3139",paddingHorizontal:12,paddingVertical:6,borderRadius:16},n[52]=G):G=n[52],n[53]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,U.jsx)(r.default,{style:{fontSize:16,marginRight:4},children:"\ud83d\udc4f"}),n[53]=Q):Q=n[53],n[54]===Symbol.for("react.memo_cache_sentinel")?(K={color:"#9CA3AF",fontSize:12},n[54]=K):K=n[54];const X=c&&c>0?` (${c})`:"";let q,J,Y,Z;return n[55]!==X?(q=(0,U.jsxs)(r.default,{style:K,children:["\u30a8\u30fc\u30eb",X]}),n[55]=X,n[56]=q):q=n[56],n[57]!==a||n[58]!==q?(J=(0,U.jsxs)(l.default,{onPress:a,style:G,children:[Q,q]}),n[57]=a,n[58]=q,n[59]=J):J=n[59],n[60]!==O||n[61]!==J?(Y=(0,U.jsxs)(o.default,{style:V,children:[O,J]}),n[60]=O,n[61]=J,n[62]=Y):Y=n[62],n[63]!==H||n[64]!==N||n[65]!==M||n[66]!==Y?(Z=(0,U.jsxs)(o.default,{style:y,children:[H,N,M,Y]}),n[63]=H,n[64]=N,n[65]=M,n[66]=Y,n[67]=Z):Z=n[67],Z}function te(){const e=(0,S.useColors)(),t=(0,b.useRouter)(),{id:f}=(0,b.useLocalSearchParams)(),{user:F,login:V}=(0,w.useAuth)(),[q,J]=(0,j.useState)(""),[Y,te]=(0,j.useState)(""),[re,oe]=(0,j.useState)(0),[le,ne]=(0,j.useState)(""),[ie,se]=(0,j.useState)(!1),[ae,de]=(0,j.useState)(!1),[ce,ue]=(0,j.useState)(!0),[fe,ge]=(0,j.useState)("all"),[he,me]=(0,j.useState)(!1),[xe,ye]=(0,j.useState)(!1),[be,je]=(0,j.useState)(!1),[pe,Ce]=(0,j.useState)(!1),[we,Se]=(0,j.useState)(null),ze=(0,j.useRef)(null),Ie=(0,j.useRef)(null),[De,Ae]=(0,j.useState)([]),[ke,Re]=(0,j.useState)(!1),[Be,We]=(0,j.useState)(""),[Fe,Ee]=(0,j.useState)(""),[Te,ve]=(0,j.useState)(!1),[Pe,Le]=(0,j.useState)(null),[$e,He]=(0,j.useState)(null),[Ne,Me]=(0,j.useState)(null),[Ue,Ve]=(0,j.useState)(null),[Oe,Ge]=(0,j.useState)(!1),[Qe,Ke]=(0,j.useState)(null),Xe=parseInt(f||"0",10),{data:qe,isLoading:Je}=C.trpc.events.getById.useQuery({id:Xe}),{data:Ye,isLoading:Ze,refetch:et}=C.trpc.participations.listByEvent.useQuery({eventId:Xe}),{data:tt}=((0,j.useMemo)(()=>{if(!F||!Ye)return null;const e=F.openId?.startsWith("twitter:")?F.openId.replace("twitter:",""):F.openId;return Ye.find(t=>t.twitterId===e)||null},[F,Ye]),(0,j.useMemo)(()=>{if(!Ye)return{recent24h:0,recent1h:0,isHot:!1};const e=new Date,t=Ye.filter(t=>{const r=new Date(t.createdAt);return e.getTime()-r.getTime()<864e5}).length,r=Ye.filter(t=>{const r=new Date(t.createdAt);return e.getTime()-r.getTime()<36e5}).length;return{recent24h:t,recent1h:r,isHot:t>=5||r>=2}},[Ye]),C.trpc.companions.forChallenge.useQuery({challengeId:Xe},{enabled:Xe>0})),rt=qe?.hostUserId,{data:ot}=C.trpc.follows.isFollowing.useQuery({followeeId:rt},{enabled:!!F&&!!rt&&rt!==F.id}),lt=C.trpc.follows.follow.useMutation({onSuccess:()=>{c.default.alert("\u30d5\u30a9\u30ed\u30fc\u3057\u307e\u3057\u305f","\u65b0\u7740\u30c1\u30e3\u30ec\u30f3\u30b8\u306e\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308c\u307e\u3059")}}),nt=C.trpc.follows.unfollow.useMutation(),{data:it}=C.trpc.follows.followerIds.useQuery({userId:rt},{enabled:!!rt}),[st,at]=(0,j.useState)(!1),[dt,ct]=(0,j.useState)(null),[ut,ft]=(0,j.useState)(!1),gt=(C.trpc.ogp.generateChallengeOgp.useMutation(),C.trpc.participations.create.useMutation({onSuccess:async()=>{ct({name:F?.name||"",username:F?.username||void 0,image:F?.profileImage||void 0,message:q||void 0,contribution:1+De.length}),J(""),oe(0),ne(""),Ae([]),se(!1),je(!0),await et(),setTimeout(()=>{Ie.current?.measureLayout(ze.current,(e,t)=>{ze.current?.scrollTo({y:t-50,animated:!0})},()=>{ze.current?.scrollToEnd({animated:!0})})},600),setTimeout(()=>{at(!0)},2e3)},onError:e=>{console.error("Participation error:",e),c.default.alert("\u53c2\u52a0\u8868\u660e\u306b\u5931\u6557\u3057\u307e\u3057\u305f",e.message||"\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044")}})),ht=C.trpc.participations.createAnonymous.useMutation({onSuccess:()=>{J(""),te(""),oe(0),ne(""),Ae([]),se(!1),et(),at(!0)}}),mt=(C.trpc.participations.update.useMutation({onSuccess:async()=>{J(""),oe(0),ne(""),Ae([]),se(!1),Ce(!1),Se(null),await et(),c.default.alert("\u66f4\u65b0\u5b8c\u4e86","\u53c2\u52a0\u8868\u660e\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")},onError:e=>{console.error("Update error:",e),c.default.alert("\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f",e.message||"\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044")}}),C.trpc.cheers.send.useMutation({onSuccess:()=>{c.default.alert("\ud83d\udc4f","\u30a8\u30fc\u30eb\u3092\u9001\u308a\u307e\u3057\u305f\uff01")},onError:e=>{c.default.alert("\u30a8\u30e9\u30fc",e.message||"\u30a8\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}})),xt=async e=>{if(!e.trim())return He(null),void Le(null);ve(!0),Le(null);try{const t=await(0,z.lookupTwitterUser)(e.trim());if(!t.ok)return 404===t.status?Le("\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"):Le((0,z.getErrorMessage)(t)),void He(null);t.data&&(He({id:t.data.id,name:t.data.name,username:t.data.username,profileImage:t.data.profile_image_url||""}),Be.trim()||We(t.data.name))}catch(e){console.error("Twitter lookup error:",e),Le("\u691c\u7d22\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),He(null)}finally{ve(!1)}},yt=e=>{const t=De.filter(t=>t.id!==e);Ae(t),oe(Math.max(0,t.length))};if(Je)return(0,U.jsx)(E.EventDetailSkeleton,{});if(!qe)return(0,U.jsx)(p.ScreenContainer,{containerClassName:"bg-background",children:(0,U.jsx)(o.default,{style:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:e.background},children:(0,U.jsx)(r.default,{style:{color:"#9CA3AF"},children:"\u30c1\u30e3\u30ec\u30f3\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"})})});const bt=new Date(qe.eventDate),jt=`${bt.getFullYear()}\u5e74${bt.getMonth()+1}\u6708${bt.getDate()}\u65e5`,pt=O[qe.goalType||"attendance"]||O.attendance,Ct=qe.goalUnit||pt.unit,wt=qe.currentValue||0,St=qe.goalValue||100,zt=Math.min(wt/St*100,100),It=Math.max(St-wt,0),Dt={};Ye&&Ye.forEach(e=>{e.prefecture&&(Dt[e.prefecture]=(Dt[e.prefecture]||0)+(e.contribution||1))});return(0,U.jsxs)(p.ScreenContainer,{edges:["top","left","right"],containerClassName:"bg-background",children:[(0,U.jsx)(a.default,{behavior:"height",style:{flex:1},children:(0,U.jsxs)(s.default,{ref:ze,style:{flex:1,backgroundColor:e.background},children:[(0,U.jsx)(k.AppHeader,{title:"\u541b\u6597\u308a\u3093\u304f\u306e\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058",showCharacters:!1,showMenu:!0}),(0,U.jsxs)(D.LinearGradient,{colors:["#EC4899","#8B5CF6"],start:{x:0,y:0},end:{x:1,y:1},style:{marginHorizontal:16,borderRadius:16,padding:20},children:[(0,U.jsxs)(l.default,{onPress:()=>Ge(!0),style:{flexDirection:"row",alignItems:"center",marginBottom:16},activeOpacity:.7,children:[qe.hostProfileImage?(0,U.jsx)(y.Image,{source:{uri:qe.hostProfileImage},style:{width:56,height:56,borderRadius:28,borderWidth:2,borderColor:"#fff"}}):(0,U.jsx)(o.default,{style:{width:56,height:56,borderRadius:28,backgroundColor:"rgba(255,255,255,0.3)",alignItems:"center",justifyContent:"center",borderWidth:2,borderColor:"#fff"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:24,fontWeight:"bold"},children:qe.hostName.charAt(0)})}),(0,U.jsxs)(o.default,{style:{marginLeft:12,flex:1},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold"},children:qe.hostName}),(0,U.jsx)(I.default,{name:"info-outline",size:16,color:"rgba(255,255,255,0.6)",style:{marginLeft:6}})]}),qe.hostUsername&&(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:"person",size:12,color:"rgba(255,255,255,0.8)",style:{marginRight:3}}),(0,U.jsxs)(r.default,{style:{color:"rgba(255,255,255,0.8)",fontSize:14},children:["@",qe.hostUsername]})]}),null!==qe.hostFollowersCount&&(0,U.jsxs)(r.default,{style:{color:"rgba(255,255,255,0.7)",fontSize:12},children:[qe.hostFollowersCount?.toLocaleString()," \u30d5\u30a9\u30ed\u30ef\u30fc"]})]})]}),(0,U.jsx)(o.default,{style:{flexDirection:"row",justifyContent:"flex-end",marginBottom:16,marginTop:-8},children:F&&rt&&rt!==F.id&&(0,U.jsx)(l.default,{onPress:()=>{F?rt&&(ot?nt.mutate({followeeId:rt}):lt.mutate({followeeId:rt,followeeName:qe?.hostName,followeeImage:qe?.hostProfileImage||void 0})):c.default.alert("\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059","\u30d5\u30a9\u30ed\u30fc\u3059\u308b\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044")},style:{paddingHorizontal:16,paddingVertical:8,borderRadius:20,backgroundColor:ot?"rgba(255,255,255,0.2)":"#fff"},children:(0,U.jsx)(r.default,{style:{color:ot?"#fff":"#EC4899",fontSize:13,fontWeight:"bold"},children:ot?"\u30d5\u30a9\u30ed\u30fc\u4e2d":"\u30d5\u30a9\u30ed\u30fc"})})}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:22,fontWeight:"bold"},children:qe.title})]}),(0,U.jsx)(o.default,{style:{paddingHorizontal:16,paddingTop:16},children:(0,U.jsx)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,borderWidth:1,borderColor:"#2D3139",overflow:"hidden"},children:(0,U.jsx)(D.LinearGradient,{colors:["rgba(236, 72, 153, 0.1)","rgba(139, 92, 246, 0.1)"],start:{x:0,y:0},end:{x:1,y:0},style:{paddingVertical:4},children:(0,U.jsx)(A.Countdown,{targetDate:qe.eventDate})})})}),(0,U.jsxs)(o.default,{style:{padding:16},children:[(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:20,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(o.default,{style:{alignItems:"center",marginBottom:16},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u73fe\u5728\u306e\u9054\u6210\u72b6\u6cc1"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"baseline"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:48,fontWeight:"bold"},children:wt}),(0,U.jsxs)(r.default,{style:{color:"#6B7280",fontSize:20,marginLeft:4},children:["/ ",St,Ct]})]})]}),(0,U.jsx)(o.default,{style:{height:12,backgroundColor:"#2D3139",borderRadius:6,overflow:"hidden",marginBottom:8},children:(0,U.jsx)(D.LinearGradient,{colors:["#EC4899","#8B5CF6"],start:{x:0,y:0},end:{x:1,y:0},style:{height:"100%",width:`${zt}%`,borderRadius:6}})}),zt>=100?(0,U.jsxs)(o.default,{style:{alignItems:"center"},children:[(0,U.jsx)(H.TalkingCharacter,{size:80,messages:H.ACHIEVEMENT_MESSAGES,bubblePosition:"top"}),(0,U.jsx)(l.default,{onPress:()=>t.push(`/achievement/${Xe}`),style:{backgroundColor:"#EC4899",paddingVertical:12,paddingHorizontal:24,borderRadius:24,alignItems:"center",marginTop:8},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:"\ud83c\udf89 \u9054\u6210\u8a18\u5ff5\u30da\u30fc\u30b8\u3092\u898b\u308b"})})]}):(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:14,textAlign:"center"},children:["\u3042\u3068",(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontWeight:"bold"},children:[It,Ct]}),"\u3067\u76ee\u6a19\u9054\u6210\uff01"]}),(0,U.jsx)(T.JapanDeformedMap,{prefectureCounts:Dt,onPrefecturePress:e=>Me(e),onRegionPress:(e,t)=>Ve({name:e,prefectures:t})}),(0,U.jsx)(L.GrowthTrajectoryChart,{data:(()=>{if(!Ye||0===Ye.length)return[];const e=new Map;let t=0;return[...Ye].sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()).forEach((r,o)=>{const l=new Date(r.createdAt).toISOString().split('T')[0];let n;t+=r.contribution||1,1===t?n="\u6700\u521d\u306e\u53c2\u52a0\u8005!":10===t?n="10\u4eba\u9054\u6210!":50===t?n="50\u4eba\u9054\u6210!":100===t?n="100\u4eba\u9054\u6210!":500===t?n="500\u4eba\u9054\u6210!":1e3===t&&(n="1000\u4eba\u9054\u6210!"),e.set(l,{count:t,milestone:n})}),Array.from(e.entries()).map(([e,t])=>({date:new Date(e),count:t.count,milestone:t.milestone}))})(),targetCount:St,title:"\u52d5\u54e1\u307e\u3067\u306e\u8ecc\u8de1"})]}),(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:16,marginTop:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(I.default,{name:"event",size:20,color:"#DD6500"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,marginLeft:8},children:jt})]}),qe.venue&&(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(I.default,{name:"place",size:20,color:"#DD6500"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,marginLeft:8},children:qe.venue})]}),qe.description&&(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:15,lineHeight:22},children:qe.description})]}),(qe.ticketPresale||qe.ticketDoor||qe.ticketUrl)&&(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:16,marginTop:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(I.default,{name:"confirmation-number",size:20,color:"#EC4899"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold",marginLeft:8},children:"\u30c1\u30b1\u30c3\u30c8\u60c5\u5831"})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:16},children:[qe.ticketPresale&&(0,U.jsxs)(o.default,{style:{flex:1,backgroundColor:e.background,borderRadius:12,padding:12},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:4},children:"\u524d\u58f2\u308a\u5238"}),(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold"},children:["\xa5",qe.ticketPresale.toLocaleString()]})]}),qe.ticketDoor&&(0,U.jsxs)(o.default,{style:{flex:1,backgroundColor:e.background,borderRadius:12,padding:12},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:4},children:"\u5f53\u65e5\u5238"}),(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold"},children:["\xa5",qe.ticketDoor.toLocaleString()]})]})]}),qe.ticketUrl&&(0,U.jsxs)(l.default,{onPress:()=>h.default.openURL(qe.ticketUrl),style:{backgroundColor:"#EC4899",borderRadius:12,padding:14,marginTop:12,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"open-in-new",size:18,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u30c1\u30b1\u30c3\u30c8\u3092\u8cfc\u5165\u3059\u308b"})]})]}),F&&qe.hostUserId===F.id&&(0,U.jsxs)(o.default,{style:{gap:12,marginTop:16},children:[(0,U.jsxs)(l.default,{onPress:()=>t.push(`/dashboard/${Xe}`),style:{backgroundColor:"#10B981",borderRadius:12,padding:14,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"bar-chart",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u7d71\u8a08\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"})]}),(0,U.jsxs)(l.default,{onPress:()=>t.push(`/manage-comments/${Xe}`),style:{backgroundColor:"#8B5CF6",borderRadius:12,padding:14,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"star",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u30b3\u30e1\u30f3\u30c8\u7ba1\u7406\uff08\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\uff09"})]}),zt>=100&&(0,U.jsxs)(l.default,{onPress:()=>{c.default.alert("\u9054\u6210\u8a18\u5ff5\u30da\u30fc\u30b8\u3092\u4f5c\u6210","\u76ee\u6a19\u9054\u6210\u3092\u8a18\u5ff5\u3057\u3066\u3001\u53c2\u52a0\u8005\u5168\u54e1\u306e\u540d\u524d\u3092\u63b2\u8f09\u3057\u305f\u8a18\u5ff5\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u304b\uff1f",[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u4f5c\u6210\u3059\u308b",onPress:async()=>{t.push(`/achievement/${Xe}`)}}])},style:{backgroundColor:"#EC4899",borderRadius:12,padding:14,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"celebration",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u9054\u6210\u8a18\u5ff5\u30da\u30fc\u30b8\u3092\u4f5c\u6210"})]}),(0,U.jsxs)(l.default,{onPress:()=>t.push(`/collaborators/${Xe}`),style:{backgroundColor:"#3B82F6",borderRadius:12,padding:14,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"group-add",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u5171\u540c\u4e3b\u50ac\u8005\u7ba1\u7406"})]})]}),(0,U.jsxs)(l.default,{onPress:()=>t.push(`/invite/${Xe}`),style:{backgroundColor:"#DD6500",borderRadius:12,padding:14,marginTop:16,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,U.jsx)(I.default,{name:"person-add",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u53cb\u9054\u3092\u62db\u5f85\u3059\u308b"})]}),(0,U.jsx)($.TicketTransferSection,{challengeId:Xe,challengeTitle:qe.title}),Ye&&Ye.length>0&&(0,U.jsx)(K,{participations:Ye}),Ye&&Ye.length>0&&(0,U.jsx)(X,{participations:Ye,onFanPress:e=>Ke(e)}),Ye&&Ye.length>0&&(0,U.jsx)(Z,{participations:Ye,followerIds:it||[]}),Ye&&Ye.length>=3&&(0,U.jsx)(o.default,{style:{marginTop:16,marginHorizontal:16},children:(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:16},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8},children:[(0,U.jsx)(I.default,{name:"emoji-events",size:24,color:"#FFD700"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold"},children:"\u8ca2\u732e\u30c8\u30c3\u30d73"})]}),(0,U.jsx)(_.TopThreeRanking,{participants:Ye})]})}),Ye&&Ye.length>0&&(0,U.jsxs)(o.default,{ref:Ie,style:{marginTop:16},children:[be&&(0,U.jsxs)(o.default,{style:{backgroundColor:"#10B981",borderRadius:16,padding:20,marginBottom:20,borderWidth:3,borderColor:"#34D399",shadowColor:"#10B981",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:8},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(o.default,{style:{width:48,height:48,borderRadius:24,backgroundColor:"rgba(255,255,255,0.2)",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)(I.default,{name:"check-circle",size:32,color:e.foreground})}),(0,U.jsxs)(o.default,{style:{marginLeft:16,flex:1},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:20,fontWeight:"bold"},children:"\ud83c\udf89 \u53c2\u52a0\u8868\u660e\u5b8c\u4e86\uff01"}),(0,U.jsx)(r.default,{style:{color:"rgba(255,255,255,0.9)",fontSize:14,marginTop:4},children:"\u3042\u306a\u305f\u306e\u5fdc\u63f4\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u53cd\u6620\u3055\u308c\u307e\u3057\u305f"})]})]}),(0,U.jsx)(o.default,{style:{backgroundColor:"rgba(255,255,255,0.15)",borderRadius:12,padding:12},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,textAlign:"center"},children:"\u2b07\ufe0f \u4e0b\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u3042\u306a\u305f\u306e\u6295\u7a3f\u3092\u78ba\u8a8d\u3057\u3066\u306d\uff01"})})]}),(()=>{const t=Ye.filter(e=>"male"===e.gender).length,l=Ye.filter(e=>"female"===e.gender).length,n=Ye.filter(e=>!e.gender||"unspecified"===e.gender).length,s=Ye.length,a=s>0?Math.round(t/s*100):0,c=s>0?Math.round(l/s*100):0,u=s>0?Math.round(n/s*100):0;return(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:12,marginBottom:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:8},children:[(0,U.jsx)(I.default,{name:"people",size:16,color:"#EC4899"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u7537\u5973\u6bd4"})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",height:24,borderRadius:12,overflow:"hidden",backgroundColor:e.background,marginBottom:8},children:[t>0&&(0,U.jsx)(o.default,{style:{width:`${a}%`,backgroundColor:"#3B82F6",justifyContent:"center",alignItems:"center"},children:a>=15&&(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:10,fontWeight:"bold"},children:[a,"%"]})}),l>0&&(0,U.jsx)(o.default,{style:{width:`${c}%`,backgroundColor:"#EC4899",justifyContent:"center",alignItems:"center"},children:c>=15&&(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:10,fontWeight:"bold"},children:[c,"%"]})}),n>0&&(0,U.jsx)(o.default,{style:{width:`${u}%`,backgroundColor:"#6B7280",justifyContent:"center",alignItems:"center"},children:u>=15&&(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:10,fontWeight:"bold"},children:[u,"%"]})})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",justifyContent:"center",gap:16},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(o.default,{style:{width:12,height:12,borderRadius:6,backgroundColor:"#3B82F6",marginRight:6}}),(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["\u7537\u6027 ",t,"\u4eba"]})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(o.default,{style:{width:12,height:12,borderRadius:6,backgroundColor:"#EC4899",marginRight:6}}),(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["\u5973\u6027 ",l,"\u4eba"]})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(o.default,{style:{width:12,height:12,borderRadius:6,backgroundColor:"#6B7280",marginRight:6}}),(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["\u672a\u8a2d\u5b9a ",n,"\u4eba"]})]})]})]})})(),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[(0,U.jsxs)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:["\u5fdc\u63f4\u30e1\u30c3\u30bb\u30fc\u30b8 (",Ye.length,"\u4ef6)"]}),(0,U.jsxs)(l.default,{onPress:()=>me(!he),style:{backgroundColor:"#1A1D21",borderRadius:8,paddingHorizontal:12,paddingVertical:8,flexDirection:"row",alignItems:"center",borderWidth:1,borderColor:"all"!==fe?"#EC4899":"#2D3139"},children:[(0,U.jsx)(I.default,{name:"filter-list",size:16,color:"all"!==fe?"#EC4899":"#9CA3AF"}),(0,U.jsx)(r.default,{style:{color:"all"!==fe?"#EC4899":"#9CA3AF",fontSize:12,marginLeft:4},children:"all"===fe?"\u5730\u57df":fe})]})]}),he&&(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:12,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(s.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{marginBottom:8},children:[(0,U.jsx)(l.default,{onPress:()=>{ge("all"),me(!1)},style:{backgroundColor:"all"===fe?"#EC4899":"#2D3139",borderRadius:16,paddingHorizontal:12,paddingVertical:6,marginRight:8},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:12},children:"\u3059\u3079\u3066"})}),G.map(t=>(0,U.jsx)(l.default,{onPress:()=>{ge(t.name),me(!1)},style:{backgroundColor:fe===t.name?"#EC4899":"#2D3139",borderRadius:16,paddingHorizontal:12,paddingVertical:6,marginRight:8},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:12},children:t.name})},t.name))]}),(0,U.jsx)(o.default,{style:{flexDirection:"row",flexWrap:"wrap",gap:8},children:Q.map(e=>(0,U.jsx)(l.default,{onPress:()=>{ge(e),me(!1)},style:{backgroundColor:fe===e?"#EC4899":"#0D1117",borderRadius:8,paddingHorizontal:10,paddingVertical:6},children:(0,U.jsx)(r.default,{style:{color:fe===e?"#fff":"#9CA3AF",fontSize:11},children:e})},e))})]}),Ye.filter(e=>{if("all"===fe)return!0;const t=G.find(e=>e.name===fe);return t?t.prefectures.includes(e.prefecture||""):e.prefecture===fe}).map(l=>{const n=tt?.filter(e=>e.participationId===l.id)||[],s=F&&l.userId===F.id;return(0,U.jsxs)(o.default,{style:s&&be?{borderWidth:3,borderColor:"#10B981",borderRadius:16,marginBottom:8,shadowColor:"#10B981",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:4}:void 0,children:[s&&be&&(0,U.jsxs)(o.default,{style:{backgroundColor:"#10B981",paddingVertical:10,paddingHorizontal:16,borderTopLeftRadius:13,borderTopRightRadius:13,flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:"star",size:18,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u2728 \u3042\u306a\u305f\u306e\u53c2\u52a0\u8868\u660e\u304c\u53cd\u6620\u3055\u308c\u307e\u3057\u305f\uff01"})]}),(0,U.jsx)(ee,{participation:l,onCheer:()=>{return e=l.id,t=l.userId,void(F?mt.mutate({toParticipationId:e,toUserId:t,challengeId:Xe,emoji:"\ud83d\udc4f"}):c.default.alert("\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059","\u30a8\u30fc\u30eb\u3092\u9001\u308b\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"));var e,t},onDM:e=>t.push(`/messages/${e}?challengeId=${Xe}`),challengeId:Xe,companions:n})]},l.id)}),0===Ye.filter(e=>{if("all"===fe)return!0;const t=G.find(e=>e.name===fe);return t?t.prefectures.includes(e.prefecture||""):e.prefecture===fe}).length&&"all"!==fe&&(0,U.jsxs)(o.default,{style:{alignItems:"center",paddingVertical:24},children:[(0,U.jsx)(I.default,{name:"search-off",size:48,color:"#6B7280"}),(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:8},children:[fe,"\u304b\u3089\u306e\u53c2\u52a0\u8005\u306f\u307e\u3060\u3044\u307e\u305b\u3093"]})]})]}),ie?(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:16,marginTop:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold",marginBottom:16},children:"\u53c2\u52a0\u8868\u660e"}),F&&(0,U.jsxs)(o.default,{style:{marginBottom:16,backgroundColor:e.background,borderRadius:12,padding:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:8},children:"\u53c2\u52a0\u8005"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",gap:12},children:[F.profileImage?(0,U.jsx)(y.Image,{source:{uri:F.profileImage},style:{width:48,height:48,borderRadius:24},contentFit:"cover"}):(0,U.jsx)(o.default,{style:{width:48,height:48,borderRadius:24,backgroundColor:"#EC4899",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:20,fontWeight:"bold"},children:(F.name||F.username||"\u30b2")?.charAt(0).toUpperCase()})}),(0,U.jsxs)(o.default,{style:{flex:1},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"600"},children:F.name||F.username||"\u30b2\u30b9\u30c8"}),F.username&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:2},children:["@",F.username]}),void 0!==F.followersCount&&F.followersCount>0&&(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontSize:12,marginTop:4},children:[F.followersCount.toLocaleString()," \u30d5\u30a9\u30ed\u30ef\u30fc"]})]})]})]}),!F&&(0,U.jsxs)(o.default,{style:{marginBottom:16,backgroundColor:"rgba(236, 72, 153, 0.1)",borderRadius:12,padding:16,borderWidth:1,borderColor:"#EC4899"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:14,fontWeight:"600",marginBottom:8},children:"\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:13,marginBottom:12},children:"\u53c2\u52a0\u8868\u660e\u306b\u306fTwitter\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059\u3002"}),(0,U.jsxs)(l.default,{onPress:()=>V(),style:{backgroundColor:"#1DA1F2",borderRadius:8,paddingVertical:12,paddingHorizontal:16,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8},children:[(0,U.jsx)(I.default,{name:"login",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"600"},children:"X\uff08Twitter\uff09\u3067\u30ed\u30b0\u30a4\u30f3"})]})]}),(0,U.jsxs)(o.default,{style:{marginBottom:16},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:8},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u90fd\u9053\u5e9c\u770c"}),(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:12,marginLeft:6,fontWeight:"bold"},children:"\u5fc5\u9808"})]}),(0,U.jsxs)(l.default,{onPress:()=>de(!ae),style:{backgroundColor:e.background,borderRadius:8,padding:12,borderWidth:1,borderColor:le?"#22C55E":"#EC4899",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,U.jsx)(r.default,{style:{color:le?"#fff":"#6B7280"},children:le||"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,U.jsx)(I.default,{name:"arrow-drop-down",size:24,color:"#6B7280"})]}),ae&&(0,U.jsx)(o.default,{style:{backgroundColor:e.background,borderRadius:8,marginTop:4,maxHeight:200,borderWidth:1,borderColor:"#2D3139"},children:(0,U.jsx)(s.default,{nestedScrollEnabled:!0,children:Q.map(t=>(0,U.jsx)(l.default,{onPress:()=>{ne(t),de(!1)},style:{padding:12,borderBottomWidth:1,borderBottomColor:"#2D3139"},children:(0,U.jsx)(r.default,{style:{color:e.foreground},children:t})},t))})})]}),(0,U.jsxs)(o.default,{style:{marginBottom:16},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:"\u4e00\u7dd2\u306b\u53c2\u52a0\u3059\u308b\u53cb\u4eba\uff08\u4efb\u610f\uff09"}),(0,U.jsxs)(l.default,{onPress:()=>Re(!0),style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:12,paddingVertical:8,flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:"person-add",size:16,color:"#EC4899"}),(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:14,marginLeft:6},children:"\u53cb\u4eba\u3092\u8ffd\u52a0"})]})]}),ke&&(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:"#EC4899"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:4},children:"Twitter\u30e6\u30fc\u30b6\u30fc\u540d\u307e\u305f\u306fURL"}),(0,U.jsx)(r.default,{style:{color:"#6B7280",fontSize:12,marginBottom:8},children:"@username \u307e\u305f\u306f https://x.com/username"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:8,marginBottom:12},children:[(0,U.jsx)(n.default,{value:Fe,onChangeText:e=>{Ee(e),He(null),Le(null)},placeholder:"@idolfunch \u307e\u305f\u306f https://x.com/idolfunch",placeholderTextColor:"#6B7280",autoCapitalize:"none",style:{flex:1,backgroundColor:"#1A1D21",borderRadius:8,padding:12,color:"#1DA1F2",borderWidth:1,borderColor:$e?"#22C55E":"#2D3139"}}),(0,U.jsx)(l.default,{onPress:()=>xt(Fe),disabled:Te||!Fe.trim(),style:{backgroundColor:Te?"#2D3139":"#1DA1F2",borderRadius:8,paddingHorizontal:16,justifyContent:"center",alignItems:"center",opacity:Fe.trim()?1:.5},children:Te?(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u691c\u7d22\u4e2d..."}):(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold"},children:"\u691c\u7d22"})})]}),Pe&&(0,U.jsxs)(o.default,{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:8,padding:12,marginBottom:12,flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:"error-outline",size:20,color:"#EF4444"}),(0,U.jsx)(r.default,{style:{color:"#EF4444",fontSize:14,marginLeft:8},children:Pe})]}),$e&&(0,U.jsxs)(o.default,{style:{backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:12,padding:12,marginBottom:12,flexDirection:"row",alignItems:"center",borderWidth:1,borderColor:"#22C55E"},children:[(0,U.jsx)(y.Image,{source:{uri:$e.profileImage},style:{width:48,height:48,borderRadius:24,marginRight:12}}),(0,U.jsxs)(o.default,{style:{flex:1},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:$e.name}),(0,U.jsxs)(r.default,{style:{color:"#1DA1F2",fontSize:14},children:["@",$e.username]})]}),(0,U.jsx)(I.default,{name:"check-circle",size:24,color:"#22C55E"})]}),!$e&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginVertical:12},children:[(0,U.jsx)(o.default,{style:{flex:1,height:1,backgroundColor:"#2D3139"}}),(0,U.jsx)(r.default,{style:{color:"#6B7280",fontSize:12,marginHorizontal:12},children:"\u307e\u305f\u306f\u540d\u524d\u3067\u8ffd\u52a0"}),(0,U.jsx)(o.default,{style:{flex:1,height:1,backgroundColor:"#2D3139"}})]}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u53cb\u4eba\u306e\u540d\u524d"}),(0,U.jsx)(n.default,{value:Be,onChangeText:We,placeholder:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0",placeholderTextColor:"#6B7280",style:{backgroundColor:"#1A1D21",borderRadius:8,padding:12,color:e.foreground,borderWidth:1,borderColor:"#2D3139",marginBottom:12}})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:12},children:[(0,U.jsx)(l.default,{onPress:()=>{Re(!1),We(""),Ee(""),He(null),Le(null)},style:{flex:1,backgroundColor:"#2D3139",borderRadius:8,padding:12,alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:"#9CA3AF"},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})}),(0,U.jsx)(l.default,{onPress:()=>{const e=$e?.name||Be.trim();if(!e)return void c.default.alert("\u30a8\u30e9\u30fc","\u53cb\u4eba\u306e\u540d\u524d\u3092\u5165\u529b\u3059\u308b\u304b\u3001Twitter\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u691c\u7d22\u3057\u3066\u304f\u3060\u3055\u3044");const t={id:Date.now().toString(),displayName:e,twitterUsername:$e?.username||Fe.trim().replace(/^@/,""),twitterId:$e?.id,profileImage:$e?.profileImage};Ae([...De,t]),We(""),Ee(""),He(null),Le(null),Re(!1),oe(De.length+1)},disabled:!$e&&!Be.trim(),style:{flex:1,backgroundColor:$e||Be.trim()?"#EC4899":"#2D3139",borderRadius:8,padding:12,alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontWeight:"bold"},children:"\u8ffd\u52a0"})})]})]}),De.length>0&&(0,U.jsx)(o.default,{style:{gap:8},children:De.map(t=>(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:12,flexDirection:"row",alignItems:"center",borderWidth:1,borderColor:t.profileImage?"#1DA1F2":"#2D3139"},children:[t.profileImage?(0,U.jsx)(y.Image,{source:{uri:t.profileImage},style:{width:40,height:40,borderRadius:20,marginRight:12}}):(0,U.jsx)(o.default,{style:{width:40,height:40,borderRadius:20,backgroundColor:"#EC4899",alignItems:"center",justifyContent:"center",marginRight:12},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:t.displayName.charAt(0)})}),(0,U.jsxs)(o.default,{style:{flex:1},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,fontWeight:"600"},children:t.displayName}),t.twitterUsername&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["@",t.twitterUsername]})]}),(0,U.jsx)(l.default,{onPress:()=>yt(t.id),style:{padding:8},children:(0,U.jsx)(I.default,{name:"close",size:20,color:"#6B7280"})})]},t.id))}),(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:8,padding:12,marginTop:12,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u3042\u306a\u305f\u306e\u8ca2\u732e"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"baseline"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:24,fontWeight:"bold"},children:1+De.length}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginLeft:4},children:"\u4eba"})]})]}),(0,U.jsxs)(r.default,{style:{color:"#6B7280",fontSize:11,marginTop:8},children:["\u203b \u81ea\u5206 + \u53cb\u4eba",De.length,"\u4eba = ",1+De.length,"\u4eba\u306e\u8ca2\u732e\u306b\u306a\u308a\u307e\u3059"]})]}),(0,U.jsxs)(o.default,{style:{marginBottom:16},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u5fdc\u63f4\u30e1\u30c3\u30bb\u30fc\u30b8\uff08\u4efb\u610f\uff09"}),(0,U.jsx)(n.default,{value:q,onChangeText:J,placeholder:"\u5fdc\u63f4\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066\u306d",placeholderTextColor:"#6B7280",multiline:!0,numberOfLines:3,style:{backgroundColor:e.background,borderRadius:8,padding:12,color:e.foreground,borderWidth:1,borderColor:"#2D3139",minHeight:80,textAlignVertical:"top"}})]}),(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:16,marginBottom:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[(0,U.jsx)(r.default,{style:{fontSize:16},children:"\ud83c\udf08"}),(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u307f\u3093\u306a\u3067\u697d\u3057\u304f\u5fdc\u63f4\u3059\u308b\u305f\u3081\u306e\u304a\u7d04\u675f"})]}),(0,U.jsx)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:8,padding:12,marginBottom:12},children:(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12,lineHeight:18},children:["\u308a\u3093\u304f\u304b\u3089\u306e\u304a\u9858\u3044\u3060\u3088\uff5e\uff01","\n","\u307f\u3093\u306a\u3067\u4ef2\u826f\u304f\u3001\u697d\u3057\u304f\u5fdc\u63f4\u3057\u3066\u3044\u3053\u3046\u306d\u266a"]})}),(0,U.jsxs)(o.default,{style:{gap:8},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-start"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",marginRight:8},children:"\u2731"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:11,flex:1,lineHeight:16},children:"\u3053\u306e\u30b5\u30a4\u30c8\u306f\u300c\u30a2\u30a4\u30c9\u30eb\u5fdc\u63f4\u3061\u3083\u3093\u306d\u308b\u300d\u304c\u611b\u60c5\u305f\u3063\u3077\u308a\u3067\u904b\u55b6\u3057\u3066\u308b\u3088\uff01"})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-start"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",marginRight:8},children:"\u2731"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:11,flex:1,lineHeight:16},children:"\u7d20\u6575\u306a\u30b3\u30e1\u30f3\u30c8\u306f\u3001\u5fdc\u63f4\u52d5\u753b\u3092\u4f5c\u308b\u3068\u304d\u306b\u4f7f\u308f\u305b\u3066\u3082\u3089\u3046\u304b\u3082\uff01"})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-start"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",marginRight:8},children:"\u2731"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:11,flex:1,lineHeight:16},children:"\u30a2\u30a4\u30c9\u30eb\u3061\u3083\u3093\u3092\u50b7\u3064\u3051\u308b\u30b3\u30e1\u30f3\u30c8\u3084\u3001\u8ff7\u60d1\u306a\u30b3\u30e1\u30f3\u30c8\u306f\u7d76\u5bfe\u30c0\u30e1\u3060\u3088\uff5e\uff01"})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-start"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",marginRight:8},children:"\u2731"}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:11,flex:1,lineHeight:16},children:"\u307f\u3093\u306a\u306e\u300c\u5fdc\u63f4\u306e\u30ad\u30e2\u30c1\u300d\u3067\u3001\u30a2\u30a4\u30c9\u30eb\u3061\u3083\u3093\u305f\u3061\u3092\u30ad\u30e9\u30ad\u30e9\u3055\u305b\u3061\u3083\u304a\u3046\uff01"})]})]})]}),(0,U.jsxs)(o.default,{style:{backgroundColor:F?.isFollowingTarget?"#10B981":"#1DA1F2",borderRadius:12,padding:12,marginBottom:16,flexDirection:"row",alignItems:"center"},children:[(0,U.jsx)(I.default,{name:F?.isFollowingTarget?"check-circle":"favorite",size:20,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:12,marginLeft:8,flex:1},children:F?.isFollowingTarget?`@${F?.targetAccount?.username||"idolfunch"} \u3092\u30d5\u30a9\u30ed\u30fc\u4e2d \u2728`:"@idolfunch \u3092\u30d5\u30a9\u30ed\u30fc\u3059\u308b\u3068\u7279\u5178\u304c\u3082\u3089\u3048\u308b\u304b\u3082\uff1f"}),!F?.isFollowingTarget&&(0,U.jsx)(l.default,{onPress:()=>h.default.openURL("https://twitter.com/idolfunch"),style:{backgroundColor:"rgba(255,255,255,0.2)",borderRadius:8,paddingHorizontal:12,paddingVertical:6},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:12,fontWeight:"bold"},children:"\u30d5\u30a9\u30ed\u30fc"})}),F?.isFollowingTarget&&(0,U.jsx)(o.default,{style:{backgroundColor:"rgba(255,255,255,0.2)",borderRadius:8,paddingHorizontal:12,paddingVertical:6},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:12,fontWeight:"bold"},children:"\u30d5\u30a9\u30ed\u30fc\u4e2d"})})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:12},children:[(0,U.jsx)(l.default,{onPress:()=>se(!1),style:{flex:1,backgroundColor:"#2D3139",borderRadius:12,padding:16,alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})}),(0,U.jsxs)(l.default,{onPress:()=>{F?ye(!0):V()},disabled:gt.isPending||ht.isPending||!le,style:{flex:1,borderRadius:12,padding:16,alignItems:"center",overflow:"hidden",opacity:le?1:.5},children:[(0,U.jsx)(D.LinearGradient,{colors:le?["#EC4899","#8B5CF6"]:["#6B7280","#4B5563"],start:{x:0,y:0},end:{x:1,y:0},style:{position:"absolute",left:0,right:0,top:0,bottom:0}}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:le?"\u53c2\u52a0\u8868\u660e\u3059\u308b":"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]})]})]}):(0,U.jsxs)(o.default,{style:{gap:12,marginTop:16},children:[(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:12,alignItems:"center"},children:[(0,U.jsxs)(l.default,{onPress:async()=>{try{const e=`\ud83c\udfaf ${qe.title}\n\n\ud83d\udcca \u73fe\u5728 ${wt}/${St}${Ct}\uff08${Math.round(zt)}%\uff09\n\u3042\u3068${It}${Ct}\u3067\u76ee\u6a19\u9054\u6210\uff01\n\n\u4e00\u7dd2\u306b\u5fdc\u63f4\u3057\u3088\u3046\uff01\n\n#KimitoLink #\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058`;await u.default.share({message:e})}catch(e){c.default.alert("\u30a8\u30e9\u30fc","\u30b7\u30a7\u30a2\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}},style:{flex:1,backgroundColor:"#1A1D21",borderRadius:12,padding:14,alignItems:"center",flexDirection:"row",justifyContent:"center",borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(I.default,{name:"share",size:18,color:e.foreground}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,marginLeft:6},children:"\u30b7\u30a7\u30a2"})]}),(0,U.jsxs)(l.default,{onPress:async()=>{const e=`\ud83c\udfaf ${qe.title}\n\n\ud83d\udcca \u73fe\u5728 ${wt}/${St}${Ct}\uff08${Math.round(zt)}%\uff09\n\u3042\u3068${It}${Ct}\u3067\u76ee\u6a19\u9054\u6210\uff01\n\n\u4e00\u7dd2\u306b\u5fdc\u63f4\u3057\u3088\u3046\uff01`,t="undefined"!=typeof window?`${window.location.origin}/event/${Xe}`:`https://doin-challenge.com/event/${Xe}`;await(0,R.shareToTwitter)(e,t,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058","KimitoLink"])},style:{flex:1,backgroundColor:"#000",borderRadius:12,padding:14,alignItems:"center",flexDirection:"row",justifyContent:"center"},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:"\ud835\udd4f"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14,marginLeft:6},children:"X\u3067\u30b7\u30a7\u30a2"})]})]}),qe.eventDate&&(0,U.jsx)(o.default,{style:{flexDirection:"row",justifyContent:"flex-end"},children:(0,U.jsx)(W.ReminderButton,{challengeId:Xe,challengeTitle:qe.title,eventDate:new Date(qe.eventDate)})}),(0,U.jsxs)(l.default,{onPress:()=>se(!0),style:{flex:2,borderRadius:12,padding:16,alignItems:"center",overflow:"hidden"},children:[(0,U.jsx)(D.LinearGradient,{colors:["#EC4899","#8B5CF6"],start:{x:0,y:0},end:{x:1,y:0},style:{position:"absolute",left:0,right:0,top:0,bottom:0}}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:"\u53c2\u52a0\u8868\u660e\u3059\u308b"})]})]}),(0,U.jsx)(o.default,{style:{height:100}})]})]})}),(0,U.jsx)(x.default,{visible:xe,transparent:!0,animationType:"fade",onRequestClose:()=>ye(!1),children:(0,U.jsx)(o.default,{style:{flex:1,backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",alignItems:"center",padding:20},children:(0,U.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:16,padding:20,width:"100%",maxWidth:400,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:20,fontWeight:"bold",marginBottom:16,textAlign:"center"},children:"\u3053\u306e\u5185\u5bb9\u3067\u3044\u3044\u3067\u3059\u304b\uff1f"}),(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:16,marginBottom:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:8},children:"\u53c2\u52a0\u8005"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",gap:12},children:[F?.profileImage?(0,U.jsx)(y.Image,{source:{uri:F.profileImage},style:{width:48,height:48,borderRadius:24},contentFit:"cover"}):(0,U.jsx)(o.default,{style:{width:48,height:48,borderRadius:24,backgroundColor:"#EC4899",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:20,fontWeight:"bold"},children:(F?.name||F?.username||"\u30b2")?.charAt(0).toUpperCase()})}),(0,U.jsxs)(o.default,{style:{flex:1},children:[(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"600"},children:F?.name||F?.username||"\u30b2\u30b9\u30c8"}),F?.username&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:2},children:["@",F.username]}),void 0!==F?.followersCount&&F.followersCount>0&&(0,U.jsxs)(r.default,{style:{color:"#EC4899",fontSize:12,marginTop:4},children:[F.followersCount.toLocaleString()," \u30d5\u30a9\u30ed\u30ef\u30fc"]})]})]})]}),le&&(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:12,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:4},children:"\u90fd\u9053\u5e9c\u770c"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16},children:le})]}),De.length>0&&(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:12,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:8},children:["\u4e00\u7dd2\u306b\u53c2\u52a0\u3059\u308b\u53cb\u4eba\uff08",De.length,"\u4eba\uff09"]}),(0,U.jsx)(o.default,{style:{gap:8},children:De.map(t=>(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",gap:8},children:[t.profileImage?(0,U.jsx)(y.Image,{source:{uri:t.profileImage},style:{width:24,height:24,borderRadius:12}}):(0,U.jsx)(o.default,{style:{width:24,height:24,borderRadius:12,backgroundColor:"#8B5CF6",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:10},children:t.displayName.charAt(0)})}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14},children:t.displayName}),t.twitterUsername&&(0,U.jsxs)(r.default,{style:{color:"#9CA3AF",fontSize:12},children:["@",t.twitterUsername]})]},t.id))})]}),q&&(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:12,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:4},children:"\u5fdc\u63f4\u30e1\u30c3\u30bb\u30fc\u30b8"}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:14},children:q})]}),(0,U.jsxs)(o.default,{style:{backgroundColor:e.background,borderRadius:12,padding:12,marginBottom:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderWidth:1,borderColor:"#2D3139"},children:[(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14},children:"\u3042\u306a\u305f\u306e\u8ca2\u732e"}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"baseline"},children:[(0,U.jsx)(r.default,{style:{color:"#EC4899",fontSize:24,fontWeight:"bold"},children:1+De.length}),(0,U.jsx)(r.default,{style:{color:"#9CA3AF",fontSize:14,marginLeft:4},children:"\u4eba"})]})]}),(0,U.jsxs)(o.default,{style:{flexDirection:"row",gap:12},children:[(0,U.jsx)(l.default,{onPress:()=>ye(!1),style:{flex:1,backgroundColor:"#2D3139",borderRadius:12,padding:16,alignItems:"center"},children:(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16},children:"\u623b\u308b"})}),(0,U.jsxs)(l.default,{onPress:()=>{const e=De.map(e=>({displayName:e.displayName,twitterUsername:e.twitterUsername||void 0}));if(F){ye(!1);const t=F.openId?.startsWith("twitter:")?F.openId.replace("twitter:",""):F.openId;setTimeout(()=>{gt.mutate({challengeId:Xe,message:q,companionCount:De.length,prefecture:le,twitterId:t,displayName:F.name||"\u30b2\u30b9\u30c8",username:F.username,profileImage:F.profileImage,followersCount:F.followersCount,companions:e})},100)}},disabled:gt.isPending,style:{flex:1,borderRadius:12,padding:16,alignItems:"center",overflow:"hidden"},children:[(0,U.jsx)(D.LinearGradient,{colors:["#EC4899","#8B5CF6"],start:{x:0,y:0},end:{x:1,y:0},style:{position:"absolute",left:0,right:0,top:0,bottom:0}}),(0,U.jsx)(r.default,{style:{color:e.foreground,fontSize:16,fontWeight:"bold"},children:gt.isPending?"\u9001\u4fe1\u4e2d...":"\u53c2\u52a0\u8868\u660e\u3059\u308b"})]})]})]})})}),(0,U.jsx)(B.SharePromptModal,{visible:st,onClose:()=>{at(!1),ct(null)},challengeTitle:qe.title,hostName:qe.hostName,challengeId:Xe,participantName:dt?.name,participantUsername:dt?.username,participantImage:dt?.image,message:dt?.message,contribution:dt?.contribution}),(0,U.jsx)(v.PrefectureParticipantsModal,{visible:!!Ne,onClose:()=>Me(null),prefectureName:Ne||"",participants:Ye?.filter(e=>{if(!Ne)return!1;const t=e=>e?e.replace(/(\u770c|\u5e9c|\u90fd|\u9053)$/,""):"";return t(e.prefecture||"")===t(Ne)})||[]}),(0,U.jsx)(P.RegionParticipantsModal,{visible:!!Ue,onClose:()=>Ve(null),regionName:Ue?.name||"",prefectures:Ue?.prefectures||[],participants:Ye?.filter(e=>{if(!Ue)return!1;const t=e=>e?e.replace(/(\u770c|\u5e9c|\u90fd|\u9053)$/,""):"",r=t(e.prefecture||"");return Ue.prefectures.some(e=>t(e)===r)})||[]}),qe&&(0,U.jsx)(N.HostProfileModal,{visible:Oe,onClose:()=>Ge(!1),username:qe.hostUsername||"",displayName:qe.hostName,profileImage:qe.hostProfileImage||void 0}),Qe&&(0,U.jsx)(M.FanProfileModal,{visible:!!Qe,onClose:()=>Ke(null),twitterId:Qe.twitterId,username:Qe.username,displayName:Qe.displayName,profileImage:Qe.profileImage})]})}},1507,[1685,188,109,229,252,133,234,104,101,225,134,220,235,1056,473,3,1083,1087,1185,728,1187,712,1206,1228,1210,1508,1509,1510,1235,1573,1574,1575,1576,1577,1504,1578,1215,1579,1580,2]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function n(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.shareContent=async function(n){try{const t=n.url?`${n.message}\n\n${n.url}`:n.message;return(await e.default.share({title:n.title,message:t})).action===e.default.sharedAction&&(console.log("[Share] Content shared successfully"),!0)}catch(n){return console.error("[Share] Error sharing content:",n),!1}},_e.shareToTwitter=c,_e.shareParticipation=async function(n,e,s){const u=`\ud83c\udf89 \u300c${n}\u300d\u306b\u53c2\u52a0\u8868\u660e\u3057\u307e\u3057\u305f\uff01\n\n\u4e3b\u50ac: ${e}\n\n\u307f\u3093\u306a\u3082\u4e00\u7dd2\u306b\u5fdc\u63f4\u3057\u3088\u3046\uff01\n${t}`,l=`${o()}/event/${s}`;return c(u,l,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058",e.replace(/\s/g,"")])},_e.shareChallengeGoalReached=async function(n,e,s,u,l){const $=`\ud83c\udf8a \u76ee\u6a19\u9054\u6210\uff01\n\n\u300c${n}\u300d\u304c\u76ee\u6a19\u306e${s}${u}\u3092\u9054\u6210\u3057\u307e\u3057\u305f\uff01\n\n\u4e3b\u50ac: ${e}\n\u307f\u3093\u306a\u306e\u5fdc\u63f4\u306e\u304a\u304b\u3052\u3067\u3059\uff01\n${t}`,h=`${o()}/event/${l}`;return c($,h,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058","\u76ee\u6a19\u9054\u6210"])},_e.shareMilestoneReached=async function(n,e,s,u,l){const $=`\ud83c\udfc6 ${e}%\u9054\u6210\uff01\n\n\u300c${n}\u300d\u304c${s}${u}\u306b\u5230\u9054\u3057\u307e\u3057\u305f\uff01\n\n\u76ee\u6a19\u9054\u6210\u307e\u3067\u3042\u3068\u5c11\u3057\uff01\n${t}`,h=`${o()}/event/${l}`;return c($,h,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058"])},_e.shareChallengeCreated=async function(n,e,s,u){const l=`\ud83d\udce2 \u65b0\u3057\u3044\u30c1\u30e3\u30ec\u30f3\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\uff01\n\n\u300c${n}\u300d\n\u76ee\u6a19: ${e}${s}\n\n\u307f\u3093\u306a\u3067\u4e00\u7dd2\u306b\u76ee\u6a19\u9054\u6210\u3092\u76ee\u6307\u305d\u3046\uff01\n${t}`,$=`${o()}/event/${u}`;return c(l,$,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058","\u65b0\u898f\u30c1\u30e3\u30ec\u30f3\u30b8"])},_e.shareApp=async function(){return c(`\ud83c\udfb5 \u63a8\u3057\u306e\u5fdc\u63f4\u3092\u3082\u3063\u3068\u697d\u3057\u304f\uff01\n\n\u300c\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058\u300d\u3067\u30e9\u30a4\u30d6\u3084\u30a4\u30d9\u30f3\u30c8\u306e\u52d5\u54e1\u76ee\u6a19\u3092\u307f\u3093\u306a\u3067\u9054\u6210\u3057\u3088\u3046\uff01\n\n${t}`,o(),["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058"])},_e.shareCustomMessage=async function(n,e){const s=e?`${o()}/event/${e}`:o();return c(`${n}\n\n${t}`,s,["\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058"])},r(_d[0]);var e=n(r(_d[1]));n(r(_d[2])),(function(n){if(n&&n.__esModule)return n;var e={};n&&Object.keys(n).forEach(function(t){var o=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:function(){return n[t]}})}),e.default=n})(r(_d[3]));const t="#\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058";function o(){if("undefined"!=typeof window&&window.location){const{protocol:n,hostname:e,port:t}=window.location;if(e.includes("manus.computer")||e.includes("localhost"))return`${n}//${e}${t?":"+t:""}`;if(e.includes("doin-challenge.com"))return"https://doin-challenge.com"}return"https://doin-challenge.com"}async function c(n,e,t){try{const o=t?.join(",")||"",c=new URLSearchParams;c.set("text",n),e&&c.set("url",e),o&&c.set("hashtags",o);const s=`https://twitter.com/intent/tweet?${c.toString()}`;return"undefined"!=typeof window&&(window.open(s,"_blank","noopener,noreferrer"),!0)}catch(n){return console.error("[Share] Error sharing to Twitter:",n),!1}}},1508,[104,225,220,708]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.SharePromptModal=function({visible:e,onClose:s,challengeTitle:b,hostName:j,challengeId:C,participantName:v,participantUsername:B,participantImage:w,message:z,contribution:I}){const S=(0,f.useRef)(new d.default.Value(.8)).current,A=(0,f.useRef)(new d.default.Value(0)).current,[T,k]=(0,f.useState)(!1);(0,f.useEffect)(()=>{e?d.default.parallel([d.default.spring(S,{toValue:1,useNativeDriver:!0,tension:100,friction:8}),d.default.timing(A,{toValue:1,duration:200,useNativeDriver:!0})]).start():(S.setValue(.8),A.setValue(0))},[e,S,A]);return(0,x.jsx)(t.default,{visible:e,transparent:!0,animationType:"none",onRequestClose:s,children:(0,x.jsx)(n.default,{style:y.overlay,children:(0,x.jsxs)(d.default.View,{style:[y.container,{transform:[{scale:S}],opacity:A}],children:[(0,x.jsx)(n.default,{style:y.iconContainer,children:(0,x.jsx)(h.LinearGradient,{colors:["#EC4899","#8B5CF6"],start:{x:0,y:0},end:{x:1,y:1},style:y.iconGradient,children:(0,x.jsx)(u.default,{name:"check",size:40,color:"#fff"})})}),(0,x.jsx)(o.default,{style:y.title,children:"\u53c2\u52a0\u8868\u660e\u5b8c\u4e86\uff01\ud83c\udf89"}),(0,x.jsxs)(o.default,{style:y.subtitle,children:["\u300c",b,"\u300d\u3078\u306e\u53c2\u52a0\u3092\u8868\u660e\u3057\u307e\u3057\u305f"]}),v&&(0,x.jsxs)(n.default,{style:y.participantCard,children:[(0,x.jsxs)(n.default,{style:y.participantHeader,children:[w?(0,x.jsx)(c.Image,{source:{uri:w},style:y.participantAvatar,contentFit:"cover"}):(0,x.jsx)(n.default,{style:[y.participantAvatar,{backgroundColor:'#EC4899'}],children:(0,x.jsx)(o.default,{style:y.avatarText,children:v.charAt(0)})}),(0,x.jsxs)(n.default,{style:y.participantInfo,children:[(0,x.jsx)(o.default,{style:y.participantName,children:v}),B&&(0,x.jsxs)(o.default,{style:y.participantUsername,children:["@",B]})]}),I&&(0,x.jsxs)(n.default,{style:y.contributionBadge,children:[(0,x.jsxs)(o.default,{style:y.contributionText,children:["+",I]}),(0,x.jsx)(o.default,{style:y.contributionLabel,children:"\u8ca2\u732e"})]})]}),z&&(0,x.jsx)(n.default,{style:y.messageBox,children:(0,x.jsx)(o.default,{style:y.messageText,children:z})})]}),(0,x.jsxs)(n.default,{style:y.messageContainer,children:[(0,x.jsx)(o.default,{style:y.message,children:"X\u3067\u30b7\u30a7\u30a2\u3057\u3066\u4ef2\u9593\u3092\u5897\u3084\u3057\u307e\u305b\u3093\u304b\uff1f"}),(0,x.jsx)(o.default,{style:y.subMessage,children:"\u307f\u3093\u306a\u3067\u76ee\u6a19\u9054\u6210\u3092\u76ee\u6307\u3057\u307e\u3057\u3087\u3046\uff01"})]}),(0,x.jsxs)(n.default,{style:y.buttonContainer,children:[(0,x.jsx)(l.default,{onPress:async()=>{k(!0);try{await(0,p.shareParticipation)(b,j,C),s()}finally{k(!1)}},disabled:T,style:y.shareButton,activeOpacity:.8,children:(0,x.jsxs)(h.LinearGradient,{colors:["#000","#1a1a1a"],style:y.shareButtonGradient,children:[(0,x.jsx)(o.default,{style:y.xLogo,children:"\ud835\udd4f"}),(0,x.jsx)(o.default,{style:y.shareButtonText,children:T?"\u30b7\u30a7\u30a2\u4e2d...":"X\u3067\u30b7\u30a7\u30a2"})]})}),(0,x.jsx)(l.default,{onPress:()=>{s()},style:y.skipButton,activeOpacity:.7,children:(0,x.jsx)(o.default,{style:y.skipButtonText,children:"\u4eca\u56de\u306f\u30b9\u30ad\u30c3\u30d7"})})]})]})})})};var t=e(r(_d[0])),n=e(r(_d[1])),o=e(r(_d[2])),l=e(r(_d[3])),s=e(r(_d[4])),d=e(r(_d[5])),c=r(_d[6]),u=e(r(_d[7])),f=r(_d[8]),h=r(_d[9]);!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e})(r(_d[10]));r(_d[11]);var p=r(_d[12]),x=r(_d[13]);const y=s.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center",padding:24},container:{backgroundColor:"#1A1D21",borderRadius:24,padding:24,width:"100%",maxWidth:340,alignItems:"center"},participantCard:{backgroundColor:"#2D3139",borderRadius:12,padding:16,width:"100%",marginBottom:16},participantHeader:{flexDirection:"row",alignItems:"center"},participantAvatar:{width:48,height:48,borderRadius:24,alignItems:"center",justifyContent:"center",overflow:"hidden"},avatarImage:{width:48,height:48,borderRadius:24,alignItems:"center",justifyContent:"center"},avatarText:{color:"#fff",fontSize:20,fontWeight:"bold"},participantInfo:{flex:1,marginLeft:12},participantName:{color:"#fff",fontSize:16,fontWeight:"600"},participantUsername:{color:"#DD6500",fontSize:14},contributionBadge:{alignItems:"center"},contributionText:{color:"#EC4899",fontSize:24,fontWeight:"bold"},contributionLabel:{color:"#6B7280",fontSize:11},messageBox:{backgroundColor:"#1A1D21",borderRadius:8,padding:12,marginTop:12},messageText:{color:"#E5E7EB",fontSize:14,lineHeight:20},iconContainer:{marginBottom:16},iconGradient:{width:72,height:72,borderRadius:36,alignItems:"center",justifyContent:"center"},title:{color:"#fff",fontSize:22,fontWeight:"bold",marginBottom:8},subtitle:{color:"#9CA3AF",fontSize:14,textAlign:"center",marginBottom:20},messageContainer:{backgroundColor:"#0D1117",borderRadius:12,padding:16,width:"100%",marginBottom:24},message:{color:"#fff",fontSize:15,fontWeight:"600",textAlign:"center",marginBottom:4},subMessage:{color:"#9CA3AF",fontSize:13,textAlign:"center"},buttonContainer:{width:"100%",gap:12},shareButton:{borderRadius:12,overflow:"hidden"},shareButtonGradient:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:14,paddingHorizontal:24,gap:8},xLogo:{color:"#fff",fontSize:18,fontWeight:"bold"},shareButtonText:{color:"#fff",fontSize:16,fontWeight:"600"},skipButton:{paddingVertical:12,alignItems:"center"},skipButtonText:{color:"#6B7280",fontSize:14}})},1509,[235,109,188,229,28,102,1056,712,3,1206,708,104,1508,2]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.ReminderButton=function({challengeId:e,challengeTitle:l,eventDate:v}){const[j,B]=(0,u.useState)(!1),[C,D]=(0,u.useState)(null),[T,w]=(0,u.useState)(!1),A=(0,u.useRef)(new d.default.Value(.9)).current,S=(0,u.useRef)(new d.default.Value(0)).current;(0,u.useEffect)(()=>{O()},[e]);const O=async()=>{try{const t=await f.default.getItem(`${x}_${e}`);if(t){const o=JSON.parse(t);new Date(o.scheduledFor)>new Date?D(o):await f.default.removeItem(`${x}_${e}`)}}catch(e){console.error("[Reminder] Failed to load:",e)}};(0,u.useEffect)(()=>{j?d.default.parallel([d.default.spring(A,{toValue:1,useNativeDriver:!0,tension:100,friction:8}),d.default.timing(S,{toValue:1,duration:200,useNativeDriver:!0})]).start():(A.setValue(.9),S.setValue(0))},[j,A,S]);const _=async e=>{B(!1)},z=v<new Date;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.default,{onPress:()=>{B(!0)},disabled:z,style:[h.button,z&&h.buttonDisabled],activeOpacity:.7,children:[(0,p.jsx)(s.default,{name:C?"notifications-active":"notifications-none",size:18,color:C?"#EC4899":"#9CA3AF"}),(0,p.jsx)(o.default,{style:[h.buttonText,C&&h.buttonTextActive],children:C?(()=>{if(!C)return null;const e=y.find(e=>e.id===C.option);return e?.label||null})():"\u30ea\u30de\u30a4\u30f3\u30c9"})]}),(0,p.jsx)(c.default,{visible:j,transparent:!0,animationType:"none",onRequestClose:()=>B(!1),children:(0,p.jsx)(n.default,{style:h.overlay,activeOpacity:1,onPress:()=>B(!1),children:(0,p.jsx)(d.default.View,{style:[h.modalContainer,{transform:[{scale:A}],opacity:S}],children:(0,p.jsxs)(n.default,{activeOpacity:1,children:[(0,p.jsxs)(t.default,{style:h.modalHeader,children:[(0,p.jsx)(s.default,{name:"notifications",size:24,color:"#EC4899"}),(0,p.jsx)(o.default,{style:h.modalTitle,children:"\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u8a2d\u5b9a"})]}),(0,p.jsx)(o.default,{style:h.modalSubtitle,children:"\u30a4\u30d9\u30f3\u30c8\u958b\u59cb\u524d\u306b\u901a\u77e5\u3067\u304a\u77e5\u3089\u305b\u3057\u307e\u3059"}),(0,p.jsx)(t.default,{style:h.optionsContainer,children:y.map(e=>{const l=C?.option===e.id,c=new Date(v.getTime()-60*e.minutesBefore*1e3)<new Date;return(0,p.jsxs)(n.default,{onPress:()=>!c&&_(),disabled:c||T,style:[h.optionButton,l&&h.optionButtonActive,c&&h.optionButtonDisabled],activeOpacity:.7,children:[(0,p.jsxs)(t.default,{style:h.optionContent,children:[(0,p.jsx)(s.default,{name:l?"check-circle":"radio-button-unchecked",size:20,color:l?"#EC4899":c?"#4B5563":"#9CA3AF"}),(0,p.jsx)(o.default,{style:[h.optionText,l&&h.optionTextActive,c&&h.optionTextDisabled],children:e.label})]}),c&&(0,p.jsx)(o.default,{style:h.optionSubtext,children:"\u904e\u53bb\u306e\u6642\u9593"})]},e.id)})}),C&&(0,p.jsx)(n.default,{onPress:async()=>{if(C){w(!0);try{await(0,b.cancelNotification)(C.notificationId),await f.default.removeItem(`${x}_${e}`),D(null)}catch(e){console.error("[Reminder] Failed to cancel:",e)}finally{w(!1),B(!1)}}},disabled:T,style:h.cancelButton,activeOpacity:.7,children:(0,p.jsx)(o.default,{style:h.cancelButtonText,children:"\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3092\u89e3\u9664"})}),(0,p.jsx)(n.default,{onPress:()=>B(!1),style:h.closeButton,activeOpacity:.7,children:(0,p.jsx)(o.default,{style:h.closeButtonText,children:"\u9589\u3058\u308b"})})]})})})})]})};var t=e(r(_d[0])),o=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),c=e(r(_d[4])),d=e(r(_d[5])),s=e(r(_d[6])),u=r(_d[7]);!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[8]));r(_d[9]);var f=e(r(_d[10])),b=r(_d[11]),p=r(_d[12]);const x="event_reminders",y=[{id:"1day",label:"1\u65e5\u524d",minutesBefore:1440},{id:"3hours",label:"3\u6642\u9593\u524d",minutesBefore:180},{id:"1hour",label:"1\u6642\u9593\u524d",minutesBefore:60},{id:"30min",label:"30\u5206\u524d",minutesBefore:30}];const h=l.default.create({button:{flexDirection:"row",alignItems:"center",backgroundColor:"#1A1D21",borderRadius:8,paddingHorizontal:12,paddingVertical:8,gap:6,borderWidth:1,borderColor:"#2D3139"},buttonDisabled:{opacity:.5},buttonText:{color:"#9CA3AF",fontSize:13,fontWeight:"500"},buttonTextActive:{color:"#EC4899"},overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"center",alignItems:"center",padding:24},modalContainer:{backgroundColor:"#1A1D21",borderRadius:20,padding:24,width:"100%",maxWidth:320},modalHeader:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:8},modalTitle:{color:"#fff",fontSize:18,fontWeight:"bold"},modalSubtitle:{color:"#9CA3AF",fontSize:13,marginBottom:20},optionsContainer:{gap:8,marginBottom:16},optionButton:{backgroundColor:"#0D1117",borderRadius:12,padding:14,borderWidth:1,borderColor:"#2D3139"},optionButtonActive:{borderColor:"#EC4899",backgroundColor:"rgba(236, 72, 153, 0.1)"},optionButtonDisabled:{opacity:.5},optionContent:{flexDirection:"row",alignItems:"center",gap:10},optionText:{color:"#fff",fontSize:15,fontWeight:"500"},optionTextActive:{color:"#EC4899"},optionTextDisabled:{color:"#6B7280"},optionSubtext:{color:"#6B7280",fontSize:11,marginTop:4,marginLeft:30},cancelButton:{paddingVertical:12,alignItems:"center",marginBottom:8},cancelButtonText:{color:"#EF4444",fontSize:14},closeButton:{backgroundColor:"#2D3139",borderRadius:12,paddingVertical:14,alignItems:"center"},closeButtonText:{color:"#fff",fontSize:15,fontWeight:"600"}})},1510,[109,188,229,28,235,102,712,3,708,104,1686,1511,2]);
__d(function(g,r,_i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.EventDetailSkeleton=function(){const e=(0,t.c)(32);let s,i,x,j,_,S,w,k,R,p,C,D,v,A,O,M,B,E,H,I,N,P,q,z,F,G,J,K,L,Q,T,U;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,u.jsx)(c.AppHeader,{title:""}),e[0]=s):s=e[0];e[1]===Symbol.for("react.memo_cache_sentinel")?(i={flex:1,backgroundColor:"#0D1117"},e[1]=i):i=e[1];e[2]===Symbol.for("react.memo_cache_sentinel")?(x=(0,u.jsx)(h.Skeleton,{width:f,height:200,borderRadius:0}),e[2]=x):x=e[2];e[3]===Symbol.for("react.memo_cache_sentinel")?(j=(0,u.jsx)(h.Skeleton,{width:"80%",height:28,borderRadius:4}),e[3]=j):j=e[3];e[4]===Symbol.for("react.memo_cache_sentinel")?(_=(0,u.jsx)(o.default,{style:{height:8}}),S=(0,u.jsx)(h.Skeleton,{width:"60%",height:20,borderRadius:4}),e[4]=_,e[5]=S):(_=e[4],S=e[5]);e[6]===Symbol.for("react.memo_cache_sentinel")?(w=(0,u.jsx)(o.default,{style:{height:16}}),e[6]=w):w=e[6];e[7]===Symbol.for("react.memo_cache_sentinel")?(k=(0,u.jsx)(h.Skeleton,{width:20,height:20,borderRadius:10}),e[7]=k):k=e[7];e[8]===Symbol.for("react.memo_cache_sentinel")?(R=(0,u.jsxs)(o.default,{style:y.row,children:[k,(0,u.jsx)(o.default,{style:{width:8}}),(0,u.jsx)(h.Skeleton,{width:120,height:16,borderRadius:4})]}),e[8]=R):R=e[8];e[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,u.jsx)(o.default,{style:{height:8}}),e[9]=p):p=e[9];e[10]===Symbol.for("react.memo_cache_sentinel")?(C=(0,u.jsx)(h.Skeleton,{width:20,height:20,borderRadius:10}),e[10]=C):C=e[10];e[11]===Symbol.for("react.memo_cache_sentinel")?(D=(0,u.jsxs)(o.default,{style:y.headerArea,children:[x,(0,u.jsx)(o.default,{style:y.headerOverlay,children:(0,u.jsxs)(o.default,{style:y.headerContent,children:[j,_,S,w,R,p,(0,u.jsxs)(o.default,{style:y.row,children:[C,(0,u.jsx)(o.default,{style:{width:8}}),(0,u.jsx)(h.Skeleton,{width:100,height:16,borderRadius:4})]})]})})]}),e[11]=D):D=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(v=(0,u.jsx)(h.Skeleton,{width:"40%",height:24,borderRadius:4}),e[12]=v):v=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(A=(0,u.jsx)(o.default,{style:{height:12}}),O=(0,u.jsx)(h.Skeleton,{width:"100%",height:12,borderRadius:6}),e[13]=A,e[14]=O):(A=e[13],O=e[14]);e[15]===Symbol.for("react.memo_cache_sentinel")?(M=(0,u.jsx)(o.default,{style:{height:8}}),e[15]=M):M=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(B=(0,u.jsx)(o.default,{style:y.section,children:(0,u.jsxs)(o.default,{style:y.progressCard,children:[v,A,O,M,(0,u.jsxs)(o.default,{style:y.row,children:[(0,u.jsx)(h.Skeleton,{width:80,height:36,borderRadius:4}),(0,u.jsx)(h.Skeleton,{width:60,height:20,borderRadius:4})]})]})}),e[16]=B):B=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(E=(0,u.jsx)(o.default,{style:y.section,children:(0,u.jsx)(h.Skeleton,{width:"100%",height:80,borderRadius:12})}),e[17]=E):E=e[17];e[18]===Symbol.for("react.memo_cache_sentinel")?(H=(0,u.jsx)(o.default,{style:y.section,children:(0,u.jsxs)(o.default,{style:y.row,children:[(0,u.jsx)(h.Skeleton,{width:"48%",height:44,borderRadius:22}),(0,u.jsx)(h.Skeleton,{width:"48%",height:44,borderRadius:22})]})}),e[18]=H):H=e[18];e[19]===Symbol.for("react.memo_cache_sentinel")?(I=(0,u.jsx)(h.Skeleton,{width:120,height:24,borderRadius:4}),e[19]=I):I=e[19];e[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,u.jsx)(o.default,{style:{height:16}}),e[20]=N):N=e[20];e[21]===Symbol.for("react.memo_cache_sentinel")?(P=(0,u.jsx)(h.Skeleton,{width:"100%",height:16,borderRadius:4}),e[21]=P):P=e[21];e[22]===Symbol.for("react.memo_cache_sentinel")?(q=(0,u.jsx)(o.default,{style:{height:12}}),z=(0,u.jsx)(h.Skeleton,{width:"100%",height:44,borderRadius:8}),e[22]=q,e[23]=z):(q=e[22],z=e[23]);e[24]===Symbol.for("react.memo_cache_sentinel")?(F=(0,u.jsx)(o.default,{style:{height:16}}),G=(0,u.jsx)(h.Skeleton,{width:"100%",height:16,borderRadius:4}),e[24]=F,e[25]=G):(F=e[24],G=e[25]);e[26]===Symbol.for("react.memo_cache_sentinel")?(J=(0,u.jsx)(o.default,{style:{height:12}}),K=(0,u.jsx)(h.Skeleton,{width:"100%",height:100,borderRadius:8}),e[26]=J,e[27]=K):(J=e[26],K=e[27]);e[28]===Symbol.for("react.memo_cache_sentinel")?(L=(0,u.jsxs)(o.default,{style:y.section,children:[I,N,(0,u.jsxs)(o.default,{style:y.formCard,children:[P,q,z,F,G,J,K,(0,u.jsx)(o.default,{style:{height:16}}),(0,u.jsx)(h.Skeleton,{width:"100%",height:48,borderRadius:24})]})]}),e[28]=L):L=e[28];e[29]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,u.jsx)(h.Skeleton,{width:100,height:24,borderRadius:4}),e[29]=Q):Q=e[29];e[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,u.jsxs)(o.default,{style:y.section,children:[Q,(0,u.jsx)(o.default,{style:{height:16}}),[1,2,3].map(b)]}),e[30]=T):T=e[30];e[31]===Symbol.for("react.memo_cache_sentinel")?(U=(0,u.jsxs)(n.ScreenContainer,{containerClassName:"bg-[#0D1117]",children:[s,(0,u.jsxs)(l.default,{style:i,children:[D,B,E,H,L,T,(0,u.jsx)(o.default,{style:{height:100}})]})]}),e[31]=U):U=e[31];return U};var t=r(d[0]),o=e(r(d[1])),l=e(r(d[2])),s=e(r(d[3])),i=e(r(d[4])),h=r(d[5]),n=r(d[6]),c=r(d[7]),u=r(d[8]);const{width:f}=s.default.get("window");function b(e){return(0,u.jsx)(o.default,{style:y.participantCard,children:(0,u.jsxs)(o.default,{style:y.row,children:[(0,u.jsx)(h.Skeleton,{width:48,height:48,borderRadius:24}),(0,u.jsx)(o.default,{style:{width:12}}),(0,u.jsxs)(o.default,{style:{flex:1},children:[(0,u.jsx)(h.Skeleton,{width:"60%",height:18,borderRadius:4}),(0,u.jsx)(o.default,{style:{height:4}}),(0,u.jsx)(h.Skeleton,{width:"40%",height:14,borderRadius:4})]}),(0,u.jsx)(h.Skeleton,{width:40,height:24,borderRadius:4})]})},e)}const y=i.default.create({headerArea:{position:"relative"},headerOverlay:{position:"absolute",bottom:0,left:0,right:0,padding:16,backgroundColor:"rgba(0,0,0,0.5)"},headerContent:{gap:4},section:{padding:16},progressCard:{backgroundColor:"#1A1D21",borderRadius:12,padding:16},formCard:{backgroundColor:"#1A1D21",borderRadius:12,padding:16},participantCard:{backgroundColor:"#1A1D21",borderRadius:12,padding:12,marginBottom:8},row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}})},1573,[1685,109,133,134,28,1252,1083,1210,2]);
__d(function(g,r,i,_a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.JapanDeformedMap=function(e){const l=(0,t.c)(73),{prefectureCounts:C,onPrefecturePress:z}=e,{width:F}=(0,s.default)();let _,P,L,B,I,D,A,E,T,R,M,v,O,W,k,V,H,N,$,J,q,G,K,Q,U,X,Y,Z,ee;if(l[0]!==z||l[1]!==C||l[2]!==F){const e=b(F);let t,s;l[10]!==C?(t=Object.keys(C),l[10]=C,l[11]=t):t=l[11],l[12]!==C||l[13]!==t?(s=t.filter(e=>C[e]>0),l[12]=C,l[13]=t,l[14]=s):s=l[14];const p=s.length;let E;l[15]!==C?(E=Object.values(C).reduce(j,0),l[15]=C,l[16]=E):E=l[16];const T=E;let R;l[17]!==C?(R=Object.values(C),l[17]=C,l[18]=R):R=l[18];const M=Math.max(...R,0),v=Object.entries(C).find(e=>{const[,t]=e;return t===M})?.[0]||"";let O,W;if(l[19]!==v||l[20]!==M||l[21]!==T||l[22]!==p?(O={totalPrefectures:p,totalParticipants:T,maxCount:M,hotPrefecture:v},l[19]=v,l[20]=M,l[21]=T,l[22]=p,l[23]=O):O=l[23],L=O,l[24]===Symbol.for("react.memo_cache_sentinel")){const e=f.map(y),t=f.map(w);W={minRow:Math.min(...e),maxRow:Math.max(...e),minCol:Math.min(...t),maxCol:Math.max(...t)},l[24]=W}else W=l[24];const k=W,V=k.maxCol-k.minCol+1,H=Math.min(F-2*e.padding,800),N=Math.floor(H/V)-e.gap,$=Math.max(N,e.cellSize),J=V*($+e.gap),q=(k.maxRow-k.minRow+1)*($+e.gap)+20;let G;P=o.default,D=[S.container,{padding:e.padding}],l[25]===Symbol.for("react.memo_cache_sentinel")?(G=(0,c.jsx)(n.default,{style:S.title,children:"\ud83d\uddfe \u5730\u57df\u5225\u53c2\u52a0\u8005\u30de\u30c3\u30d7"}),l[25]=G):G=l[25],l[26]!==L.totalParticipants?(A=(0,c.jsxs)(o.default,{style:S.header,children:[G,(0,c.jsxs)(n.default,{style:S.subtitle,children:["\u5408\u8a08 ",L.totalParticipants,"\u4eba"]})]}),l[26]=L.totalParticipants,l[27]=A):A=l[27],_=o.default,l[28]!==q||l[29]!==J?(B=[S.mapContainer,{height:q,width:J}],l[28]=q,l[29]=J,l[30]=B):B=l[30],I=f.map(t=>{const o=C[t.name]||C[t.short]||0,l=h[t.region]||h.\u95a2\u6771,s=x(o,L.maxCount,l),f=u(o),b=(t.row-k.minRow)*($+e.gap),p=(t.col-k.minCol)*($+e.gap);let w=t.short.replace("\u770c","").replace("\u5e9c","").replace("\u90fd","");return"\u5317\u6d77\u9053"===w&&(w="\u5317\u6d77"),"\u795e\u5948\u5ddd"===w&&(w="\u795e\u5948"),"\u548c\u6b4c\u5c71"===w&&(w="\u548c\u6b4c"),"\u9e7f\u5150\u5cf6"===w&&(w="\u9e7f\u5150"),(0,c.jsxs)(a.default,{style:[S.prefectureCell,{width:$,height:$,minWidth:44,minHeight:44,backgroundColor:s.bg,borderColor:s.hasParticipants?"#FFFFFF":s.border,borderWidth:s.hasParticipants?2:1,position:"absolute",top:b,left:p,shadowColor:s.hasParticipants?"#FF0000":"transparent",shadowOffset:{width:0,height:0},shadowOpacity:s.hasParticipants?.8:0,shadowRadius:4,elevation:s.hasParticipants?5:0}],onPress:()=>z?.(t.name),activeOpacity:.7,accessibilityLabel:`${t.name}: ${o}\u4eba\u53c2\u52a0`,accessibilityRole:"button",accessibilityHint:"\u30bf\u30c3\u30d7\u3059\u308b\u3068\u53c2\u52a0\u8005\u4e00\u89a7\u3092\u8868\u793a\u3057\u307e\u3059",children:[(0,c.jsx)(n.default,{style:{fontSize:e.countSize},children:f}),(0,c.jsx)(n.default,{style:[S.prefectureName,{color:s.text,fontSize:e.fontSize,fontWeight:s.hasParticipants?"bold":"600"}],numberOfLines:1,children:w}),o>0&&(0,c.jsxs)(n.default,{style:[S.prefectureCount,{color:s.text,fontSize:e.countSize,fontWeight:"bold"}],children:[o,"\u4eba"]})]},t.name)}),l[0]=z,l[1]=C,l[2]=F,l[3]=_,l[4]=P,l[5]=L,l[6]=B,l[7]=I,l[8]=D,l[9]=A}else _=l[3],P=l[4],L=l[5],B=l[6],I=l[7],D=l[8],A=l[9];l[31]!==_||l[32]!==B||l[33]!==I?(E=(0,c.jsx)(_,{style:B,children:I}),l[31]=_,l[32]=B,l[33]=I,l[34]=E):E=l[34];l[35]!==L.totalPrefectures?(T=(0,c.jsx)(n.default,{style:S.statValue,children:L.totalPrefectures}),l[35]=L.totalPrefectures,l[36]=T):T=l[36];l[37]===Symbol.for("react.memo_cache_sentinel")?(R=(0,c.jsx)(n.default,{style:S.statLabel,children:"\u90fd\u9053\u5e9c\u770c"}),l[37]=R):R=l[37];l[38]!==T?(M=(0,c.jsxs)(o.default,{style:S.statItem,children:[T,R]}),l[38]=T,l[39]=M):M=l[39];l[40]===Symbol.for("react.memo_cache_sentinel")?(v=(0,c.jsx)(o.default,{style:S.statDivider}),l[40]=v):v=l[40];l[41]!==L.totalParticipants?(O=(0,c.jsx)(n.default,{style:S.statValue,children:L.totalParticipants}),l[41]=L.totalParticipants,l[42]=O):O=l[42];l[43]===Symbol.for("react.memo_cache_sentinel")?(W=(0,c.jsx)(n.default,{style:S.statLabel,children:"\u7dcf\u53c2\u52a0\u8005"}),l[43]=W):W=l[43];l[44]!==O?(k=(0,c.jsxs)(o.default,{style:S.statItem,children:[O,W]}),l[44]=O,l[45]=k):k=l[45];l[46]===Symbol.for("react.memo_cache_sentinel")?(V=(0,c.jsx)(o.default,{style:S.statDivider}),l[46]=V):V=l[46];l[47]!==L.maxCount?(H=(0,c.jsx)(n.default,{style:S.statValue,children:L.maxCount}),l[47]=L.maxCount,l[48]=H):H=l[48];l[49]===Symbol.for("react.memo_cache_sentinel")?(N=(0,c.jsx)(n.default,{style:S.statLabel,children:"\u6700\u591a"}),l[49]=N):N=l[49];l[50]!==H?($=(0,c.jsxs)(o.default,{style:S.statItem,children:[H,N]}),l[50]=H,l[51]=$):$=l[51];l[52]!==k||l[53]!==$||l[54]!==M?(J=(0,c.jsxs)(o.default,{style:S.statsContainer,children:[M,v,k,V,$]}),l[52]=k,l[53]=$,l[54]=M,l[55]=J):J=l[55];l[56]!==L.hotPrefecture||l[57]!==L.maxCount?(q=L.hotPrefecture&&L.maxCount>0&&(0,c.jsxs)(o.default,{style:S.hotHighlight,children:[(0,c.jsx)(n.default,{style:S.hotIcon,children:"\ud83d\udd25"}),(0,c.jsxs)(o.default,{children:[(0,c.jsxs)(n.default,{style:S.hotTitle,children:[L.hotPrefecture,"\u304c\u71b1\u3044\uff01"]}),(0,c.jsxs)(n.default,{style:S.hotSubtitle,children:[L.maxCount,"\u4eba\u304c\u53c2\u52a0\u8868\u660e\u4e2d"]})]})]}),l[56]=L.hotPrefecture,l[57]=L.maxCount,l[58]=q):q=l[58];l[59]===Symbol.for("react.memo_cache_sentinel")?(G=(0,c.jsx)(n.default,{style:S.legendTitle,children:"\u53c2\u52a0\u8005\u6570\u30a2\u30a4\u30b3\u30f3"}),l[59]=G):G=l[59];l[60]===Symbol.for("react.memo_cache_sentinel")?(K=(0,c.jsxs)(o.default,{style:S.iconLegendItem,children:[(0,c.jsx)(n.default,{style:S.iconLegendEmoji,children:"\ud83d\ude22"}),(0,c.jsx)(n.default,{style:S.iconLegendText,children:"0\u4eba"})]}),l[60]=K):K=l[60];l[61]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,c.jsxs)(o.default,{style:S.iconLegendItem,children:[(0,c.jsx)(n.default,{style:S.iconLegendEmoji,children:"\ud83d\ude0a"}),(0,c.jsx)(n.default,{style:S.iconLegendText,children:"1\u301c5\u4eba"})]}),l[61]=Q):Q=l[61];l[62]===Symbol.for("react.memo_cache_sentinel")?(U=(0,c.jsxs)(o.default,{style:S.iconLegendItem,children:[(0,c.jsx)(n.default,{style:S.iconLegendEmoji,children:"\ud83d\udd25"}),(0,c.jsx)(n.default,{style:S.iconLegendText,children:"6\u301c20\u4eba"})]}),l[62]=U):U=l[62];l[63]===Symbol.for("react.memo_cache_sentinel")?(X=(0,c.jsxs)(o.default,{style:S.iconLegend,children:[G,(0,c.jsxs)(o.default,{style:S.iconLegendItems,children:[K,Q,U,(0,c.jsxs)(o.default,{style:S.iconLegendItem,children:[(0,c.jsx)(n.default,{style:S.iconLegendEmoji,children:"\ud83c\udf89"}),(0,c.jsx)(n.default,{style:S.iconLegendText,children:"21\u4eba\u301c"})]})]})]}),l[63]=X):X=l[63];l[64]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,c.jsx)(n.default,{style:S.legendTitle,children:"\u5730\u57df\u30ab\u30e9\u30fc"}),l[64]=Y):Y=l[64];l[65]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,c.jsxs)(o.default,{style:S.legend,children:[Y,(0,c.jsx)(o.default,{style:S.legendItems,children:Object.entries(h).map(p)})]}),l[65]=Z):Z=l[65];l[66]!==P||l[67]!==J||l[68]!==q||l[69]!==D||l[70]!==A||l[71]!==E?(ee=(0,c.jsxs)(P,{style:D,children:[A,E,J,q,X,Z]}),l[66]=P,l[67]=J,l[68]=q,l[69]=D,l[70]=A,l[71]=E,l[72]=ee):ee=l[72];return ee};var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),a=e(r(d[4])),s=e(r(d[5]));r(d[6]);var c=r(d[7]);const h={"\u5317\u6d77\u9053":{bg:"#4FC3F7",text:"#000",border:"#0288D1"},"\u6771\u5317":{bg:"#B39DDB",text:"#000",border:"#7B1FA2"},"\u95a2\u6771":{bg:"#81C784",text:"#000",border:"#388E3C"},"\u4e2d\u90e8":{bg:"#FFF176",text:"#000",border:"#FBC02D"},"\u95a2\u897f":{bg:"#FFB74D",text:"#000",border:"#F57C00"},"\u4e2d\u56fd":{bg:"#F48FB1",text:"#000",border:"#C2185B"},"\u56db\u56fd":{bg:"#CE93D8",text:"#000",border:"#8E24AA"},"\u4e5d\u5dde":{bg:"#EF5350",text:"#fff",border:"#C62828"},"\u6c96\u7e04":{bg:"#FF8A65",text:"#000",border:"#E64A19"}},f=[{name:"\u5317\u6d77\u9053",short:"\u5317\u6d77\u9053",region:"\u5317\u6d77\u9053",row:0,col:10},{name:"\u9752\u68ee\u770c",short:"\u9752\u68ee",region:"\u6771\u5317",row:1,col:10},{name:"\u79cb\u7530\u770c",short:"\u79cb\u7530",region:"\u6771\u5317",row:2,col:9},{name:"\u5ca9\u624b\u770c",short:"\u5ca9\u624b",region:"\u6771\u5317",row:2,col:10},{name:"\u5c71\u5f62\u770c",short:"\u5c71\u5f62",region:"\u6771\u5317",row:3,col:9},{name:"\u5bae\u57ce\u770c",short:"\u5bae\u57ce",region:"\u6771\u5317",row:3,col:10},{name:"\u798f\u5cf6\u770c",short:"\u798f\u5cf6",region:"\u6771\u5317",row:4,col:9},{name:"\u65b0\u6f5f\u770c",short:"\u65b0\u6f5f",region:"\u4e2d\u90e8",row:4,col:8},{name:"\u7fa4\u99ac\u770c",short:"\u7fa4\u99ac",region:"\u95a2\u6771",row:5,col:8},{name:"\u6803\u6728\u770c",short:"\u6803\u6728",region:"\u95a2\u6771",row:5,col:9},{name:"\u8328\u57ce\u770c",short:"\u8328\u57ce",region:"\u95a2\u6771",row:5,col:10},{name:"\u57fc\u7389\u770c",short:"\u57fc\u7389",region:"\u95a2\u6771",row:6,col:8},{name:"\u6771\u4eac\u90fd",short:"\u6771\u4eac",region:"\u95a2\u6771",row:6,col:9},{name:"\u5343\u8449\u770c",short:"\u5343\u8449",region:"\u95a2\u6771",row:6,col:10},{name:"\u795e\u5948\u5ddd\u770c",short:"\u795e\u5948\u5ddd",region:"\u95a2\u6771",row:7,col:9},{name:"\u5c71\u68a8\u770c",short:"\u5c71\u68a8",region:"\u4e2d\u90e8",row:7,col:8},{name:"\u9577\u91ce\u770c",short:"\u9577\u91ce",region:"\u4e2d\u90e8",row:6,col:7},{name:"\u5bcc\u5c71\u770c",short:"\u5bcc\u5c71",region:"\u4e2d\u90e8",row:5,col:6},{name:"\u77f3\u5ddd\u770c",short:"\u77f3\u5ddd",region:"\u4e2d\u90e8",row:4,col:6},{name:"\u798f\u4e95\u770c",short:"\u798f\u4e95",region:"\u4e2d\u90e8",row:5,col:5},{name:"\u5c90\u961c\u770c",short:"\u5c90\u961c",region:"\u4e2d\u90e8",row:6,col:6},{name:"\u9759\u5ca1\u770c",short:"\u9759\u5ca1",region:"\u4e2d\u90e8",row:7,col:7},{name:"\u611b\u77e5\u770c",short:"\u611b\u77e5",region:"\u4e2d\u90e8",row:7,col:6},{name:"\u4e09\u91cd\u770c",short:"\u4e09\u91cd",region:"\u95a2\u897f",row:7,col:5},{name:"\u6ecb\u8cc0\u770c",short:"\u6ecb\u8cc0",region:"\u95a2\u897f",row:6,col:5},{name:"\u4eac\u90fd\u5e9c",short:"\u4eac\u90fd",region:"\u95a2\u897f",row:6,col:4},{name:"\u5927\u962a\u5e9c",short:"\u5927\u962a",region:"\u95a2\u897f",row:7,col:4},{name:"\u5175\u5eab\u770c",short:"\u5175\u5eab",region:"\u95a2\u897f",row:7,col:3},{name:"\u5948\u826f\u770c",short:"\u5948\u826f",region:"\u95a2\u897f",row:8,col:4},{name:"\u548c\u6b4c\u5c71\u770c",short:"\u548c\u6b4c\u5c71",region:"\u95a2\u897f",row:8,col:5},{name:"\u9ce5\u53d6\u770c",short:"\u9ce5\u53d6",region:"\u4e2d\u56fd",row:6,col:3},{name:"\u5cf6\u6839\u770c",short:"\u5cf6\u6839",region:"\u4e2d\u56fd",row:6,col:2},{name:"\u5ca1\u5c71\u770c",short:"\u5ca1\u5c71",region:"\u4e2d\u56fd",row:7,col:2},{name:"\u5e83\u5cf6\u770c",short:"\u5e83\u5cf6",region:"\u4e2d\u56fd",row:8,col:2},{name:"\u5c71\u53e3\u770c",short:"\u5c71\u53e3",region:"\u4e2d\u56fd",row:8,col:1},{name:"\u5fb3\u5cf6\u770c",short:"\u5fb3\u5cf6",region:"\u56db\u56fd",row:8,col:3},{name:"\u9999\u5ddd\u770c",short:"\u9999\u5ddd",region:"\u56db\u56fd",row:9,col:3},{name:"\u611b\u5a9b\u770c",short:"\u611b\u5a9b",region:"\u56db\u56fd",row:9,col:2},{name:"\u9ad8\u77e5\u770c",short:"\u9ad8\u77e5",region:"\u56db\u56fd",row:10,col:2},{name:"\u798f\u5ca1\u770c",short:"\u798f\u5ca1",region:"\u4e5d\u5dde",row:9,col:1},{name:"\u4f50\u8cc0\u770c",short:"\u4f50\u8cc0",region:"\u4e5d\u5dde",row:10,col:1},{name:"\u9577\u5d0e\u770c",short:"\u9577\u5d0e",region:"\u4e5d\u5dde",row:10,col:0},{name:"\u718a\u672c\u770c",short:"\u718a\u672c",region:"\u4e5d\u5dde",row:11,col:1},{name:"\u5927\u5206\u770c",short:"\u5927\u5206",region:"\u4e5d\u5dde",row:9,col:0},{name:"\u5bae\u5d0e\u770c",short:"\u5bae\u5d0e",region:"\u4e5d\u5dde",row:11,col:0},{name:"\u9e7f\u5150\u5cf6\u770c",short:"\u9e7f\u5150\u5cf6",region:"\u4e5d\u5dde",row:12,col:1},{name:"\u6c96\u7e04\u770c",short:"\u6c96\u7e04",region:"\u6c96\u7e04",row:12,col:0}];function u(e){return 0===e?"\ud83d\ude22":e<=5?"\ud83d\ude0a":e<=20?"\ud83d\udd25":"\ud83c\udf89"}function x(e,t,o){if(0===e)return{bg:"#3A3F47",text:"#9CA3AF",border:"#2D3139",hasParticipants:!1};const n=Math.min(e/Math.max(t,1),1);return n>=.8?{bg:"#B71C1C",text:"#fff",border:"#7F0000",hasParticipants:!0}:n>=.6?{bg:"#D32F2F",text:"#fff",border:"#B71C1C",hasParticipants:!0}:n>=.4?{bg:"#F44336",text:"#fff",border:"#D32F2F",hasParticipants:!0}:n>=.2?{bg:"#FF5722",text:"#fff",border:"#E64A19",hasParticipants:!0}:{bg:"#FF7043",text:"#fff",border:"#F4511E",hasParticipants:!0}}function b(e){return e<320?{cellSize:44,fontSize:8,countSize:9,gap:1,padding:8}:e<375?{cellSize:44,fontSize:9,countSize:10,gap:1,padding:12}:e<414?{cellSize:46,fontSize:10,countSize:11,gap:2,padding:16}:e<768?{cellSize:48,fontSize:11,countSize:12,gap:2,padding:16}:e<1024?{cellSize:56,fontSize:12,countSize:14,gap:3,padding:20}:e<1440?{cellSize:64,fontSize:14,countSize:16,gap:4,padding:24}:e<2560?{cellSize:72,fontSize:16,countSize:18,gap:4,padding:28}:{cellSize:80,fontSize:18,countSize:20,gap:5,padding:32}}function p(e){const[t,l]=e;return(0,c.jsxs)(o.default,{style:S.legendItem,children:[(0,c.jsx)(o.default,{style:[S.legendColor,{backgroundColor:l.bg}]}),(0,c.jsx)(n.default,{style:S.legendText,children:t})]},t)}function w(e){return e.col}function y(e){return e.row}function j(e,t){return e+t}const S=l.default.create({container:{backgroundColor:"#1E2022",borderRadius:16,marginVertical:8},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},title:{fontSize:18,fontWeight:"bold",color:"#ECEDEE"},subtitle:{fontSize:14,color:"#9BA1A6"},mapContainer:{position:"relative",marginBottom:16,alignSelf:"center",width:"100%",maxWidth:800},prefectureCell:{borderRadius:6,alignItems:"center",justifyContent:"center",padding:2},prefectureName:{textAlign:"center",marginTop:-2},prefectureCount:{marginTop:-2},statsContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#2D3139",borderRadius:12,padding:16,marginBottom:12},statItem:{flex:1,alignItems:"center"},statValue:{fontSize:24,fontWeight:"bold",color:"#ECEDEE"},statLabel:{fontSize:12,color:"#9BA1A6",marginTop:4},statDivider:{width:1,height:40,backgroundColor:"#4B5563"},hotHighlight:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(255, 107, 107, 0.15)",borderRadius:12,padding:12,marginBottom:12,borderWidth:1,borderColor:"rgba(255, 107, 107, 0.3)"},hotIcon:{fontSize:32,marginRight:12},hotTitle:{fontSize:16,fontWeight:"bold",color:"#FF6B6B"},hotSubtitle:{fontSize:12,color:"#9BA1A6"},iconLegend:{marginBottom:12,backgroundColor:"#2D3139",borderRadius:12,padding:12},iconLegendItems:{flexDirection:"row",justifyContent:"space-around",marginTop:8},iconLegendItem:{alignItems:"center"},iconLegendEmoji:{fontSize:20},iconLegendText:{fontSize:10,color:"#9BA1A6",marginTop:4},legend:{marginTop:8},legendTitle:{fontSize:12,color:"#9BA1A6",marginBottom:8},legendItems:{flexDirection:"row",flexWrap:"wrap",gap:8},legendItem:{flexDirection:"row",alignItems:"center",gap:4},legendColor:{width:12,height:12,borderRadius:3},legendText:{fontSize:10,color:"#9BA1A6"}})},1574,[1685,109,188,28,229,267,3,2]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.PrefectureParticipantsModal=function(e){const l=(0,t.c)(29),{visible:I,onClose:S,prefectureName:w,participants:A}=e,z=(0,p.useRouter)();let T;if(l[0]!==S||l[1]!==z){const e=e=>{e.userId&&!e.isAnonymous&&(S(),z.push({pathname:"/profile/[userId]",params:{userId:e.userId.toString()}}))};T=t=>{const{item:l}=t;return(0,x.jsxs)(f.default,{onPress:()=>e(l),style:e=>{const{pressed:t}=e;return[j.participantItem,t&&l.userId&&!l.isAnonymous?j.participantItemPressed:void 0]},children:[(0,x.jsx)(y.OptimizedAvatar,{source:l.profileImage?{uri:l.profileImage}:void 0,size:44,fallbackColor:"#EC4899",fallbackText:l.displayName.charAt(0)}),(0,x.jsxs)(n.default,{style:j.participantInfo,children:[(0,x.jsxs)(n.default,{style:j.participantNameRow,children:[(0,x.jsx)(o.default,{style:j.participantName,numberOfLines:1,children:l.isAnonymous?"\u533f\u540d\u30e6\u30fc\u30b6\u30fc":l.displayName}),l.followersCount&&l.followersCount>0&&(0,x.jsx)(n.default,{style:j.followersBadge,children:(0,x.jsx)(o.default,{style:j.followersText,children:l.followersCount>=1e4?`${(l.followersCount/1e4).toFixed(1)}\u4e07`:l.followersCount.toLocaleString()})})]}),l.username&&!l.isAnonymous&&(0,x.jsxs)(o.default,{style:j.participantUsername,children:["@",l.username]}),l.message&&(0,x.jsx)(o.default,{style:j.participantMessage,numberOfLines:2,children:l.message})]}),(0,x.jsx)(n.default,{style:j.contributionBadge,children:(0,x.jsxs)(o.default,{style:j.contributionText,children:[l.contribution||1,"\u4eba"]})})]})},l[0]=S,l[1]=z,l[2]=T}else T=l[2];const B=T;let R;l[3]!==A?(R=A.reduce(b,0),l[3]=A,l[4]=R):R=l[4];const k=R;let v,N,D,_,L,P,F,M,W;l[5]!==w?(v=(0,x.jsx)(o.default,{style:j.prefectureName,children:w}),l[5]=w,l[6]=v):v=l[6];l[7]!==A.length||l[8]!==k?(N=(0,x.jsxs)(o.default,{style:j.participantCount,children:[A.length,"\u4eba\u304c\u53c2\u52a0\uff08\u8a08",k,"\u4eba\uff09"]}),l[7]=A.length,l[8]=k,l[9]=N):N=l[9];l[10]!==v||l[11]!==N?(D=(0,x.jsxs)(n.default,{style:j.headerContent,children:[v,N]}),l[10]=v,l[11]=N,l[12]=D):D=l[12];l[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,x.jsx)(h.default,{name:"close",size:24,color:"#9CA3AF"}),l[13]=_):_=l[13];l[14]!==S?(L=(0,x.jsx)(c.default,{onPress:S,style:j.closeButton,children:_}),l[14]=S,l[15]=L):L=l[15];l[16]!==D||l[17]!==L?(P=(0,x.jsxs)(n.default,{style:j.header,children:[D,L]}),l[16]=D,l[17]=L,l[18]=P):P=l[18];l[19]!==A||l[20]!==B?(F=A.length>0?(0,x.jsx)(u.default,{data:A,keyExtractor:C,renderItem:B,contentContainerStyle:j.listContent,showsVerticalScrollIndicator:!1}):(0,x.jsxs)(n.default,{style:j.emptyState,children:[(0,x.jsx)(o.default,{style:j.emptyIcon,children:"\ud83d\uddfe"}),(0,x.jsx)(o.default,{style:j.emptyText,children:"\u3053\u306e\u90fd\u9053\u5e9c\u770c\u304b\u3089\u306e\u53c2\u52a0\u8005\u306f\u307e\u3060\u3044\u307e\u305b\u3093"})]}),l[19]=A,l[20]=B,l[21]=F):F=l[21];l[22]!==P||l[23]!==F?(M=(0,x.jsx)(n.default,{style:j.overlay,children:(0,x.jsxs)(n.default,{style:j.modalContainer,children:[P,F]})}),l[22]=P,l[23]=F,l[24]=M):M=l[24];l[25]!==S||l[26]!==M||l[27]!==I?(W=(0,x.jsx)(s.default,{visible:I,animationType:"slide",transparent:!0,onRequestClose:S,children:M}),l[25]=S,l[26]=M,l[27]=I,l[28]=W):W=l[28];return W};var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),p=r(d[8]),h=e(r(d[9])),y=r(d[10]),x=r(d[11]);function C(e){return e.id.toString()}function b(e,t){return e+(t.contribution||1)}const j=l.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"flex-end"},modalContainer:{backgroundColor:"#1A1D21",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"80%",minHeight:"40%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderBottomWidth:1,borderBottomColor:"#2D3139"},headerContent:{flex:1},prefectureName:{color:"#fff",fontSize:20,fontWeight:"bold"},participantCount:{color:"#9CA3AF",fontSize:13,marginTop:4},closeButton:{width:40,height:40,alignItems:"center",justifyContent:"center",borderRadius:20,backgroundColor:"#2D3139"},listContent:{padding:16},participantItem:{flexDirection:"row",alignItems:"center",backgroundColor:"#0D1117",borderRadius:12,padding:12,marginBottom:8},participantItemPressed:{opacity:.7},participantInfo:{flex:1,marginLeft:12},participantNameRow:{flexDirection:"row",alignItems:"center"},participantName:{color:"#fff",fontSize:15,fontWeight:"600",flex:1},followersBadge:{backgroundColor:"rgba(236, 72, 153, 0.2)",paddingHorizontal:6,paddingVertical:2,borderRadius:8,marginLeft:8},followersText:{color:"#EC4899",fontSize:10,fontWeight:"bold"},participantUsername:{color:"#9CA3AF",fontSize:12,marginTop:2},participantMessage:{color:"#6B7280",fontSize:12,marginTop:4,fontStyle:"italic"},contributionBadge:{backgroundColor:"#2D3139",paddingHorizontal:10,paddingVertical:6,borderRadius:8,marginLeft:8},contributionText:{color:"#EC4899",fontSize:12,fontWeight:"bold"},emptyState:{flex:1,alignItems:"center",justifyContent:"center",padding:40},emptyIcon:{fontSize:48,marginBottom:16},emptyText:{color:"#9CA3AF",fontSize:14,textAlign:"center"}})},1575,[1685,109,188,28,235,229,107,242,473,712,1235,2]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.RegionParticipantsModal=function(e){const l=(0,t.c)(46),{visible:z,onClose:A,regionName:B,prefectures:T,participants:R}=e,E=(0,y.useRouter)(),[N,k]=(0,p.useState)(null),D=S;let v,L;l[0]!==R||l[1]!==T?(v={},T.forEach(e=>{const t=D(e),o=R.filter(e=>D(e.prefecture||"")===t).length;v[e]=o}),l[0]=R,l[1]=T,l[2]=v):v=l[2];l[3]!==R||l[4]!==N?(L=N?R.filter(e=>D(e.prefecture||"")===D(N)):R,l[3]=R,l[4]=N,l[5]=L):L=l[5];const P=L;let F;l[6]!==A||l[7]!==E?(F=e=>{e.userId&&!e.isAnonymous&&(A(),E.push({pathname:"/profile/[userId]",params:{userId:e.userId.toString()}}))},l[6]=A,l[7]=E,l[8]=F):F=l[8];const $=F;let _;l[9]!==A?(_=()=>{k(null),A()},l[9]=A,l[10]=_):_=l[10];const W=_;let H;l[11]!==v||l[12]!==N?(H=e=>{const{item:t}=e,o=v[t]||0,l=N===t;return(0,C.jsxs)(s.default,{onPress:()=>k(l?null:t),style:[w.prefectureItem,l&&w.prefectureItemSelected,0===o&&w.prefectureItemEmpty],children:[(0,C.jsx)(n.default,{style:[w.prefectureName,l&&w.prefectureNameSelected,0===o&&w.prefectureNameEmpty],children:t}),(0,C.jsxs)(n.default,{style:[w.prefectureCount,l&&w.prefectureCountSelected,0===o&&w.prefectureCountEmpty],children:[o,"\u4eba"]})]})},l[11]=v,l[12]=N,l[13]=H):H=l[13];const V=H;let M;l[14]!==$?(M=e=>{const{item:t}=e;return(0,C.jsxs)(f.default,{onPress:()=>$(t),style:e=>{const{pressed:o}=e;return[w.participantItem,o&&t.userId&&!t.isAnonymous?w.participantItemPressed:void 0]},children:[(0,C.jsx)(x.OptimizedAvatar,{source:t.profileImage?{uri:t.profileImage}:void 0,size:44,fallbackColor:"#EC4899",fallbackText:t.displayName.charAt(0)}),(0,C.jsxs)(o.default,{style:w.participantInfo,children:[(0,C.jsxs)(o.default,{style:w.participantNameRow,children:[(0,C.jsx)(n.default,{style:w.participantName,numberOfLines:1,children:t.isAnonymous?"\u533f\u540d\u30e6\u30fc\u30b6\u30fc":t.displayName}),t.followersCount&&t.followersCount>0&&(0,C.jsx)(o.default,{style:w.followersBadge,children:(0,C.jsx)(n.default,{style:w.followersText,children:t.followersCount>=1e4?`${(t.followersCount/1e4).toFixed(1)}\u4e07`:t.followersCount.toLocaleString()})})]}),t.username&&!t.isAnonymous&&(0,C.jsxs)(n.default,{style:w.participantUsername,children:["@",t.username]}),(0,C.jsx)(n.default,{style:w.participantPrefecture,children:t.prefecture||"\u672a\u8a2d\u5b9a"})]}),(0,C.jsx)(o.default,{style:w.contributionBadge,children:(0,C.jsxs)(n.default,{style:w.contributionText,children:[t.contribution||1,"\u4eba"]})})]})},l[14]=$,l[15]=M):M=l[15];const O=M;let U;l[16]!==P?(U=P.reduce(I,0),l[16]=P,l[17]=U):U=l[17];const q=U;let G;l[18]!==B?(G=(0,C.jsx)(n.default,{style:w.regionTitle,children:B}),l[18]=B,l[19]=G):G=l[19];const J=N?`${N}: ${P.length}\u4eba\uff08\u8a08${q}\u4eba\uff09`:`${R.length}\u4eba\u304c\u53c2\u52a0\uff08\u8a08${q}\u4eba\uff09`;let K,Q,X,Y,Z,ee,te,re,oe;l[20]!==J?(K=(0,C.jsx)(n.default,{style:w.participantCount,children:J}),l[20]=J,l[21]=K):K=l[21];l[22]!==G||l[23]!==K?(Q=(0,C.jsxs)(o.default,{style:w.headerContent,children:[G,K]}),l[22]=G,l[23]=K,l[24]=Q):Q=l[24];l[25]===Symbol.for("react.memo_cache_sentinel")?(X=(0,C.jsx)(h.default,{name:"close",size:24,color:"#9CA3AF"}),l[25]=X):X=l[25];l[26]!==W?(Y=(0,C.jsx)(s.default,{onPress:W,style:w.closeButton,children:X}),l[26]=W,l[27]=Y):Y=l[27];l[28]!==Q||l[29]!==Y?(Z=(0,C.jsxs)(o.default,{style:w.header,children:[Q,Y]}),l[28]=Q,l[29]=Y,l[30]=Z):Z=l[30];l[31]!==T||l[32]!==V?(ee=(0,C.jsx)(o.default,{style:w.prefectureFilter,children:(0,C.jsx)(u.default,{data:T,keyExtractor:j,renderItem:V,horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:w.prefectureList})}),l[31]=T,l[32]=V,l[33]=ee):ee=l[33];l[34]!==P||l[35]!==O||l[36]!==N?(te=P.length>0?(0,C.jsx)(u.default,{data:P,keyExtractor:b,renderItem:O,contentContainerStyle:w.listContent,showsVerticalScrollIndicator:!1}):(0,C.jsxs)(o.default,{style:w.emptyState,children:[(0,C.jsx)(n.default,{style:w.emptyIcon,children:"\ud83d\uddfe"}),(0,C.jsx)(n.default,{style:w.emptyText,children:N?`${N}\u304b\u3089\u306e\u53c2\u52a0\u8005\u306f\u307e\u3060\u3044\u307e\u305b\u3093`:"\u3053\u306e\u5730\u57df\u304b\u3089\u306e\u53c2\u52a0\u8005\u306f\u307e\u3060\u3044\u307e\u305b\u3093"})]}),l[34]=P,l[35]=O,l[36]=N,l[37]=te):te=l[37];l[38]!==Z||l[39]!==ee||l[40]!==te?(re=(0,C.jsx)(o.default,{style:w.overlay,children:(0,C.jsxs)(o.default,{style:w.modalContainer,children:[Z,ee,te]})}),l[38]=Z,l[39]=ee,l[40]=te,l[41]=re):re=l[41];l[42]!==W||l[43]!==re||l[44]!==z?(oe=(0,C.jsx)(c.default,{visible:z,animationType:"slide",transparent:!0,onRequestClose:W,children:re}),l[42]=W,l[43]=re,l[44]=z,l[45]=oe):oe=l[45];return oe};var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),c=e(r(d[4])),s=e(r(d[5])),u=e(r(d[6])),f=e(r(d[7])),p=r(d[8]),y=r(d[9]),h=e(r(d[10])),x=r(d[11]),C=r(d[12]);function b(e){return e.id.toString()}function j(e){return e}function I(e,t){return e+(t.contribution||1)}function S(e){return e?e.replace(/(\u770c|\u5e9c|\u90fd|\u9053)$/,""):""}const w=l.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.7)",justifyContent:"flex-end"},modalContainer:{backgroundColor:"#1A1D21",borderTopLeftRadius:24,borderTopRightRadius:24,maxHeight:"85%",minHeight:"50%"},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:20,borderBottomWidth:1,borderBottomColor:"#2D3139"},headerContent:{flex:1},regionTitle:{color:"#fff",fontSize:20,fontWeight:"bold"},participantCount:{color:"#9CA3AF",fontSize:13,marginTop:4},closeButton:{width:40,height:40,alignItems:"center",justifyContent:"center",borderRadius:20,backgroundColor:"#2D3139"},prefectureFilter:{borderBottomWidth:1,borderBottomColor:"#2D3139"},prefectureList:{padding:12,gap:8},prefectureItem:{backgroundColor:"#2D3139",paddingHorizontal:14,paddingVertical:8,borderRadius:20,marginRight:8,flexDirection:"row",alignItems:"center"},prefectureItemSelected:{backgroundColor:"#EC4899"},prefectureItemEmpty:{opacity:.5},prefectureName:{color:"#fff",fontSize:13,fontWeight:"500"},prefectureNameSelected:{color:"#fff"},prefectureNameEmpty:{color:"#6B7280"},prefectureCount:{color:"#9CA3AF",fontSize:11,marginLeft:6},prefectureCountSelected:{color:"rgba(255, 255, 255, 0.8)"},prefectureCountEmpty:{color:"#4B5563"},listContent:{padding:16},participantItem:{flexDirection:"row",alignItems:"center",backgroundColor:"#0D1117",borderRadius:12,padding:12,marginBottom:8},participantItemPressed:{opacity:.7},participantInfo:{flex:1,marginLeft:12},participantNameRow:{flexDirection:"row",alignItems:"center"},participantName:{color:"#fff",fontSize:15,fontWeight:"600",flex:1},followersBadge:{backgroundColor:"rgba(236, 72, 153, 0.2)",paddingHorizontal:6,paddingVertical:2,borderRadius:8,marginLeft:8},followersText:{color:"#EC4899",fontSize:10,fontWeight:"bold"},participantUsername:{color:"#9CA3AF",fontSize:12,marginTop:2},participantPrefecture:{color:"#6B7280",fontSize:11,marginTop:2},contributionBadge:{backgroundColor:"#2D3139",paddingHorizontal:10,paddingVertical:6,borderRadius:8,marginLeft:8},contributionText:{color:"#EC4899",fontSize:12,fontWeight:"bold"},emptyState:{flex:1,alignItems:"center",justifyContent:"center",padding:40},emptyIcon:{fontSize:48,marginBottom:16},emptyText:{color:"#9CA3AF",fontSize:14,textAlign:"center"}})},1576,[1685,109,188,28,235,229,107,242,3,473,712,1235,2]);
__d(function(g,r,_i,a,_m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.GrowthTrajectoryChart=function(e){const d=(0,t.c)(176),{data:m,targetCount:y,title:j}=e,b=void 0===j?"\u52d5\u54e1\u307e\u3067\u306e\u8ecc\u8de1":j,{width:F}=(0,l.default)();let B;d[0]!==F?(B=x(F),d[0]=F,d[1]=B):B=d[1];const L=B,{chartWidth:T,chartHeight:k,paddingLeft:C,paddingRight:$,paddingTop:W,paddingBottom:M}=L,A=T-C-$,_=k-W-M;let E;e:{if(0===m.length){let e;d[2]===Symbol.for("react.memo_cache_sentinel")?(e={pathData:"",milestones:[],yAxisLabels:[],xAxisLabels:[],currentCount:0,progressPercent:0},d[2]=e):e=d[2],E=e;break e}let e;d[3]!==m?(e=Math.max(...m.map(u)),d[3]=m,d[4]=e):e=d[4];const t=e,i=1.1*Math.max(y,t),n=m[0].date,l=m[m.length-1].date.getTime()-n.getTime();let o,s;if(d[5]!==m||d[6]!==l||d[7]!==_||d[8]!==A||d[9]!==C||d[10]!==W||d[11]!==n||d[12]!==i){let e;d[15]!==l||d[16]!==_||d[17]!==A||d[18]!==C||d[19]!==W||d[20]!==n||d[21]!==i?(e=(e,t)=>({x:C+(l>0?(e.date.getTime()-n.getTime())/l*A:A/2),y:W+_-e.count/i*_,...e}),d[15]=l,d[16]=_,d[17]=A,d[18]=C,d[19]=W,d[20]=n,d[21]=i,d[22]=e):e=d[22];const t=m.map(e);o=`M ${t[0].x} ${t[0].y}`;for(let e=1;e<t.length;e++){const i=t[e-1],n=t[e],d=i.x+(n.x-i.x)/3,l=i.x+2*(n.x-i.x)/3;o+=` C ${d} ${i.y}, ${l} ${n.y}, ${n.x} ${n.y}`}s=t.filter(S),d[5]=m,d[6]=l,d[7]=_,d[8]=A,d[9]=C,d[10]=W,d[11]=n,d[12]=i,d[13]=o,d[14]=s}else o=d[13],s=d[14];const c=s;let h,f;if(d[23]!==_||d[24]!==W||d[25]!==i){h=[];const e=i/5;for(let t=0;t<=5;t++){const n=Math.round(e*t),d=W+_-n/i*_;h.push({value:n,y:d})}d[23]=_,d[24]=W,d[25]=i,d[26]=h}else h=d[26];if(d[27]!==m||d[28]!==l||d[29]!==A||d[30]!==C||d[31]!==n){f=[];const e=Math.min(5,m.length);for(let t=0;t<e;t++){const i=m[Math.floor((m.length-1)*t/(e-1||1))],d=C+(l>0?(i.date.getTime()-n.getTime())/l*A:A/2);f.push({date:i.date,x:d})}d[27]=m,d[28]=l,d[29]=A,d[30]=C,d[31]=n,d[32]=f}else f=d[32];const x=m[m.length-1].count,p=x/y*100,z=o,j=Math.min(p,100);let b;d[33]!==x||d[34]!==c||d[35]!==o||d[36]!==j||d[37]!==f||d[38]!==h?(b={pathData:z,milestones:c,yAxisLabels:h,xAxisLabels:f,currentCount:x,progressPercent:j},d[33]=x,d[34]=c,d[35]=o,d[36]=j,d[37]=f,d[38]=h,d[39]=b):b=d[39],E=b}const{pathData:R,milestones:D,yAxisLabels:H,xAxisLabels:G,currentCount:I,progressPercent:v}=E;let w;e:{if(0===m.length){w=W;break e}let e;d[40]!==m?(e=Math.max(...m.map(p)),d[40]=m,d[41]=e):e=d[41];const t=e,i=1.1*Math.max(y,t);w=W+_-y/i*_}const P=w;if(0===m.length){let e,t,l,o,s,h;return d[42]!==L.padding?(e=[z.container,{padding:L.padding}],d[42]=L.padding,d[43]=e):e=d[43],d[44]!==L.titleSize?(t=[z.title,{fontSize:L.titleSize}],d[44]=L.titleSize,d[45]=t):t=d[45],d[46]!==t||d[47]!==b?(l=(0,c.jsx)(i.default,{style:z.header,children:(0,c.jsxs)(n.default,{style:t,children:["\ud83d\udcc8 ",b]})}),d[46]=t,d[47]=b,d[48]=l):l=d[48],d[49]===Symbol.for("react.memo_cache_sentinel")?(o=(0,c.jsx)(n.default,{style:z.emptyIcon,children:"\ud83d\udcca"}),d[49]=o):o=d[49],d[50]!==L.subtitleSize?(s=(0,c.jsxs)(i.default,{style:z.emptyState,children:[o,(0,c.jsxs)(n.default,{style:[z.emptyText,{fontSize:L.subtitleSize}],children:["\u307e\u3060\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093","\n","\u53c2\u52a0\u8005\u304c\u5897\u3048\u308b\u3068\u8ecc\u8de1\u304c\u8868\u793a\u3055\u308c\u307e\u3059"]})]}),d[50]=L.subtitleSize,d[51]=s):s=d[51],d[52]!==e||d[53]!==l||d[54]!==s?(h=(0,c.jsxs)(i.default,{style:e,children:[l,s]}),d[52]=e,d[53]=l,d[54]=s,d[55]=h):h=d[55],h}let O,V,Z,q,J,K,N,Q,U,X,Y,ee;d[56]!==L.padding?(O=[z.container,{padding:L.padding}],d[56]=L.padding,d[57]=O):O=d[57];d[58]!==L.titleSize?(V=[z.title,{fontSize:L.titleSize}],d[58]=L.titleSize,d[59]=V):V=d[59];d[60]!==V||d[61]!==b?(Z=(0,c.jsxs)(n.default,{style:V,children:["\ud83d\udcc8 ",b]}),d[60]=V,d[61]=b,d[62]=Z):Z=d[62];d[63]!==L.subtitleSize?(q=[z.subtitle,{fontSize:L.subtitleSize}],d[63]=L.subtitleSize,d[64]=q):q=d[64];d[65]!==I?(J=f(I),d[65]=I,d[66]=J):J=d[66];d[67]!==y?(K=f(y),d[67]=y,d[68]=K):K=d[68];d[69]!==v?(N=v.toFixed(1),d[69]=v,d[70]=N):N=d[70];d[71]!==K||d[72]!==N||d[73]!==q||d[74]!==J?(Q=(0,c.jsxs)(n.default,{style:q,children:["\u73fe\u5728 ",J,"\u4eba / \u76ee\u6a19 ",K,"\u4eba (",N,"%)"]}),d[71]=K,d[72]=N,d[73]=q,d[74]=J,d[75]=Q):Q=d[75];d[76]!==Q||d[77]!==Z?(U=(0,c.jsxs)(i.default,{style:z.header,children:[Z,Q]}),d[76]=Q,d[77]=Z,d[78]=U):U=d[78];d[79]===Symbol.for("react.memo_cache_sentinel")?(X=(0,c.jsxs)(o.LinearGradient,{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,c.jsx)(o.Stop,{offset:"0",stopColor:"#FF6B6B",stopOpacity:"1"}),(0,c.jsx)(o.Stop,{offset:"1",stopColor:"#FF8E53",stopOpacity:"1"})]}),d[79]=X):X=d[79];d[80]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,c.jsxs)(o.Defs,{children:[X,(0,c.jsxs)(o.LinearGradient,{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,c.jsx)(o.Stop,{offset:"0",stopColor:"#FF6B6B",stopOpacity:"0.3"}),(0,c.jsx)(o.Stop,{offset:"1",stopColor:"#FF6B6B",stopOpacity:"0.05"})]})]}),d[80]=Y):Y=d[80];if(d[81]!==T||d[82]!==C||d[83]!==$||d[84]!==H){let e;d[86]!==T||d[87]!==C||d[88]!==$?(e=(e,t)=>(0,c.jsx)(o.Line,{x1:C,y1:e.y,x2:T-$,y2:e.y,stroke:"#E5E7EB",strokeWidth:1,strokeDasharray:"4,4"},`grid-${t}`),d[86]=T,d[87]=C,d[88]=$,d[89]=e):e=d[89],ee=H.map(e),d[81]=T,d[82]=C,d[83]=$,d[84]=H,d[85]=ee}else ee=d[85];const te=T-$;let ie;d[90]!==C||d[91]!==te||d[92]!==P?(ie=(0,c.jsx)(o.Line,{x1:C,y1:P,x2:te,y2:P,stroke:"#10B981",strokeWidth:2,strokeDasharray:"8,4"}),d[90]=C,d[91]=te,d[92]=P,d[93]=ie):ie=d[93];const ne=T-$-5,de=P-8,le=L.fontSize;let oe,ae,re,se,ce,he,ge,fe;d[94]!==y?(oe=f(y),d[94]=y,d[95]=oe):oe=d[95];d[96]!==L.fontSize||d[97]!==ne||d[98]!==de||d[99]!==oe?(ae=(0,c.jsxs)(o.Text,{x:ne,y:de,fill:"#10B981",fontSize:le,fontWeight:"bold",textAnchor:"end",children:["\u76ee\u6a19 ",oe,"\u4eba"]}),d[96]=L.fontSize,d[97]=ne,d[98]=de,d[99]=oe,d[100]=ae):ae=d[100];d[101]!==_||d[102]!==A||d[103]!==C||d[104]!==W||d[105]!==R?(re=R&&(0,c.jsx)(o.Path,{d:`${R} L ${C+A} ${W+_} L ${C} ${W+_} Z`,fill:"url(#areaGradient)"}),d[101]=_,d[102]=A,d[103]=C,d[104]=W,d[105]=R,d[106]=re):re=d[106];d[107]!==R?(se=R&&(0,c.jsx)(o.Path,{d:R,fill:"none",stroke:"url(#lineGradient)",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),d[107]=R,d[108]=se):se=d[108];if(d[109]!==L.fontSize||d[110]!==D){let e;d[112]!==L.fontSize?(e=(e,t)=>(0,c.jsxs)(o.G,{children:[(0,c.jsx)(o.Circle,{cx:e.x,cy:e.y,r:8,fill:"#FFFFFF",stroke:"#FF6B6B",strokeWidth:2}),(0,c.jsx)(o.Circle,{cx:e.x,cy:e.y,r:4,fill:"#FF6B6B"}),(0,c.jsx)(o.Text,{x:e.x,y:e.y-15,fill:"#333333",fontSize:L.fontSize-1,fontWeight:"bold",textAnchor:"middle",children:e.milestone})]},`milestone-${t}`),d[112]=L.fontSize,d[113]=e):e=d[113],ce=D.map(e),d[109]=L.fontSize,d[110]=D,d[111]=ce}else ce=d[111];d[114]!==L.fontSize||d[115]!==I||d[116]!==m.length||d[117]!==_||d[118]!==A||d[119]!==C||d[120]!==W||d[121]!==y?(he=m.length>0&&(0,c.jsxs)(o.G,{children:[(0,c.jsx)(o.Circle,{cx:C+A,cy:W+_-I/(1.1*Math.max(y,I))*_,r:10,fill:"#FFFFFF",stroke:"#FF6B6B",strokeWidth:3}),(0,c.jsx)(o.Text,{x:C+A,y:W+_-I/(1.1*Math.max(y,I))*_+4,fill:"#FF6B6B",fontSize:L.fontSize-2,fontWeight:"bold",textAnchor:"middle",children:"\u4eca"})]}),d[114]=L.fontSize,d[115]=I,d[116]=m.length,d[117]=_,d[118]=A,d[119]=C,d[120]=W,d[121]=y,d[122]=he):he=d[122];if(d[123]!==L.fontSize||d[124]!==C||d[125]!==H){let e;d[127]!==L.fontSize||d[128]!==C?(e=(e,t)=>(0,c.jsx)(o.Text,{x:C-8,y:e.y+4,fill:"#687076",fontSize:L.fontSize,textAnchor:"end",children:f(e.value)},`y-label-${t}`),d[127]=L.fontSize,d[128]=C,d[129]=e):e=d[129],ge=H.map(e),d[123]=L.fontSize,d[124]=C,d[125]=H,d[126]=ge}else ge=d[126];if(d[130]!==k||d[131]!==L.fontSize||d[132]!==M||d[133]!==G){let e;d[135]!==k||d[136]!==L.fontSize||d[137]!==M?(e=(e,t)=>(0,c.jsx)(o.Text,{x:e.x,y:k-M+20,fill:"#687076",fontSize:L.fontSize,textAnchor:"middle",children:h(e.date)},`x-label-${t}`),d[135]=k,d[136]=L.fontSize,d[137]=M,d[138]=e):e=d[138],fe=G.map(e),d[130]=k,d[131]=L.fontSize,d[132]=M,d[133]=G,d[134]=fe}else fe=d[134];const xe=W+_;let pe;d[139]!==C||d[140]!==W||d[141]!==xe?(pe=(0,c.jsx)(o.Line,{x1:C,y1:W,x2:C,y2:xe,stroke:"#E5E7EB",strokeWidth:1}),d[139]=C,d[140]=W,d[141]=xe,d[142]=pe):pe=d[142];const Se=W+_,ue=T-$,ze=W+_;let me,ye,je,be,Fe,Be,Le,Te;d[143]!==C||d[144]!==Se||d[145]!==ue||d[146]!==ze?(me=(0,c.jsx)(o.Line,{x1:C,y1:Se,x2:ue,y2:ze,stroke:"#E5E7EB",strokeWidth:1}),d[143]=C,d[144]=Se,d[145]=ue,d[146]=ze,d[147]=me):me=d[147];d[148]!==k||d[149]!==T||d[150]!==ee||d[151]!==ie||d[152]!==ae||d[153]!==re||d[154]!==se||d[155]!==ce||d[156]!==he||d[157]!==ge||d[158]!==fe||d[159]!==pe||d[160]!==me?(ye=(0,c.jsx)(i.default,{style:z.chartContainer,children:(0,c.jsxs)(s.default,{width:T,height:k,children:[Y,ee,ie,ae,re,se,ce,he,ge,fe,pe,me]})}),d[148]=k,d[149]=T,d[150]=ee,d[151]=ie,d[152]=ae,d[153]=re,d[154]=se,d[155]=ce,d[156]=he,d[157]=ge,d[158]=fe,d[159]=pe,d[160]=me,d[161]=ye):ye=d[161];d[162]===Symbol.for("react.memo_cache_sentinel")?(je=(0,c.jsx)(i.default,{style:[z.legendLine,{backgroundColor:"#FF6B6B"}]}),d[162]=je):je=d[162];d[163]!==L.legendSize?(be=(0,c.jsxs)(i.default,{style:z.legendItem,children:[je,(0,c.jsx)(n.default,{style:[z.legendText,{fontSize:L.legendSize}],children:"\u53c2\u52a0\u8005\u6570\u306e\u63a8\u79fb"})]}),d[163]=L.legendSize,d[164]=be):be=d[164];d[165]===Symbol.for("react.memo_cache_sentinel")?(Fe=(0,c.jsx)(i.default,{style:[z.legendLine,{backgroundColor:"#10B981",borderStyle:"dashed"}]}),d[165]=Fe):Fe=d[165];d[166]!==L.legendSize?(Be=(0,c.jsxs)(i.default,{style:z.legendItem,children:[Fe,(0,c.jsx)(n.default,{style:[z.legendText,{fontSize:L.legendSize}],children:"\u76ee\u6a19\u30e9\u30a4\u30f3"})]}),d[166]=L.legendSize,d[167]=Be):Be=d[167];d[168]!==be||d[169]!==Be?(Le=(0,c.jsxs)(i.default,{style:z.legend,children:[be,Be]}),d[168]=be,d[169]=Be,d[170]=Le):Le=d[170];d[171]!==U||d[172]!==ye||d[173]!==Le||d[174]!==O?(Te=(0,c.jsxs)(i.default,{style:O,children:[U,ye,Le]}),d[171]=U,d[172]=ye,d[173]=Le,d[174]=O,d[175]=Te):Te=d[175];return Te};var t=r(_d[0]),i=e(r(_d[1])),n=e(r(_d[2])),d=e(r(_d[3])),l=e(r(_d[4])),o=r(_d[5]),s=e(o);r(_d[6]);var c=r(_d[7]);function h(e){return`${e.getMonth()+1}/${e.getDate()}`}function f(e){return e>=1e4?`${(e/1e4).toFixed(1)}\u4e07`:e>=1e3?`${(e/1e3).toFixed(1)}\u5343`:e.toString()}function x(e){return e<320?{chartWidth:e-24,chartHeight:200,paddingLeft:40,paddingRight:12,paddingTop:32,paddingBottom:40,fontSize:8,titleSize:14,subtitleSize:11,legendSize:10,padding:12}:e<375?{chartWidth:e-28,chartHeight:220,paddingLeft:45,paddingRight:16,paddingTop:36,paddingBottom:45,fontSize:9,titleSize:16,subtitleSize:12,legendSize:11,padding:14}:e<414?{chartWidth:e-32,chartHeight:260,paddingLeft:50,paddingRight:20,paddingTop:40,paddingBottom:50,fontSize:10,titleSize:18,subtitleSize:14,legendSize:12,padding:16}:e<768?{chartWidth:Math.min(e-32,420),chartHeight:280,paddingLeft:55,paddingRight:24,paddingTop:44,paddingBottom:54,fontSize:11,titleSize:20,subtitleSize:15,legendSize:13,padding:18}:e<1024?{chartWidth:Math.min(e-48,600),chartHeight:320,paddingLeft:60,paddingRight:28,paddingTop:48,paddingBottom:58,fontSize:12,titleSize:22,subtitleSize:16,legendSize:14,padding:20}:e<1440?{chartWidth:Math.min(e-64,720),chartHeight:360,paddingLeft:65,paddingRight:32,paddingTop:52,paddingBottom:62,fontSize:13,titleSize:24,subtitleSize:17,legendSize:15,padding:24}:e<2560?{chartWidth:Math.min(e-80,840),chartHeight:400,paddingLeft:70,paddingRight:36,paddingTop:56,paddingBottom:66,fontSize:14,titleSize:26,subtitleSize:18,legendSize:16,padding:28}:{chartWidth:Math.min(e-96,960),chartHeight:440,paddingLeft:80,paddingRight:40,paddingTop:60,paddingBottom:70,fontSize:16,titleSize:28,subtitleSize:20,legendSize:18,padding:32}}function p(e){return e.count}function S(e){return e.milestone}function u(e){return e.count}const z=d.default.create({container:{backgroundColor:"#1E2022",borderRadius:16,marginVertical:8},header:{marginBottom:16},title:{fontWeight:"bold",color:"#ECEDEE",marginBottom:4},subtitle:{color:"#9BA1A6"},chartContainer:{alignItems:"center",backgroundColor:"#FFFFFF",borderRadius:12,padding:8},legend:{flexDirection:"row",justifyContent:"center",marginTop:12,gap:20},legendItem:{flexDirection:"row",alignItems:"center",gap:6},legendLine:{width:20,height:3,borderRadius:2},legendText:{color:"#9BA1A6"},emptyState:{alignItems:"center",justifyContent:"center",paddingVertical:40},emptyIcon:{fontSize:48,marginBottom:12},emptyText:{color:"#9BA1A6",textAlign:"center",lineHeight:22}})},1577,[1685,109,188,28,267,1814,3,2]);
__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.TicketTransferSection=function(e){const c=(0,t.c)(93),{challengeId:f}=e,{user:h}=(0,j.useAuth)(),[I,B]=(0,o.useState)("transfers"),[k,A]=(0,o.useState)(!1),[R,P]=(0,o.useState)(!1);let F;c[0]!==f?(F={challengeId:f},c[0]=f,c[1]=F):F=c[1];const T=f>0;let v;c[2]!==T?(v={enabled:T},c[2]=T,c[3]=v):v=c[3];const{data:H,refetch:E}=x.trpc.ticketTransfer.listByChallenge.useQuery(F,v);let L;c[4]!==f?(L={challengeId:f},c[4]=f,c[5]=L):L=c[5];const U=f>0;let M;c[6]!==U?(M={enabled:U},c[6]=U,c[7]=M):M=c[7];const{data:V,refetch:O}=x.trpc.ticketWaitlist.listByChallenge.useQuery(L,M);let N;c[8]!==f?(N={challengeId:f},c[8]=f,c[9]=N):N=c[9];const Q=!!h&&f>0;let q;c[10]!==Q?(q={enabled:Q},c[10]=Q,c[11]=q):q=c[11];const{data:X,refetch:$}=x.trpc.ticketWaitlist.isInWaitlist.useQuery(N,q);let G;c[12]!==E?(G={onSuccess:()=>{u.default.alert("\u6295\u7a3f\u5b8c\u4e86","\u30c1\u30b1\u30c3\u30c8\u8b72\u6e21\u306e\u6295\u7a3f\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"),A(!1),E()},onError:D},c[12]=E,c[13]=G):G=c[13];const J=x.trpc.ticketTransfer.create.useMutation(G);let K;c[14]!==$||c[15]!==O?(K={onSuccess:()=>{u.default.alert("\u767b\u9332\u5b8c\u4e86","\u5f85\u6a5f\u30ea\u30b9\u30c8\u306b\u767b\u9332\u3057\u307e\u3057\u305f\u3002\u65b0\u3057\u3044\u8b72\u6e21\u6295\u7a3f\u304c\u3042\u308c\u3070\u901a\u77e5\u3057\u307e\u3059\u3002"),P(!1),O(),$()},onError:z},c[14]=$,c[15]=O,c[16]=K):K=c[16];const Y=x.trpc.ticketWaitlist.add.useMutation(K);let Z;c[17]!==$||c[18]!==O?(Z={onSuccess:()=>{u.default.alert("\u89e3\u9664\u5b8c\u4e86","\u5f85\u6a5f\u30ea\u30b9\u30c8\u304b\u3089\u89e3\u9664\u3057\u307e\u3057\u305f"),O(),$()}},c[17]=$,c[18]=O,c[19]=Z):Z=c[19];const ee=x.trpc.ticketWaitlist.remove.useMutation(Z);let te;c[20]!==E?(te={onSuccess:()=>{u.default.alert("\u30ad\u30e3\u30f3\u30bb\u30eb\u5b8c\u4e86","\u8b72\u6e21\u6295\u7a3f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f"),E()}},c[20]=E,c[21]=te):te=c[21];const oe=x.trpc.ticketTransfer.cancel.useMutation(te),re=_;let le,ne,ie,se,ae,de,ce,fe;c[22]===Symbol.for("react.memo_cache_sentinel")?(le={marginTop:24},c[22]=le):le=c[22];c[23]===Symbol.for("react.memo_cache_sentinel")?(ne={flexDirection:"row",alignItems:"center",marginBottom:16},ie=(0,C.jsx)(y.default,{name:"swap-horiz",size:24,color:"#EC4899"}),c[23]=ne,c[24]=ie):(ne=c[23],ie=c[24]);c[25]===Symbol.for("react.memo_cache_sentinel")?(se=(0,C.jsxs)(l.default,{style:ne,children:[ie,(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:18,fontWeight:"bold",marginLeft:8},children:"\u30c1\u30b1\u30c3\u30c8\u8b72\u6e21"})]}),c[25]=se):se=c[25];c[26]===Symbol.for("react.memo_cache_sentinel")?(ae={backgroundColor:"#1A1D21",borderRadius:12,padding:12,marginBottom:16,borderWidth:1,borderColor:"#2D3139"},c[26]=ae):ae=c[26];c[27]===Symbol.for("react.memo_cache_sentinel")?(de=(0,C.jsx)(l.default,{style:ae,children:(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:12,lineHeight:18},children:"\u6025\u306a\u4e88\u5b9a\u5909\u66f4\u3067\u30e9\u30a4\u30d6\u306b\u884c\u3051\u306a\u304f\u306a\u3063\u305f\u65b9\u3068\u3001\u30c1\u30b1\u30c3\u30c8\u3092\u63a2\u3057\u3066\u3044\u308b\u65b9\u3092\u3064\u306a\u3050\u30b3\u30fc\u30ca\u30fc\u3067\u3059\u3002 \u9023\u7d61\u306fX\uff08Twitter\uff09\u306eDM\u3067\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002"})}),c[27]=de):de=c[27];c[28]===Symbol.for("react.memo_cache_sentinel")?(ce={flexDirection:"row",marginBottom:16,gap:12},c[28]=ce):ce=c[28];c[29]===Symbol.for("react.memo_cache_sentinel")?(fe=()=>B("transfers"),c[29]=fe):fe=c[29];const ue="transfers"===I?"#EC4899":"#1A1D21",me="transfers"===I?0:1;let he;c[30]!==ue||c[31]!==me?(he={flex:1,backgroundColor:ue,borderRadius:12,minHeight:48,paddingVertical:14,paddingHorizontal:16,alignItems:"center",justifyContent:"center",borderWidth:me,borderColor:"#2D3139"},c[30]=ue,c[31]=me,c[32]=he):he=c[32];const ge="transfers"===I?"bold":"500";let be;c[33]!==ge?(be={color:"#fff",fontSize:15,fontWeight:ge},c[33]=ge,c[34]=be):be=c[34];const ye=H?.length||0;let xe,je,Ce;c[35]!==be||c[36]!==ye?(xe=(0,C.jsxs)(n.default,{style:be,children:["\ud83c\udfab \u8b72\u308a\u305f\u3044 (",ye,")"]}),c[35]=be,c[36]=ye,c[37]=xe):xe=c[37];c[38]!==he||c[39]!==xe?(je=(0,C.jsx)(s.default,{onPress:fe,style:he,children:xe}),c[38]=he,c[39]=xe,c[40]=je):je=c[40];c[41]===Symbol.for("react.memo_cache_sentinel")?(Ce=()=>B("waitlist"),c[41]=Ce):Ce=c[41];const pe="waitlist"===I?"#8B5CF6":"#1A1D21",Se="waitlist"===I?0:1;let ze;c[42]!==pe||c[43]!==Se?(ze={flex:1,backgroundColor:pe,borderRadius:12,minHeight:48,paddingVertical:14,paddingHorizontal:16,alignItems:"center",justifyContent:"center",borderWidth:Se,borderColor:"#2D3139"},c[42]=pe,c[43]=Se,c[44]=ze):ze=c[44];const De="waitlist"===I?"bold":"500";let We;c[45]!==De?(We={color:"#fff",fontSize:15,fontWeight:De},c[45]=De,c[46]=We):We=c[46];const we=V?.length||0;let Ie,Be,ke,Ae,Re,Pe,Fe,Te;c[47]!==We||c[48]!==we?(Ie=(0,C.jsxs)(n.default,{style:We,children:["\ud83d\udd14 \u6b32\u3057\u3044 (",we,")"]}),c[47]=We,c[48]=we,c[49]=Ie):Ie=c[49];c[50]!==ze||c[51]!==Ie?(Be=(0,C.jsx)(s.default,{onPress:Ce,style:ze,children:Ie}),c[50]=ze,c[51]=Ie,c[52]=Be):Be=c[52];c[53]!==je||c[54]!==Be?(ke=(0,C.jsxs)(l.default,{style:ce,children:[je,Be]}),c[53]=je,c[54]=Be,c[55]=ke):ke=c[55];c[56]===Symbol.for("react.memo_cache_sentinel")?(Ae={marginBottom:20},c[56]=Ae):Ae=c[56];c[57]!==I||c[58]!==f||c[59]!==X||c[60]!==ee||c[61]!==h?(Re=(0,C.jsx)(l.default,{style:Ae,children:"transfers"===I?(0,C.jsxs)(s.default,{onPress:()=>{h?A(!0):u.default.alert("\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059","\u30c1\u30b1\u30c3\u30c8\u8b72\u6e21\u306e\u6295\u7a3f\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059")},style:{backgroundColor:"#EC4899",borderRadius:16,minHeight:52,paddingVertical:16,paddingHorizontal:24,flexDirection:"row",alignItems:"center",justifyContent:"center",shadowColor:"#EC4899",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:4},children:[(0,C.jsx)(y.default,{name:"add-circle",size:24,color:"#fff"}),(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginLeft:10},children:"\u30c1\u30b1\u30c3\u30c8\u3092\u8b72\u308b"})]}):(0,C.jsxs)(s.default,{onPress:()=>{h?X?u.default.alert("\u5f85\u6a5f\u30ea\u30b9\u30c8\u304b\u3089\u89e3\u9664","\u5f85\u6a5f\u30ea\u30b9\u30c8\u304b\u3089\u89e3\u9664\u3057\u307e\u3059\u304b\uff1f",[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u89e3\u9664\u3059\u308b",onPress:()=>ee.mutate({challengeId:f})}]):P(!0):u.default.alert("\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059","\u5f85\u6a5f\u30ea\u30b9\u30c8\u767b\u9332\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059")},style:{backgroundColor:X?"#6B7280":"#8B5CF6",borderRadius:16,minHeight:52,paddingVertical:16,paddingHorizontal:24,flexDirection:"row",alignItems:"center",justifyContent:"center",shadowColor:X?"#6B7280":"#8B5CF6",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:4},children:[(0,C.jsx)(y.default,{name:X?"notifications-off":"notifications-active",size:24,color:"#fff"}),(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginLeft:10},children:X?"\u5f85\u6a5f\u30ea\u30b9\u30c8\u89e3\u9664":"\u30c1\u30b1\u30c3\u30c8\u304c\u6b32\u3057\u3044"})]})}),c[57]=I,c[58]=f,c[59]=X,c[60]=ee,c[61]=h,c[62]=Re):Re=c[62];c[63]!==I||c[64]!==oe||c[65]!==H||c[66]!==h||c[67]!==V?(Pe="transfers"===I?H&&H.length>0?(0,C.jsx)(l.default,{style:{gap:12},children:H.map(e=>(0,C.jsxs)(l.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:16,borderWidth:1,borderColor:"#2D3139"},children:[(0,C.jsxs)(l.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:12},children:[e.userImage?(0,C.jsx)(b.Image,{source:{uri:e.userImage},style:{width:40,height:40,borderRadius:20}}):(0,C.jsx)(l.default,{style:{width:40,height:40,borderRadius:20,backgroundColor:"#EC4899",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold"},children:(e.userName||"?")[0]})}),(0,C.jsxs)(l.default,{style:{flex:1,marginLeft:12},children:[(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:14,fontWeight:"600"},children:e.userName||"\u533f\u540d"}),e.userUsername&&(0,C.jsxs)(n.default,{style:{color:"#9CA3AF",fontSize:12},children:["@",e.userUsername]})]}),(0,C.jsx)(l.default,{style:{backgroundColor:S[e.priceType]||"#6B7280",paddingHorizontal:10,paddingVertical:4,borderRadius:12},children:(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:12,fontWeight:"bold"},children:p[e.priceType]||e.priceType})})]}),(0,C.jsxs)(l.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:8},children:[(0,C.jsx)(y.default,{name:"confirmation-number",size:16,color:"#EC4899"}),(0,C.jsxs)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginLeft:8},children:[e.ticketCount,"\u679a"]})]}),e.comment&&(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:13,marginBottom:12},children:e.comment}),(0,C.jsxs)(l.default,{style:{flexDirection:"row",gap:10,marginTop:4},children:[e.userUsername&&(0,C.jsxs)(s.default,{onPress:()=>re(e.userUsername),style:{flex:1,backgroundColor:"#000",borderRadius:12,minHeight:44,paddingVertical:12,paddingHorizontal:16,flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#333"},children:[(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold"},children:"\ud835\udd4f"}),(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:14,fontWeight:"600",marginLeft:8},children:"DM\u3067\u9023\u7d61"})]}),h&&e.userId===h.id&&(0,C.jsx)(s.default,{onPress:()=>{u.default.alert("\u6295\u7a3f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb","\u3053\u306e\u8b72\u6e21\u6295\u7a3f\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u304b\uff1f",[{text:"\u3044\u3044\u3048",style:"cancel"},{text:"\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b",onPress:()=>oe.mutate({id:e.id})}])},style:{backgroundColor:"#EF4444",borderRadius:12,minHeight:44,paddingVertical:12,paddingHorizontal:20,alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:14,fontWeight:"600"},children:"\u53d6\u6d88"})})]})]},e.id))}):(0,C.jsxs)(l.default,{style:{alignItems:"center",paddingVertical:32},children:[(0,C.jsx)(y.default,{name:"confirmation-number",size:48,color:"#4B5563"}),(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:12,textAlign:"center"},children:"\u73fe\u5728\u3001\u30c1\u30b1\u30c3\u30c8\u8b72\u6e21\u306e\u6295\u7a3f\u306f\u3042\u308a\u307e\u305b\u3093"})]}):V&&V.length>0?(0,C.jsx)(l.default,{style:{gap:12},children:V.map(e=>(0,C.jsxs)(l.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:16,borderWidth:1,borderColor:"#2D3139",flexDirection:"row",alignItems:"center"},children:[e.userImage?(0,C.jsx)(b.Image,{source:{uri:e.userImage},style:{width:40,height:40,borderRadius:20}}):(0,C.jsx)(l.default,{style:{width:40,height:40,borderRadius:20,backgroundColor:"#8B5CF6",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold"},children:(e.userName||"?")[0]})}),(0,C.jsxs)(l.default,{style:{flex:1,marginLeft:12},children:[(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:14,fontWeight:"600"},children:e.userName||"\u533f\u540d"}),(0,C.jsxs)(n.default,{style:{color:"#9CA3AF",fontSize:12},children:[e.desiredCount,"\u679a\u5e0c\u671b"]})]}),e.userUsername&&(0,C.jsxs)(s.default,{onPress:()=>re(e.userUsername),style:{backgroundColor:"#000",borderRadius:10,minHeight:44,minWidth:80,paddingVertical:10,paddingHorizontal:16,flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#333"},children:[(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:14,fontWeight:"bold"},children:"\ud835\udd4f"}),(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:13,fontWeight:"600",marginLeft:6},children:"DM"})]})]},e.id))}):(0,C.jsxs)(l.default,{style:{alignItems:"center",paddingVertical:32},children:[(0,C.jsx)(y.default,{name:"people",size:48,color:"#4B5563"}),(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:12,textAlign:"center"},children:"\u73fe\u5728\u3001\u30c1\u30b1\u30c3\u30c8\u3092\u63a2\u3057\u3066\u3044\u308b\u4eba\u306f\u3044\u307e\u305b\u3093"})]}),c[63]=I,c[64]=oe,c[65]=H,c[66]=h,c[67]=V,c[68]=Pe):Pe=c[68];c[69]===Symbol.for("react.memo_cache_sentinel")?(Fe=()=>A(!1),c[69]=Fe):Fe=c[69];c[70]!==f||c[71]!==J?(Te=e=>J.mutate({challengeId:f,...e}),c[70]=f,c[71]=J,c[72]=Te):Te=c[72];const ve=h?.username;let He,Ee,Le;c[73]!==J.isPending||c[74]!==k||c[75]!==Te||c[76]!==ve?(He=(0,C.jsx)(W,{visible:k,onClose:Fe,onSubmit:Te,isLoading:J.isPending,userUsername:ve}),c[73]=J.isPending,c[74]=k,c[75]=Te,c[76]=ve,c[77]=He):He=c[77];c[78]===Symbol.for("react.memo_cache_sentinel")?(Ee=()=>P(!1),c[78]=Ee):Ee=c[78];c[79]!==Y||c[80]!==f?(Le=e=>Y.mutate({challengeId:f,...e}),c[79]=Y,c[80]=f,c[81]=Le):Le=c[81];const Ue=h?.username;let Me,Ve;c[82]!==Y.isPending||c[83]!==R||c[84]!==Le||c[85]!==Ue?(Me=(0,C.jsx)(w,{visible:R,onClose:Ee,onSubmit:Le,isLoading:Y.isPending,userUsername:Ue}),c[82]=Y.isPending,c[83]=R,c[84]=Le,c[85]=Ue,c[86]=Me):Me=c[86];c[87]!==ke||c[88]!==Re||c[89]!==Pe||c[90]!==He||c[91]!==Me?(Ve=(0,C.jsxs)(l.default,{style:le,children:[se,de,ke,Re,Pe,He,Me]}),c[87]=ke,c[88]=Re,c[89]=Pe,c[90]=He,c[91]=Me,c[92]=Ve):Ve=c[92];return Ve};var t=r(d[0]),o=r(d[1]),l=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),f=e(r(d[6])),u=e(r(d[7])),h=e(r(d[8])),b=r(d[9]),y=e(r(d[10])),x=r(d[11]),j=r(d[12]),C=r(d[13]);const p={face_value:"\u5b9a\u4fa1",negotiable:"\u76f8\u8ac7",free:"\u7121\u6599"},S={face_value:"#10B981",negotiable:"#F59E0B",free:"#EC4899"};function _(e){e?h.default.openURL(`https://twitter.com/messages/compose?recipient_id=${e}`):u.default.alert("\u30a8\u30e9\u30fc","\u3053\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u306fDM\u3092\u9001\u308c\u307e\u305b\u3093")}function z(e){u.default.alert("\u30a8\u30e9\u30fc",e.message||"\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}function D(e){u.default.alert("\u30a8\u30e9\u30fc",e.message||"\u6295\u7a3f\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}function W(e){const u=(0,t.c)(52),{visible:h,onClose:b,onSubmit:y,isLoading:x,userUsername:j}=e,[_,z]=(0,o.useState)(1),[D,W]=(0,o.useState)("face_value"),[w,I]=(0,o.useState)("");let B;u[0]!==w||u[1]!==y||u[2]!==D||u[3]!==_||u[4]!==j?(B=()=>{y({ticketCount:_,priceType:D,comment:w.trim()||void 0,userUsername:j})},u[0]=w,u[1]=y,u[2]=D,u[3]=_,u[4]=j,u[5]=B):B=u[5];const k=B;let A,R,P,F,T,v,H,E,L,U,M,V,O,N,Q,q,X,$,G,J;u[6]===Symbol.for("react.memo_cache_sentinel")?(A={flex:1,backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",alignItems:"center",padding:20},u[6]=A):A=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(R={backgroundColor:"#1A1D21",borderRadius:16,padding:20,width:"100%",maxWidth:400,borderWidth:1,borderColor:"#2D3139"},u[7]=R):R=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(P=(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:20,fontWeight:"bold",marginBottom:20},children:"\u30c1\u30b1\u30c3\u30c8\u3092\u8b72\u308b"}),u[8]=P):P=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(F=(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u679a\u6570"}),u[9]=F):F=u[9],u[10]===Symbol.for("react.memo_cache_sentinel")?(T={flexDirection:"row",gap:8,marginBottom:16},v=[1,2,3,4,5],u[10]=T,u[11]=v):(T=u[10],v=u[11]),u[12]!==_?(H=(0,C.jsx)(l.default,{style:T,children:v.map(e=>(0,C.jsx)(s.default,{onPress:()=>z(e),style:{flex:1,backgroundColor:_===e?"#EC4899":"#0D1117",borderRadius:8,padding:12,alignItems:"center",borderWidth:1,borderColor:_===e?"#EC4899":"#2D3139"},children:(0,C.jsxs)(n.default,{style:{color:"#fff",fontWeight:_===e?"bold":"normal"},children:[e,"\u679a"]})},e))}),u[12]=_,u[13]=H):H=u[13],u[14]===Symbol.for("react.memo_cache_sentinel")?(E=(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u4fa1\u683c"}),u[14]=E):E=u[14],u[15]===Symbol.for("react.memo_cache_sentinel")?(L={flexDirection:"row",gap:8,marginBottom:16},U=["face_value","negotiable","free"],u[15]=L,u[16]=U):(L=u[15],U=u[16]),u[17]!==D?(M=(0,C.jsx)(l.default,{style:L,children:U.map(e=>(0,C.jsx)(s.default,{onPress:()=>W(e),style:{flex:1,backgroundColor:D===e?S[e]:"#0D1117",borderRadius:8,padding:12,alignItems:"center",borderWidth:1,borderColor:D===e?S[e]:"#2D3139"},children:(0,C.jsx)(n.default,{style:{color:"#fff",fontWeight:D===e?"bold":"normal"},children:p[e]})},e))}),u[17]=D,u[18]=M):M=u[18],u[19]===Symbol.for("react.memo_cache_sentinel")?(V=(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u30b3\u30e1\u30f3\u30c8\uff08\u4efb\u610f\uff09"}),u[19]=V):V=u[19],u[20]===Symbol.for("react.memo_cache_sentinel")?(O={backgroundColor:"#0D1117",borderRadius:8,padding:12,color:"#fff",borderWidth:1,borderColor:"#2D3139",minHeight:80,textAlignVertical:"top",marginBottom:16},u[20]=O):O=u[20],u[21]!==w?(N=(0,C.jsx)(c.default,{value:w,onChangeText:I,placeholder:"\u4f8b: \u6025\u306a\u4ed5\u4e8b\u3067\u884c\u3051\u306a\u304f\u306a\u308a\u307e\u3057\u305f...",placeholderTextColor:"#6B7280",multiline:!0,numberOfLines:3,style:O}),u[21]=w,u[22]=N):N=u[22],u[23]===Symbol.for("react.memo_cache_sentinel")?(Q={backgroundColor:"rgba(245, 158, 11, 0.1)",borderRadius:8,padding:12,marginBottom:20},u[23]=Q):Q=u[23],u[24]===Symbol.for("react.memo_cache_sentinel")?(q=(0,C.jsx)(l.default,{style:Q,children:(0,C.jsxs)(n.default,{style:{color:"#F59E0B",fontSize:12,lineHeight:18},children:["\u26a0\ufe0f \u9023\u7d61\u306fX\uff08Twitter\uff09\u306eDM\u3067\u884c\u308f\u308c\u307e\u3059\u3002","\n","\u91d1\u92ad\u306e\u3084\u308a\u53d6\u308a\u306f\u5f53\u4e8b\u8005\u9593\u3067\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002"]})}),u[24]=q):q=u[24],u[25]===Symbol.for("react.memo_cache_sentinel")?(X={flexDirection:"row",gap:12},u[25]=X):X=u[25],u[26]===Symbol.for("react.memo_cache_sentinel")?($={flex:1,backgroundColor:"#2D3139",borderRadius:12,padding:16,alignItems:"center"},u[26]=$):$=u[26],u[27]===Symbol.for("react.memo_cache_sentinel")?(G=(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),u[27]=G):G=u[27],u[28]!==b?(J=(0,C.jsx)(s.default,{onPress:b,style:$,children:G}),u[28]=b,u[29]=J):J=u[29];const K=x?.5:1;let Y,Z;u[30]!==K?(Y={flex:1,backgroundColor:"#EC4899",borderRadius:12,padding:16,alignItems:"center",opacity:K},u[30]=K,u[31]=Y):Y=u[31],u[32]===Symbol.for("react.memo_cache_sentinel")?(Z={color:"#fff",fontSize:16,fontWeight:"bold"},u[32]=Z):Z=u[32];const ee=x?"\u6295\u7a3f\u4e2d...":"\u6295\u7a3f\u3059\u308b";let te,oe,re,le,ne;return u[33]!==ee?(te=(0,C.jsx)(n.default,{style:Z,children:ee}),u[33]=ee,u[34]=te):te=u[34],u[35]!==k||u[36]!==x||u[37]!==Y||u[38]!==te?(oe=(0,C.jsx)(s.default,{onPress:k,disabled:x,style:Y,children:te}),u[35]=k,u[36]=x,u[37]=Y,u[38]=te,u[39]=oe):oe=u[39],u[40]!==J||u[41]!==oe?(re=(0,C.jsxs)(l.default,{style:X,children:[J,oe]}),u[40]=J,u[41]=oe,u[42]=re):re=u[42],u[43]!==M||u[44]!==N||u[45]!==re||u[46]!==H?(le=(0,C.jsx)(l.default,{style:A,children:(0,C.jsxs)(l.default,{style:R,children:[P,F,H,E,M,V,N,q,re]})}),u[43]=M,u[44]=N,u[45]=re,u[46]=H,u[47]=le):le=u[47],u[48]!==b||u[49]!==le||u[50]!==h?(ne=(0,C.jsx)(f.default,{visible:h,transparent:!0,animationType:"fade",onRequestClose:b,children:le}),u[48]=b,u[49]=le,u[50]=h,u[51]=ne):ne=u[51],ne}function w(e){const c=(0,t.c)(38),{visible:u,onClose:h,onSubmit:b,isLoading:y,userUsername:x}=e,[j,p]=(0,o.useState)(1);let S;c[0]!==j||c[1]!==b||c[2]!==x?(S=()=>{b({desiredCount:j,userUsername:x})},c[0]=j,c[1]=b,c[2]=x,c[3]=S):S=c[3];const _=S;let z,D,W,w,I,B,k,A,R,P,F,T;c[4]===Symbol.for("react.memo_cache_sentinel")?(z={flex:1,backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",alignItems:"center",padding:20},c[4]=z):z=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(D={backgroundColor:"#1A1D21",borderRadius:16,padding:20,width:"100%",maxWidth:400,borderWidth:1,borderColor:"#2D3139"},c[5]=D):D=c[5],c[6]===Symbol.for("react.memo_cache_sentinel")?(W=(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:20,fontWeight:"bold",marginBottom:20},children:"\u30c1\u30b1\u30c3\u30c8\u3092\u63a2\u3059"}),c[6]=W):W=c[6],c[7]===Symbol.for("react.memo_cache_sentinel")?(w=(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:16},children:"\u5f85\u6a5f\u30ea\u30b9\u30c8\u306b\u767b\u9332\u3059\u308b\u3068\u3001\u65b0\u3057\u3044\u8b72\u6e21\u6295\u7a3f\u304c\u3042\u3063\u305f\u6642\u306b\u901a\u77e5\u3092\u53d7\u3051\u53d6\u308c\u307e\u3059\u3002"}),c[7]=w):w=c[7],c[8]===Symbol.for("react.memo_cache_sentinel")?(I=(0,C.jsx)(n.default,{style:{color:"#9CA3AF",fontSize:14,marginBottom:8},children:"\u5e0c\u671b\u679a\u6570"}),c[8]=I):I=c[8],c[9]===Symbol.for("react.memo_cache_sentinel")?(B={flexDirection:"row",gap:8,marginBottom:20},k=[1,2,3,4,5],c[9]=B,c[10]=k):(B=c[9],k=c[10]),c[11]!==j?(A=(0,C.jsx)(l.default,{style:B,children:k.map(e=>(0,C.jsx)(s.default,{onPress:()=>p(e),style:{flex:1,backgroundColor:j===e?"#8B5CF6":"#0D1117",borderRadius:8,padding:12,alignItems:"center",borderWidth:1,borderColor:j===e?"#8B5CF6":"#2D3139"},children:(0,C.jsxs)(n.default,{style:{color:"#fff",fontWeight:j===e?"bold":"normal"},children:[e,"\u679a"]})},e))}),c[11]=j,c[12]=A):A=c[12],c[13]===Symbol.for("react.memo_cache_sentinel")?(R={flexDirection:"row",gap:12},c[13]=R):R=c[13],c[14]===Symbol.for("react.memo_cache_sentinel")?(P={flex:1,backgroundColor:"#2D3139",borderRadius:12,padding:16,alignItems:"center"},c[14]=P):P=c[14],c[15]===Symbol.for("react.memo_cache_sentinel")?(F=(0,C.jsx)(n.default,{style:{color:"#fff",fontSize:16},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),c[15]=F):F=c[15],c[16]!==h?(T=(0,C.jsx)(s.default,{onPress:h,style:P,children:F}),c[16]=h,c[17]=T):T=c[17];const v=y?.5:1;let H,E;c[18]!==v?(H={flex:1,backgroundColor:"#8B5CF6",borderRadius:12,padding:16,alignItems:"center",opacity:v},c[18]=v,c[19]=H):H=c[19],c[20]===Symbol.for("react.memo_cache_sentinel")?(E={color:"#fff",fontSize:16,fontWeight:"bold"},c[20]=E):E=c[20];const L=y?"\u767b\u9332\u4e2d...":"\u767b\u9332\u3059\u308b";let U,M,V,O,N;return c[21]!==L?(U=(0,C.jsx)(n.default,{style:E,children:L}),c[21]=L,c[22]=U):U=c[22],c[23]!==_||c[24]!==y||c[25]!==H||c[26]!==U?(M=(0,C.jsx)(s.default,{onPress:_,disabled:y,style:H,children:U}),c[23]=_,c[24]=y,c[25]=H,c[26]=U,c[27]=M):M=c[27],c[28]!==T||c[29]!==M?(V=(0,C.jsxs)(l.default,{style:R,children:[T,M]}),c[28]=T,c[29]=M,c[30]=V):V=c[30],c[31]!==V||c[32]!==A?(O=(0,C.jsx)(l.default,{style:z,children:(0,C.jsxs)(l.default,{style:D,children:[W,w,I,A,V]})}),c[31]=V,c[32]=A,c[33]=O):O=c[33],c[34]!==h||c[35]!==O||c[36]!==u?(N=(0,C.jsx)(f.default,{visible:u,transparent:!0,animationType:"fade",onRequestClose:h,children:O}),c[34]=h,c[35]=O,c[36]=u,c[37]=N):N=c[37],N}},1578,[1685,3,109,188,229,252,235,101,220,1056,712,1087,1185,2]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.HostProfileModal=function({visible:e,onClose:d,username:b,displayName:C,profileImage:z,challengeCount:I}){const v=(0,p.useColors)(),[T,w]=(0,t.useState)(null),[B,S]=(0,t.useState)(!1),[O,P]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&b&&V()},[e,b]);const V=async()=>{S(!0),P(null);try{const e=await(0,x.getProfile)(b);w(e)}catch(e){P("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{S(!1)}},k=()=>{d()},D=T?.name||C||b,L=T?.profileImage||z,_=T?.description||"",H=T?.followersCount||0,R=T?.followingCount||0;return(0,y.jsx)(o.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:k,children:(0,y.jsx)(s.default,{style:j.overlay,activeOpacity:1,onPress:k,children:(0,y.jsxs)(s.default,{activeOpacity:1,onPress:e=>e.stopPropagation(),style:[j.container,{backgroundColor:v.surface}],children:[(0,y.jsx)(s.default,{style:j.closeButton,onPress:k,activeOpacity:.7,children:(0,y.jsx)(h.default,{name:"close",size:24,color:v.muted})}),B?(0,y.jsxs)(n.default,{style:j.loadingContainer,children:[(0,y.jsx)(c.default,{size:"large",color:v.primary}),(0,y.jsx)(l.default,{style:[j.loadingText,{color:v.muted}],children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}):O?(0,y.jsxs)(n.default,{style:j.errorContainer,children:[(0,y.jsx)(h.default,{name:"error-outline",size:48,color:v.error}),(0,y.jsx)(l.default,{style:[j.errorText,{color:v.error}],children:O}),(0,y.jsx)(s.default,{style:[j.retryButton,{backgroundColor:v.primary}],onPress:V,activeOpacity:.8,children:(0,y.jsx)(l.default,{style:j.retryButtonText,children:"\u518d\u8a66\u884c"})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(n.default,{style:j.imageContainer,children:[L?(0,y.jsx)(f.Image,{source:{uri:L},style:j.profileImage,contentFit:"cover"}):(0,y.jsx)(n.default,{style:[j.profileImage,j.placeholderImage,{backgroundColor:v.border}],children:(0,y.jsx)(h.default,{name:"person",size:48,color:v.muted})}),(0,y.jsxs)(n.default,{style:[j.hostBadge,{backgroundColor:v.secondary}],children:[(0,y.jsx)(h.default,{name:"star",size:14,color:"#fff"}),(0,y.jsx)(l.default,{style:j.hostBadgeText,children:"\u4e3b\u50ac\u8005"})]})]}),(0,y.jsx)(l.default,{style:[j.name,{color:v.foreground}],children:D}),(0,y.jsxs)(l.default,{style:[j.username,{color:v.muted}],children:["@",b]}),_?(0,y.jsx)(l.default,{style:[j.description,{color:v.foreground}],numberOfLines:3,children:_}):null,(0,y.jsxs)(n.default,{style:j.statsContainer,children:[(0,y.jsxs)(n.default,{style:j.statItem,children:[(0,y.jsx)(l.default,{style:[j.statValue,{color:v.foreground}],children:H.toLocaleString()}),(0,y.jsx)(l.default,{style:[j.statLabel,{color:v.muted}],children:"\u30d5\u30a9\u30ed\u30ef\u30fc"})]}),(0,y.jsx)(n.default,{style:[j.statDivider,{backgroundColor:v.border}]}),(0,y.jsxs)(n.default,{style:j.statItem,children:[(0,y.jsx)(l.default,{style:[j.statValue,{color:v.foreground}],children:R.toLocaleString()}),(0,y.jsx)(l.default,{style:[j.statLabel,{color:v.muted}],children:"\u30d5\u30a9\u30ed\u30fc\u4e2d"})]}),void 0!==I&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.default,{style:[j.statDivider,{backgroundColor:v.border}]}),(0,y.jsxs)(n.default,{style:j.statItem,children:[(0,y.jsx)(l.default,{style:[j.statValue,{color:v.foreground}],children:I}),(0,y.jsx)(l.default,{style:[j.statLabel,{color:v.muted}],children:"\u30c1\u30e3\u30ec\u30f3\u30b8"})]})]})]}),(0,y.jsxs)(s.default,{style:[j.twitterButton,{backgroundColor:"#1DA1F2"}],onPress:()=>{u.default.openURL(`https://twitter.com/${b}`)},activeOpacity:.8,children:[(0,y.jsx)(h.default,{name:"open-in-new",size:18,color:"#fff"}),(0,y.jsx)(l.default,{style:j.twitterButtonText,children:"X\u3067\u898b\u308b"})]})]})]})})})};var t=r(_d[0]),o=e(r(_d[1])),n=e(r(_d[2])),l=e(r(_d[3])),s=e(r(_d[4])),d=e(r(_d[5])),c=e(r(_d[6])),u=e(r(_d[7]));r(_d[8]);var f=r(_d[9]),h=e(r(_d[10])),x=((function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[11])),r(_d[12])),p=r(_d[13]),y=r(_d[14]);const j=d.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.6)",justifyContent:"center",alignItems:"center",padding:24},container:{width:"100%",maxWidth:340,borderRadius:20,padding:24,alignItems:"center"},closeButton:{position:"absolute",top:12,right:12,padding:4,zIndex:1},loadingContainer:{paddingVertical:40,alignItems:"center"},loadingText:{marginTop:12,fontSize:14},errorContainer:{paddingVertical:40,alignItems:"center"},errorText:{marginTop:12,fontSize:14,textAlign:"center"},retryButton:{marginTop:16,paddingHorizontal:20,paddingVertical:10,borderRadius:8},retryButtonText:{color:"#fff",fontSize:14,fontWeight:"600"},imageContainer:{position:"relative",marginBottom:16},profileImage:{width:100,height:100,borderRadius:50},placeholderImage:{justifyContent:"center",alignItems:"center"},hostBadge:{position:"absolute",bottom:-4,right:-4,flexDirection:"row",alignItems:"center",paddingHorizontal:8,paddingVertical:4,borderRadius:12,gap:2},hostBadgeText:{color:"#fff",fontSize:11,fontWeight:"600"},name:{fontSize:20,fontWeight:"700",textAlign:"center"},username:{fontSize:14,marginTop:4},description:{fontSize:14,lineHeight:20,textAlign:"center",marginTop:12,paddingHorizontal:8},statsContainer:{flexDirection:"row",alignItems:"center",marginTop:20,paddingVertical:16,width:"100%",justifyContent:"center"},statItem:{alignItems:"center",paddingHorizontal:16},statValue:{fontSize:18,fontWeight:"700"},statLabel:{fontSize:12,marginTop:2},statDivider:{width:1,height:32},twitterButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:24,paddingVertical:12,borderRadius:24,marginTop:16,gap:8,width:"100%"},twitterButtonText:{color:"#fff",fontSize:15,fontWeight:"600"}})},1579,[3,235,109,188,229,28,227,220,104,1056,712,708,1187,728,2]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.FanProfileModal=function({visible:e,onClose:d,userId:w,twitterId:T,username:I,displayName:S,profileImage:z}){const v=(0,p.useColors)(),[B,k]=(0,t.useState)(null),[D,V]=(0,t.useState)(!1),[O,P]=(0,t.useState)(null),{data:L,isLoading:W}=j.trpc.profiles.getOshikatsuStats.useQuery({userId:w,twitterId:T},{enabled:e&&(!!w||!!T)});(0,t.useEffect)(()=>{e&&I&&R()},[e,I]);const R=async()=>{if(I){V(!0),P(null);try{const e=await(0,y.getProfile)(I);k(e)}catch(e){P("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{V(!1)}}},_=()=>{d()},H=B?.name||S||I||"\u30e6\u30fc\u30b6\u30fc",A=B?.profileImage||z,F=B?.description||"",M=B?.followersCount||0,E=D||W;return(0,C.jsx)(n.default,{visible:e,transparent:!0,animationType:"fade",onRequestClose:_,children:(0,C.jsx)(s.default,{style:b.overlay,activeOpacity:1,onPress:_,children:(0,C.jsxs)(s.default,{activeOpacity:1,onPress:e=>e.stopPropagation(),style:[b.container,{backgroundColor:v.surface}],children:[(0,C.jsx)(s.default,{style:b.closeButton,onPress:_,activeOpacity:.7,children:(0,C.jsx)(x.default,{name:"close",size:24,color:v.muted})}),(0,C.jsx)(f.default,{style:b.scrollView,contentContainerStyle:b.scrollContent,showsVerticalScrollIndicator:!1,children:E?(0,C.jsxs)(l.default,{style:b.loadingContainer,children:[(0,C.jsx)(c.default,{size:"large",color:v.primary}),(0,C.jsx)(o.default,{style:[b.loadingText,{color:v.muted}],children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}):O?(0,C.jsxs)(l.default,{style:b.errorContainer,children:[(0,C.jsx)(x.default,{name:"error-outline",size:48,color:v.error}),(0,C.jsx)(o.default,{style:[b.errorText,{color:v.error}],children:O}),(0,C.jsx)(s.default,{style:[b.retryButton,{backgroundColor:v.primary}],onPress:R,activeOpacity:.8,children:(0,C.jsx)(o.default,{style:b.retryButtonText,children:"\u518d\u8a66\u884c"})})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.default,{style:b.imageContainer,children:A?(0,C.jsx)(h.Image,{source:{uri:A},style:b.profileImage,contentFit:"cover"}):(0,C.jsx)(l.default,{style:[b.profileImage,b.placeholderImage,{backgroundColor:v.border}],children:(0,C.jsx)(x.default,{name:"person",size:48,color:v.muted})})}),(0,C.jsx)(o.default,{style:[b.name,{color:v.foreground}],children:H}),I&&(0,C.jsxs)(o.default,{style:[b.username,{color:v.muted}],children:["@",I]}),F?(0,C.jsx)(o.default,{style:[b.description,{color:v.foreground}],numberOfLines:3,children:F}):null,M>0&&(0,C.jsxs)(l.default,{style:b.followersContainer,children:[(0,C.jsx)(o.default,{style:[b.followersValue,{color:v.foreground}],children:M.toLocaleString()}),(0,C.jsx)(o.default,{style:[b.followersLabel,{color:v.muted}],children:"\u30d5\u30a9\u30ed\u30ef\u30fc"})]}),(0,C.jsxs)(l.default,{style:[b.oshikatsuSection,{borderTopColor:v.border}],children:[(0,C.jsxs)(l.default,{style:b.sectionHeader,children:[(0,C.jsx)(x.default,{name:"favorite",size:20,color:v.secondary}),(0,C.jsx)(o.default,{style:[b.sectionTitle,{color:v.foreground}],children:"\u63a8\u3057\u6d3b\u72b6\u6cc1"})]}),L?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.default,{style:b.oshikatsuStats,children:[(0,C.jsxs)(l.default,{style:[b.statCard,{backgroundColor:v.background}],children:[(0,C.jsx)(o.default,{style:[b.statCardValue,{color:v.primary}],children:L.totalParticipations}),(0,C.jsx)(o.default,{style:[b.statCardLabel,{color:v.muted}],children:"\u53c2\u52a0\u56de\u6570"})]}),(0,C.jsxs)(l.default,{style:[b.statCard,{backgroundColor:v.background}],children:[(0,C.jsx)(o.default,{style:[b.statCardValue,{color:v.secondary}],children:L.totalContribution}),(0,C.jsx)(o.default,{style:[b.statCardLabel,{color:v.muted}],children:"\u8ca2\u732e\u30dd\u30a4\u30f3\u30c8"})]})]}),L.recentChallenges&&L.recentChallenges.length>0&&(0,C.jsxs)(l.default,{style:b.recentChallenges,children:[(0,C.jsx)(o.default,{style:[b.recentTitle,{color:v.muted}],children:"\u6700\u8fd1\u306e\u53c2\u52a0"}),L.recentChallenges.slice(0,3).map(e=>(0,C.jsxs)(l.default,{style:[b.challengeItem,{borderBottomColor:v.border}],children:[(0,C.jsxs)(l.default,{style:b.challengeInfo,children:[(0,C.jsx)(o.default,{style:[b.challengeTitle,{color:v.foreground}],numberOfLines:1,children:e.title}),(0,C.jsx)(o.default,{style:[b.challengeTarget,{color:v.muted}],numberOfLines:1,children:e.targetName})]}),(0,C.jsx)(o.default,{style:[b.challengeDate,{color:v.muted}],children:new Date(e.participatedAt).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]},e.id))]})]}):(0,C.jsx)(l.default,{style:b.noDataContainer,children:(0,C.jsx)(o.default,{style:[b.noDataText,{color:v.muted}],children:"\u307e\u3060\u63a8\u3057\u6d3b\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})})]}),I&&(0,C.jsxs)(s.default,{style:[b.twitterButton,{backgroundColor:"#1DA1F2"}],onPress:()=>{I&&u.default.openURL(`https://twitter.com/${I}`)},activeOpacity:.8,children:[(0,C.jsx)(x.default,{name:"open-in-new",size:18,color:"#fff"}),(0,C.jsx)(o.default,{style:b.twitterButtonText,children:"X\u3067\u898b\u308b"})]})]})})]})})})};var t=r(_d[0]),n=e(r(_d[1])),l=e(r(_d[2])),o=e(r(_d[3])),s=e(r(_d[4])),d=e(r(_d[5])),c=e(r(_d[6])),u=e(r(_d[7]));r(_d[8]);var f=e(r(_d[9])),h=r(_d[10]),x=e(r(_d[11])),y=((function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}),t.default=e})(r(_d[12])),r(_d[13])),p=r(_d[14]),j=r(_d[15]),C=r(_d[16]);const b=d.default.create({overlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.6)",justifyContent:"center",alignItems:"center",padding:24},container:{width:"100%",maxWidth:340,maxHeight:"80%",borderRadius:20,overflow:"hidden"},closeButton:{position:"absolute",top:12,right:12,padding:4,zIndex:10},scrollView:{flex:1},scrollContent:{padding:24,alignItems:"center"},loadingContainer:{paddingVertical:40,alignItems:"center"},loadingText:{marginTop:12,fontSize:14},errorContainer:{paddingVertical:40,alignItems:"center"},errorText:{marginTop:12,fontSize:14,textAlign:"center"},retryButton:{marginTop:16,paddingHorizontal:20,paddingVertical:10,borderRadius:8},retryButtonText:{color:"#fff",fontSize:14,fontWeight:"600"},imageContainer:{marginBottom:16},profileImage:{width:80,height:80,borderRadius:40},placeholderImage:{justifyContent:"center",alignItems:"center"},name:{fontSize:18,fontWeight:"700",textAlign:"center"},username:{fontSize:14,marginTop:4},description:{fontSize:13,lineHeight:18,textAlign:"center",marginTop:8,paddingHorizontal:8},followersContainer:{flexDirection:"row",alignItems:"baseline",marginTop:8,gap:4},followersValue:{fontSize:14,fontWeight:"600"},followersLabel:{fontSize:12},oshikatsuSection:{width:"100%",marginTop:20,paddingTop:20,borderTopWidth:1},sectionHeader:{flexDirection:"row",alignItems:"center",gap:8,marginBottom:16},sectionTitle:{fontSize:16,fontWeight:"600"},oshikatsuStats:{flexDirection:"row",gap:12,marginBottom:16},statCard:{flex:1,alignItems:"center",paddingVertical:12,borderRadius:12},statCardValue:{fontSize:24,fontWeight:"700"},statCardLabel:{fontSize:11,marginTop:2},recentChallenges:{width:"100%"},recentTitle:{fontSize:12,marginBottom:8},challengeItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:10,borderBottomWidth:1},challengeInfo:{flex:1,marginRight:12},challengeTitle:{fontSize:13,fontWeight:"500"},challengeTarget:{fontSize:11,marginTop:2},challengeDate:{fontSize:11},noDataContainer:{paddingVertical:20,alignItems:"center"},noDataText:{fontSize:13},twitterButton:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:24,paddingVertical:12,borderRadius:24,marginTop:20,gap:8,width:"100%"},twitterButtonText:{color:"#fff",fontSize:15,fontWeight:"600"}})},1580,[3,235,109,188,229,28,227,220,104,133,1056,712,708,1187,728,1087,2]);