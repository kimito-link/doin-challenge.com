__d(function(g,r,i,a,m,_e,d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return A}});var o=r(d[0]),t=e(r(d[1])),n=e(r(d[2])),l=e(r(d[3])),s=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),f=r(d[7]),h=r(d[8]),x=r(d[9]),y=r(d[10]),j=r(d[11]),b=r(d[12]),p=r(d[13]),C=e(r(d[14])),S=r(d[15]),I=r(d[16]);const z={owner:"\u30aa\u30fc\u30ca\u30fc","co-host":"\u5171\u540c\u4e3b\u50ac\u8005",moderator:"\u30e2\u30c7\u30ec\u30fc\u30bf\u30fc"},_={owner:"#FFD700","co-host":"#EC4899",moderator:"#8B5CF6"},B={pending:"\u62db\u5f85\u4e2d",accepted:"\u53c2\u52a0\u4e2d",declined:"\u8f9e\u9000"};function D(e){const s=(0,o.c)(59),{collaborator:c,isOwner:u,onRemove:h,onChangeRole:x}=e,y=(0,p.useColors)(),j="owner"===c.role?"#FFD700":"#2D3139";let b,S,D,w,A,F,k;s[0]!==j?(b={backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:j},s[0]=j,s[1]=b):b=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(S={flexDirection:"row",alignItems:"center"},s[2]=S):S=s[2],s[3]!==c.role||s[4]!==c.userImage||s[5]!==c.userName||s[6]!==y.foreground?(D=c.userImage?(0,I.jsx)(f.Image,{source:{uri:c.userImage},style:{width:48,height:48,borderRadius:24}}):(0,I.jsx)(n.default,{style:{width:48,height:48,borderRadius:24,backgroundColor:_[c.role]||"#EC4899",alignItems:"center",justifyContent:"center"},children:(0,I.jsx)(t.default,{style:{color:y.foreground,fontSize:18,fontWeight:"bold"},children:c.userName?.charAt(0)||"?"})}),s[3]=c.role,s[4]=c.userImage,s[5]=c.userName,s[6]=y.foreground,s[7]=D):D=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(w={flex:1,marginLeft:12},s[8]=w):w=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(A={flexDirection:"row",alignItems:"center"},s[9]=A):A=s[9],s[10]!==y.foreground?(F={color:y.foreground,fontSize:16,fontWeight:"bold"},s[10]=y.foreground,s[11]=F):F=s[11],s[12]!==c.userName||s[13]!==F?(k=(0,I.jsx)(t.default,{style:F,children:c.userName}),s[12]=c.userName,s[13]=F,s[14]=k):k=s[14];const v=_[c.role]||"#6B7280";let P,R;s[15]!==v?(P={backgroundColor:v,borderRadius:4,paddingHorizontal:6,paddingVertical:2,marginLeft:8},s[15]=v,s[16]=P):P=s[16],s[17]!==y.foreground?(R={color:y.foreground,fontSize:10,fontWeight:"bold"},s[17]=y.foreground,s[18]=R):R=s[18];const E=z[c.role]||c.role;let W,L,N,T;s[19]!==R||s[20]!==E?(W=(0,I.jsx)(t.default,{style:R,children:E}),s[19]=R,s[20]=E,s[21]=W):W=s[21],s[22]!==P||s[23]!==W?(L=(0,I.jsx)(n.default,{style:P,children:W}),s[22]=P,s[23]=W,s[24]=L):L=s[24],s[25]!==L||s[26]!==k?(N=(0,I.jsxs)(n.default,{style:A,children:[k,L]}),s[25]=L,s[26]=k,s[27]=N):N=s[27],s[28]===Symbol.for("react.memo_cache_sentinel")?(T={color:"#9CA3AF",fontSize:12,marginTop:2},s[28]=T):T=s[28];const M=B[c.status]||c.status;let O,H,U,$,Q,V,q,G,J,K;return s[29]!==M?(O=(0,I.jsx)(t.default,{style:T,children:M}),s[29]=M,s[30]=O):O=s[30],s[31]!==N||s[32]!==O?(H=(0,I.jsxs)(n.default,{style:w,children:[N,O]}),s[31]=N,s[32]=O,s[33]=H):H=s[33],s[34]===Symbol.for("react.memo_cache_sentinel")?(U={alignItems:"flex-end"},s[34]=U):U=s[34],s[35]!==c.canEdit?($=c.canEdit&&(0,I.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:2},children:[(0,I.jsx)(C.default,{name:"edit",size:12,color:"#10B981"}),(0,I.jsx)(t.default,{style:{color:"#10B981",fontSize:10,marginLeft:2},children:"\u7de8\u96c6\u53ef"})]}),s[35]=c.canEdit,s[36]=$):$=s[36],s[37]!==c.canManageParticipants?(Q=c.canManageParticipants&&(0,I.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:2},children:[(0,I.jsx)(C.default,{name:"people",size:12,color:"#3B82F6"}),(0,I.jsx)(t.default,{style:{color:"#3B82F6",fontSize:10,marginLeft:2},children:"\u53c2\u52a0\u8005\u7ba1\u7406"})]}),s[37]=c.canManageParticipants,s[38]=Q):Q=s[38],s[39]!==c.canInvite?(V=c.canInvite&&(0,I.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,I.jsx)(C.default,{name:"person-add",size:12,color:"#F59E0B"}),(0,I.jsx)(t.default,{style:{color:"#F59E0B",fontSize:10,marginLeft:2},children:"\u62db\u5f85\u53ef"})]}),s[39]=c.canInvite,s[40]=V):V=s[40],s[41]!==$||s[42]!==Q||s[43]!==V?(q=(0,I.jsxs)(n.default,{style:U,children:[$,Q,V]}),s[41]=$,s[42]=Q,s[43]=V,s[44]=q):q=s[44],s[45]!==H||s[46]!==q||s[47]!==D?(G=(0,I.jsxs)(n.default,{style:S,children:[D,H,q]}),s[45]=H,s[46]=q,s[47]=D,s[48]=G):G=s[48],s[49]!==c.role||s[50]!==y.foreground||s[51]!==u||s[52]!==x||s[53]!==h?(J=u&&"owner"!==c.role&&(0,I.jsxs)(n.default,{style:{flexDirection:"row",marginTop:12,gap:8},children:[(0,I.jsx)(l.default,{onPress:()=>x?.("co-host"===c.role?"moderator":"co-host"),style:{flex:1,backgroundColor:"#2D3139",borderRadius:8,padding:8,alignItems:"center"},children:(0,I.jsx)(t.default,{style:{color:y.foreground,fontSize:12},children:"co-host"===c.role?"\u30e2\u30c7\u30ec\u30fc\u30bf\u30fc\u306b\u5909\u66f4":"\u5171\u540c\u4e3b\u50ac\u8005\u306b\u5909\u66f4"})}),(0,I.jsx)(l.default,{onPress:h,style:{backgroundColor:"#EF4444",borderRadius:8,padding:8,paddingHorizontal:16},children:(0,I.jsx)(C.default,{name:"close",size:16,color:y.foreground})})]}),s[49]=c.role,s[50]=y.foreground,s[51]=u,s[52]=x,s[53]=h,s[54]=J):J=s[54],s[55]!==b||s[56]!==G||s[57]!==J?(K=(0,I.jsxs)(n.default,{style:b,children:[G,J]}),s[55]=b,s[56]=G,s[57]=J,s[58]=K):K=s[58],K}function w(e){const s=(0,o.c)(68),{onInvite:f,isLoading:h}=e,y=(0,p.useColors)(),[j,b]=(0,x.useState)(""),[S,z]=(0,x.useState)("co-host");let _;s[0]!==f||s[1]!==S||s[2]!==j?(_=()=>{j.trim()?(f(j.replace("@",""),S),b("")):u.default.alert("\u30a8\u30e9\u30fc","Twitter ID\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},s[0]=f,s[1]=S,s[2]=j,s[3]=_):_=s[3];const B=_;let D,w,A,F,k,v,P,R,E,W;s[4]===Symbol.for("react.memo_cache_sentinel")?(D={backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:24,borderWidth:1,borderColor:"#2D3139"},s[4]=D):D=s[4],s[5]!==y.foreground?(w=(0,I.jsx)(t.default,{style:{color:y.foreground,fontSize:16,fontWeight:"bold",marginBottom:12},children:"\u5171\u540c\u4e3b\u50ac\u8005\u3092\u62db\u5f85"}),s[5]=y.foreground,s[6]=w):w=s[6],s[7]===Symbol.for("react.memo_cache_sentinel")?(A={marginBottom:12},s[7]=A):A=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(F=(0,I.jsx)(t.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:4},children:"Twitter ID\uff08@\u306a\u3057\uff09"}),s[8]=F):F=s[8],s[9]!==y.background||s[10]!==y.foreground?(k={backgroundColor:y.background,borderRadius:8,padding:12,color:y.foreground,fontSize:16,borderWidth:1,borderColor:"#2D3139"},s[9]=y.background,s[10]=y.foreground,s[11]=k):k=s[11],s[12]!==k||s[13]!==j?(v=(0,I.jsxs)(n.default,{style:A,children:[F,(0,I.jsx)(c.default,{value:j,onChangeText:b,placeholder:"\u4f8b: idolfunch",placeholderTextColor:"#6B7280",style:k,autoCapitalize:"none",autoCorrect:!1})]}),s[12]=k,s[13]=j,s[14]=v):v=s[14],s[15]===Symbol.for("react.memo_cache_sentinel")?(P={marginBottom:16},s[15]=P):P=s[15],s[16]===Symbol.for("react.memo_cache_sentinel")?(R=(0,I.jsx)(t.default,{style:{color:"#9CA3AF",fontSize:12,marginBottom:8},children:"\u6a29\u9650"}),s[16]=R):R=s[16],s[17]===Symbol.for("react.memo_cache_sentinel")?(E={flexDirection:"row",gap:8},s[17]=E):E=s[17],s[18]===Symbol.for("react.memo_cache_sentinel")?(W=()=>z("co-host"),s[18]=W):W=s[18];const L="co-host"===S?"#EC4899":"#2D3139";let N;s[19]!==L?(N={flex:1,backgroundColor:L,borderRadius:8,padding:12,alignItems:"center"},s[19]=L,s[20]=N):N=s[20];const T="co-host"===S?"bold":"normal";let M;s[21]!==y.foreground||s[22]!==T?(M=(0,I.jsx)(t.default,{style:{color:y.foreground,fontSize:14,fontWeight:T},children:"\u5171\u540c\u4e3b\u50ac\u8005"}),s[21]=y.foreground,s[22]=T,s[23]=M):M=s[23];const O="co-host"===S?"rgba(255,255,255,0.8)":"#6B7280";let H,U,$;s[24]!==O?(H=(0,I.jsx)(t.default,{style:{color:O,fontSize:10,marginTop:2},children:"\u7de8\u96c6\u30fb\u53c2\u52a0\u8005\u7ba1\u7406\u30fb\u62db\u5f85"}),s[24]=O,s[25]=H):H=s[25],s[26]!==N||s[27]!==M||s[28]!==H?(U=(0,I.jsxs)(l.default,{onPress:W,style:N,children:[M,H]}),s[26]=N,s[27]=M,s[28]=H,s[29]=U):U=s[29],s[30]===Symbol.for("react.memo_cache_sentinel")?($=()=>z("moderator"),s[30]=$):$=s[30];const Q="moderator"===S?"#8B5CF6":"#2D3139";let V;s[31]!==Q?(V={flex:1,backgroundColor:Q,borderRadius:8,padding:12,alignItems:"center"},s[31]=Q,s[32]=V):V=s[32];const q="moderator"===S?"bold":"normal";let G;s[33]!==y.foreground||s[34]!==q?(G=(0,I.jsx)(t.default,{style:{color:y.foreground,fontSize:14,fontWeight:q},children:"\u30e2\u30c7\u30ec\u30fc\u30bf\u30fc"}),s[33]=y.foreground,s[34]=q,s[35]=G):G=s[35];const J="moderator"===S?"rgba(255,255,255,0.8)":"#6B7280";let K,X,Y,Z;s[36]!==J?(K=(0,I.jsx)(t.default,{style:{color:J,fontSize:10,marginTop:2},children:"\u53c2\u52a0\u8005\u7ba1\u7406\u306e\u307f"}),s[36]=J,s[37]=K):K=s[37],s[38]!==V||s[39]!==G||s[40]!==K?(X=(0,I.jsxs)(l.default,{onPress:$,style:V,children:[G,K]}),s[38]=V,s[39]=G,s[40]=K,s[41]=X):X=s[41],s[42]!==U||s[43]!==X?(Y=(0,I.jsxs)(n.default,{style:P,children:[R,(0,I.jsxs)(n.default,{style:E,children:[U,X]})]}),s[42]=U,s[43]=X,s[44]=Y):Y=s[44],s[45]!==h||s[46]!==j?(Z=h||!j.trim(),s[45]=h,s[46]=j,s[47]=Z):Z=s[47];const ee=h||!j.trim()?"#6B7280":"#10B981";let oe,re,te;s[48]!==ee?(oe={backgroundColor:ee,borderRadius:8,padding:14,alignItems:"center",flexDirection:"row",justifyContent:"center"},s[48]=ee,s[49]=oe):oe=s[49],s[50]!==y.foreground?(re=(0,I.jsx)(C.default,{name:"person-add",size:20,color:y.foreground}),s[50]=y.foreground,s[51]=re):re=s[51],s[52]!==y.foreground?(te={color:y.foreground,fontSize:16,fontWeight:"bold",marginLeft:8},s[52]=y.foreground,s[53]=te):te=s[53];const ne=h?"\u62db\u5f85\u4e2d...":"\u62db\u5f85\u3092\u9001\u4fe1";let le,se,ae;return s[54]!==te||s[55]!==ne?(le=(0,I.jsx)(t.default,{style:te,children:ne}),s[54]=te,s[55]=ne,s[56]=le):le=s[56],s[57]!==B||s[58]!==Z||s[59]!==oe||s[60]!==re||s[61]!==le?(se=(0,I.jsxs)(l.default,{onPress:B,disabled:Z,style:oe,children:[re,le]}),s[57]=B,s[58]=Z,s[59]=oe,s[60]=re,s[61]=le,s[62]=se):se=s[62],s[63]!==Y||s[64]!==w||s[65]!==se||s[66]!==v?(ae=(0,I.jsxs)(n.default,{style:D,children:[w,v,Y,se]}),s[63]=Y,s[64]=w,s[65]=se,s[66]=v,s[67]=ae):ae=s[67],ae}function A(){const e=(0,p.useColors)(),{id:o}=(0,h.useLocalSearchParams)(),c=(0,h.useRouter)(),{user:f}=(0,b.useAuth)(),{data:z,isLoading:_}=(j.trpc.useUtils(),j.trpc.events.getById.useQuery({id:Number(o)},{enabled:!!o})),[B,A]=(0,x.useState)([]),[F,k]=(0,x.useState)(!1),v=z?[{id:0,userId:z.hostUserId,userName:z.hostName,userImage:z.hostProfileImage,role:"owner",status:"accepted",canEdit:!0,canManageParticipants:!0,canInvite:!0},...B]:B,P=f&&z&&f.id===z.hostUserId;return _?(0,I.jsx)(y.ScreenContainer,{className:"p-4",children:(0,I.jsx)(n.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,I.jsx)(t.default,{style:{color:"#9CA3AF"},children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."})})}):z?P?(0,I.jsx)(y.ScreenContainer,{children:(0,I.jsxs)(s.default,{style:{flex:1},contentContainerStyle:{padding:16},children:[(0,I.jsx)(S.AppHeader,{title:"\u541b\u6597\u308a\u3093\u304f\u306e\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058",showCharacters:!1,rightElement:(0,I.jsxs)(l.default,{onPress:()=>c.back(),style:{flexDirection:"row",alignItems:"center"},children:[(0,I.jsx)(C.default,{name:"arrow-back",size:24,color:e.foreground}),(0,I.jsx)(t.default,{style:{color:e.foreground,marginLeft:8},children:"\u623b\u308b"})]})}),(0,I.jsxs)(n.default,{style:{marginBottom:16},children:[(0,I.jsx)(t.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold"},children:"\u5171\u540c\u4e3b\u50ac\u8005\u7ba1\u7406"}),(0,I.jsx)(t.default,{style:{color:"#9CA3AF",fontSize:14},numberOfLines:1,children:z.title})]}),(0,I.jsxs)(n.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:24,borderWidth:1,borderColor:"#2D3139"},children:[(0,I.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:8},children:[(0,I.jsx)(C.default,{name:"info",size:20,color:"#3B82F6"}),(0,I.jsx)(t.default,{style:{color:e.foreground,fontSize:14,fontWeight:"bold",marginLeft:8},children:"\u30b3\u30e9\u30dc\u6a5f\u80fd\u306b\u3064\u3044\u3066"})]}),(0,I.jsxs)(t.default,{style:{color:"#9CA3AF",fontSize:13,lineHeight:20},children:["\u5171\u540c\u4e3b\u50ac\u8005\u3092\u62db\u5f85\u3057\u3066\u3001\u30c1\u30e3\u30ec\u30f3\u30b8\u3092\u4e00\u7dd2\u306b\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002","\n","\u2022 \u5171\u540c\u4e3b\u50ac\u8005\uff1a\u7de8\u96c6\u30fb\u53c2\u52a0\u8005\u7ba1\u7406\u30fb\u62db\u5f85\u304c\u53ef\u80fd","\n","\u2022 \u30e2\u30c7\u30ec\u30fc\u30bf\u30fc\uff1a\u53c2\u52a0\u8005\u7ba1\u7406\u306e\u307f\u53ef\u80fd"]})]}),(0,I.jsx)(w,{onInvite:async(e,o)=>{k(!0);try{const t={id:Date.now(),userId:null,userName:`@${e}`,userImage:null,role:o,status:"pending",canEdit:"co-host"===o,canManageParticipants:!0,canInvite:"co-host"===o};A([...B,t]),u.default.alert("\u62db\u5f85\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f",`@${e} \u306b\u62db\u5f85\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f`)}catch(e){u.default.alert("\u30a8\u30e9\u30fc","\u62db\u5f85\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{k(!1)}},isLoading:F}),(0,I.jsxs)(t.default,{style:{color:e.foreground,fontSize:18,fontWeight:"bold",marginBottom:12},children:["\u30e1\u30f3\u30d0\u30fc (",v.length,"\u4eba)"]}),v.map(e=>(0,I.jsx)(D,{collaborator:e,isOwner:P,onRemove:()=>{return o=e.id,void u.default.alert("\u78ba\u8a8d","\u3053\u306e\u30b3\u30e9\u30dc\u30ec\u30fc\u30bf\u30fc\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u524a\u9664",style:"destructive",onPress:()=>{A(B.filter(e=>e.id!==o))}}]);var o},onChangeRole:o=>{return t=e.id,n=o,void A(B.map(e=>e.id===t?{...e,role:n,canEdit:"co-host"===n,canInvite:"co-host"===n}:e));var t,n}},e.id)),(0,I.jsx)(n.default,{style:{height:40}})]})}):(0,I.jsx)(y.ScreenContainer,{className:"p-4",children:(0,I.jsxs)(n.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[(0,I.jsx)(C.default,{name:"lock",size:48,color:"#6B7280"}),(0,I.jsx)(t.default,{style:{color:"#9CA3AF",fontSize:16,marginTop:12},children:"\u3053\u306e\u6a5f\u80fd\u306f\u4e3b\u50ac\u8005\u306e\u307f\u5229\u7528\u3067\u304d\u307e\u3059"}),(0,I.jsx)(l.default,{onPress:()=>c.back(),style:{marginTop:16,padding:12},children:(0,I.jsx)(t.default,{style:{color:"#EC4899"},children:"\u623b\u308b"})})]})}):(0,I.jsx)(y.ScreenContainer,{className:"p-4",children:(0,I.jsxs)(n.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[(0,I.jsx)(t.default,{style:{color:"#9CA3AF"},children:"\u30c1\u30e3\u30ec\u30f3\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}),(0,I.jsx)(l.default,{onPress:()=>c.back(),style:{marginTop:16,padding:12},children:(0,I.jsx)(t.default,{style:{color:"#EC4899"},children:"\u623b\u308b"})})]})})}},1468,[1670,188,109,229,133,252,101,1056,473,3,1083,1087,1185,728,712,1196,2]);