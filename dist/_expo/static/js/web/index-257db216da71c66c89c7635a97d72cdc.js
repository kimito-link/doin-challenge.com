__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return j}});var t=r(_d[0]),o=e(r(_d[1])),l=e(r(_d[2])),n=e(r(_d[3])),d=e(r(_d[4])),s=e(r(_d[5])),c=r(_d[6]),f=r(_d[7]),u=r(_d[8]),h=r(_d[9]),p=e(r(_d[10]));!(function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[11]));r(_d[12]);var y=r(_d[13]),x=r(_d[14]);const b={attendance:"\u52d5\u54e1",followers:"\u30d5\u30a9\u30ed\u30ef\u30fc",viewers:"\u540c\u6642\u8996\u8074",points:"\u30dd\u30a4\u30f3\u30c8",custom:"\u30ab\u30b9\u30bf\u30e0"};function j(){const e=(0,t.c)(39),j=(0,c.useRouter)(),{user:z}=(0,h.useAuth)(),S=!!z;let D;e[0]!==S?(D={enabled:S},e[0]=S,e[1]=D):D=e[1];const{data:A,refetch:_}=u.trpc.templates.list.useQuery(void 0,D),{data:k}=u.trpc.templates.public.useQuery();let B;e[2]!==_?(B={onSuccess:()=>{_()}},e[2]=_,e[3]=B):B=e[3];const w=u.trpc.templates.delete.useMutation(B);let R;e[4]!==w?(R=(e,t)=>{s.default.alert("\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664",`\u300c${t}\u300d\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f`,[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u524a\u9664",style:"destructive",onPress:()=>w.mutate({id:e})}])},e[4]=w,e[5]=R):R=e[5];const P=R;let W;e[6]!==j?(W=e=>{j.push({pathname:"/(tabs)/create",params:{templateId:e.id,goalType:e.goalType,goalValue:e.goalValue,goalUnit:e.goalUnit,eventType:e.eventType,ticketPresale:e.ticketPresale||"",ticketDoor:e.ticketDoor||""}})},e[6]=j,e[7]=W):W=e[7];const v=W;let T;e[8]!==P||e[9]!==v?(T=e=>{const{item:t}=e;return(0,x.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,x.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",flex:1},children:t.name}),t.isPublic&&(0,x.jsx)(o.default,{style:{backgroundColor:"#22C55E",borderRadius:4,paddingHorizontal:6,paddingVertical:2},children:(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:10},children:"\u516c\u958b\u4e2d"})})]}),t.description&&(0,x.jsx)(l.default,{style:{color:"#9CA3AF",fontSize:13,marginBottom:8},children:t.description}),(0,x.jsxs)(o.default,{style:{flexDirection:"row",flexWrap:"wrap",gap:8,marginBottom:12},children:[(0,x.jsx)(o.default,{style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:8,paddingVertical:4},children:(0,x.jsxs)(l.default,{style:{color:"#EC4899",fontSize:12},children:[b[t.goalType]||t.goalType," ",t.goalValue,t.goalUnit]})}),(0,x.jsx)(o.default,{style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:8,paddingVertical:4},children:(0,x.jsx)(l.default,{style:{color:"#9CA3AF",fontSize:12},children:"solo"===t.eventType?"\u30bd\u30ed":"\u30b0\u30eb\u30fc\u30d7"})}),t.useCount>0&&(0,x.jsx)(o.default,{style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:8,paddingVertical:4},children:(0,x.jsxs)(l.default,{style:{color:"#9CA3AF",fontSize:12},children:[t.useCount,"\u56de\u4f7f\u7528"]})})]}),(0,x.jsxs)(o.default,{style:{flexDirection:"row",gap:8},children:[(0,x.jsxs)(d.default,{onPress:()=>v(t),style:{flex:1,backgroundColor:"#EC4899",borderRadius:8,padding:10,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,x.jsx)(p.default,{name:"add",size:18,color:"#fff"}),(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:13,fontWeight:"bold",marginLeft:4},children:"\u4f7f\u7528\u3059\u308b"})]}),(0,x.jsx)(d.default,{onPress:()=>P(t.id,t.name),style:{backgroundColor:"#2D3139",borderRadius:8,padding:10,alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(p.default,{name:"delete",size:18,color:"#EF4444"})})]})]})},e[8]=P,e[9]=v,e[10]=T):T=e[10];const V=T;let I;e[11]!==v?(I=e=>{const{item:t}=e;return(0,x.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:16,marginBottom:12,borderWidth:1,borderColor:"#2D3139"},children:[(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:16,fontWeight:"bold",marginBottom:4},children:t.name}),t.description&&(0,x.jsx)(l.default,{style:{color:"#9CA3AF",fontSize:13,marginBottom:8},children:t.description}),(0,x.jsxs)(o.default,{style:{flexDirection:"row",flexWrap:"wrap",gap:8,marginBottom:12},children:[(0,x.jsx)(o.default,{style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:8,paddingVertical:4},children:(0,x.jsxs)(l.default,{style:{color:"#EC4899",fontSize:12},children:[b[t.goalType]||t.goalType," ",t.goalValue,t.goalUnit]})}),(0,x.jsx)(o.default,{style:{backgroundColor:"#2D3139",borderRadius:8,paddingHorizontal:8,paddingVertical:4},children:(0,x.jsxs)(l.default,{style:{color:"#9CA3AF",fontSize:12},children:[t.useCount,"\u56de\u4f7f\u7528"]})})]}),(0,x.jsxs)(d.default,{onPress:()=>v(t),style:{backgroundColor:"#8B5CF6",borderRadius:8,padding:10,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,x.jsx)(p.default,{name:"content-copy",size:18,color:"#fff"}),(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:13,fontWeight:"bold",marginLeft:4},children:"\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u3046"})]})]})},e[11]=v,e[12]=I):I=e[12];const F=I;let H,E,O,M,U,L,Q,$,q,G,J,K,N,X;return e[13]!==j?(H=()=>j.back(),e[13]=j,e[14]=H):H=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(E={flexDirection:"row",alignItems:"center"},e[15]=E):E=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(O=(0,x.jsx)(l.default,{style:{color:"#fff"},children:"\u2190 \u623b\u308b"}),e[16]=O):O=e[16],e[17]!==H?(M=(0,x.jsx)(y.AppHeader,{title:"\u541b\u6597\u308a\u3093\u304f\u306e\u52d5\u54e1\u3061\u3083\u308c\u3093\u3058",showCharacters:!1,rightElement:(0,x.jsx)(d.default,{onPress:H,style:E,children:O})}),e[17]=H,e[18]=M):M=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(U={padding:16,borderBottomWidth:1,borderBottomColor:"#2D3139"},e[19]=U):U=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(L=(0,x.jsx)(o.default,{style:U,children:(0,x.jsx)(l.default,{style:{fontSize:20,fontWeight:"bold",color:"#fff"},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"})}),e[20]=L):L=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(Q=[],e[21]=Q):Q=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?($={padding:16},e[22]=$):$=e[22],e[23]!==A||e[24]!==V||e[25]!==z?(q=z&&(0,x.jsxs)(o.default,{style:{marginBottom:24},children:[(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:18,fontWeight:"bold",marginBottom:12},children:"\u30de\u30a4\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"}),A&&A.length>0?A.map(e=>(0,x.jsx)(o.default,{children:V({item:e})},e.id)):(0,x.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:24,alignItems:"center"},children:[(0,x.jsx)(p.default,{name:"folder-open",size:48,color:"#6B7280"}),(0,x.jsxs)(l.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:8,textAlign:"center"},children:["\u307e\u3060\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u305b\u3093","\n","\u30c1\u30e3\u30ec\u30f3\u30b8\u4f5c\u6210\u6642\u306b\u4fdd\u5b58\u3067\u304d\u307e\u3059"]})]})]}),e[23]=A,e[24]=V,e[25]=z,e[26]=q):q=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(G=(0,x.jsx)(l.default,{style:{color:"#fff",fontSize:18,fontWeight:"bold",marginBottom:12},children:"\u516c\u958b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"}),e[27]=G):G=e[27],e[28]!==k||e[29]!==F?(J=k&&k.length>0?k.map(e=>(0,x.jsx)(o.default,{children:F({item:e})},e.id)):(0,x.jsxs)(o.default,{style:{backgroundColor:"#1A1D21",borderRadius:12,padding:24,alignItems:"center"},children:[(0,x.jsx)(p.default,{name:"public",size:48,color:"#6B7280"}),(0,x.jsx)(l.default,{style:{color:"#9CA3AF",fontSize:14,marginTop:8,textAlign:"center"},children:"\u516c\u958b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093"})]}),e[28]=k,e[29]=F,e[30]=J):J=e[30],e[31]!==J?(K=(0,x.jsxs)(o.default,{children:[G,J]}),e[31]=J,e[32]=K):K=e[32],e[33]!==q||e[34]!==K?(N=(0,x.jsx)(n.default,{data:Q,renderItem:C,ListHeaderComponent:(0,x.jsxs)(o.default,{style:$,children:[q,K]}),showsVerticalScrollIndicator:!1}),e[33]=q,e[34]=K,e[35]=N):N=e[35],e[36]!==M||e[37]!==N?(X=(0,x.jsxs)(f.ScreenContainer,{children:[M,L,N]}),e[36]=M,e[37]=N,e[38]=X):X=e[38],X}function C(){return null}},1587,[1670,109,188,107,229,101,473,1083,1087,1185,712,708,104,1196,2]);