{
  "query": "-- usersテーブル\nCREATE INDEX IF NOT EXISTS idx_users_openid ON users(openid);\nCREATE INDEX IF NOT EXISTS idx_users_login_method ON users(loginMethod);\nCREATE INDEX IF NOT EXISTS idx_users_created_at ON users(createdAt);\n\n-- achievementsテーブル\nCREATE INDEX IF NOT EXISTS idx_achievements_user_id ON achievements(userId);\nCREATE INDEX IF NOT EXISTS idx_achievements_created_at ON achievements(createdAt);\n\n-- badgesテーブル\nCREATE INDEX IF NOT EXISTS idx_badges_user_id ON badges(userId);\nCREATE INDEX IF NOT EXISTS idx_badges_category ON badges(category);\n\n-- challengesテーブル\nCREATE INDEX IF NOT EXISTS idx_challenges_created_at ON challenges(createdAt);\nCREATE INDEX IF NOT EXISTS idx_challenges_status ON challenges(status);\n\n-- challenge_membersテーブル\nCREATE INDEX IF NOT EXISTS idx_challenge_members_challenge_id ON challenge_members(challengeId);\nCREATE INDEX IF NOT EXISTS idx_challenge_members_user_id ON challenge_members(userId);\nCREATE INDEX IF NOT EXISTS idx_challenge_members_status ON challenge_members(status);\n\n-- challenge_statsテーブル\nCREATE INDEX IF NOT EXISTS idx_challenge_stats_challenge_id ON challenge_stats(challengeId);\nCREATE INDEX IF NOT EXISTS idx_challenge_stats_user_id ON challenge_stats(userId);\n\n-- cheersテーブル\nCREATE INDEX IF NOT EXISTS idx_cheers_from_user_id ON cheers(fromUserId);\nCREATE INDEX IF NOT EXISTS idx_cheers_to_user_id ON cheers(toUserId);\nCREATE INDEX IF NOT EXISTS idx_cheers_created_at ON cheers(createdAt);\n\n-- direct_messagesテーブル\nCREATE INDEX IF NOT EXISTS idx_direct_messages_from_user_id ON direct_messages(fromUserId);\nCREATE INDEX IF NOT EXISTS idx_direct_messages_to_user_id ON direct_messages(toUserId);\nCREATE INDEX IF NOT EXISTS idx_direct_messages_created_at ON direct_messages(createdAt);\n\n-- followsテーブル\nCREATE INDEX IF NOT EXISTS idx_follows_follower_id ON follows(followerId);\nCREATE INDEX IF NOT EXISTS idx_follows_following_id ON follows(followingId);\n\n-- invitationsテーブル\nCREATE INDEX IF NOT EXISTS idx_invitations_inviter_id ON invitations(inviterId);\nCREATE INDEX IF NOT EXISTS idx_invitations_code ON invitations(code);\nCREATE INDEX IF NOT EXISTS idx_invitations_created_at ON invitations(createdAt);\n\n-- invitation_usesテーブル\nCREATE INDEX IF NOT EXISTS idx_invitation_uses_invitation_id ON invitation_uses(invitationId);\nCREATE INDEX IF NOT EXISTS idx_invitation_uses_user_id ON invitation_uses(userId);\n\n-- notificationsテーブル\nCREATE INDEX IF NOT EXISTS idx_notifications_user_id ON notifications(userId);\nCREATE INDEX IF NOT EXISTS idx_notifications_is_read ON notifications(isRead);\nCREATE INDEX IF NOT EXISTS idx_notifications_created_at ON notifications(createdAt);\n\n-- participationsテーブル\nCREATE INDEX IF NOT EXISTS idx_participations_user_id ON participations(userId);\nCREATE INDEX IF NOT EXISTS idx_participations_event_id ON participations(eventId);\nCREATE INDEX IF NOT EXISTS idx_participations_status ON participations(status);\n\n-- twitter_user_cacheテーブル\nCREATE INDEX IF NOT EXISTS idx_twitter_user_cache_twitter_id ON twitter_user_cache(twitterId);\nCREATE INDEX IF NOT EXISTS idx_twitter_user_cache_updated_at ON twitter_user_cache(updatedAt);\n\n-- 複合インデックス\nCREATE INDEX IF NOT EXISTS idx_challenge_members_challenge_user ON challenge_members(challengeId, userId);\nCREATE INDEX IF NOT EXISTS idx_notifications_user_read ON notifications(userId, isRead);\nCREATE INDEX IF NOT EXISTS idx_participations_user_event ON participations(userId, eventId);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3YCTtbVp6bbE1oz.aaf91d266729 --database 4EfvvuNg9KRk4UPdFprmBJ --execute -- usersテーブル\nCREATE INDEX IF NOT EXISTS idx_users_openid ON users(openid);\nCREATE INDEX IF NOT EXISTS idx_users_login_method ON users(loginMethod);\nCREATE INDEX IF NOT EXISTS idx_users_created_at ON users(createdAt);\n\n-- achievementsテーブル\nCREATE INDEX IF NOT EXISTS idx_achievements_user_id ON achievements(userId);\nCREATE INDEX IF NOT EXISTS idx_achievements_created_at ON achievements(createdAt);\n\n-- badgesテーブル\nCREATE INDEX IF NOT EXISTS idx_badges_user_id ON badges(userId);\nCREATE INDEX IF NOT EXISTS idx_badges_category ON badges(category);\n\n-- challengesテーブル\nCREATE INDEX IF NOT EXISTS idx_challenges_created_at ON challenges(createdAt);\nCREATE INDEX IF NOT EXISTS idx_challenges_status ON challenges(status);\n\n-- challenge_membersテーブル\nCREATE INDEX IF NOT EXISTS idx_challenge_members_challenge_id ON challenge_members(challengeId);\nCREATE INDEX IF NOT EXISTS idx_challenge_members_user_id ON challenge_members(userId);\nCREATE INDEX IF NOT EXISTS idx_challenge_members_status ON challenge_members(status);\n\n-- challenge_statsテーブル\nCREATE INDEX IF NOT EXISTS idx_challenge_stats_challenge_id ON challenge_stats(challengeId);\nCREATE INDEX IF NOT EXISTS idx_challenge_stats_user_id ON challenge_stats(userId);\n\n-- cheersテーブル\nCREATE INDEX IF NOT EXISTS idx_cheers_from_user_id ON cheers(fromUserId);\nCREATE INDEX IF NOT EXISTS idx_cheers_to_user_id ON cheers(toUserId);\nCREATE INDEX IF NOT EXISTS idx_cheers_created_at ON cheers(createdAt);\n\n-- direct_messagesテーブル\nCREATE INDEX IF NOT EXISTS idx_direct_messages_from_user_id ON direct_messages(fromUserId);\nCREATE INDEX IF NOT EXISTS idx_direct_messages_to_user_id ON direct_messages(toUserId);\nCREATE INDEX IF NOT EXISTS idx_direct_messages_created_at ON direct_messages(createdAt);\n\n-- followsテーブル\nCREATE INDEX IF NOT EXISTS idx_follows_follower_id ON follows(followerId);\nCREATE INDEX IF NOT EXISTS idx_follows_following_id ON follows(followingId);\n\n-- invitationsテーブル\nCREATE INDEX IF NOT EXISTS idx_invitations_inviter_id ON invitations(inviterId);\nCREATE INDEX IF NOT EXISTS idx_invitations_code ON invitations(code);\nCREATE INDEX IF NOT EXISTS idx_invitations_created_at ON invitations(createdAt);\n\n-- invitation_usesテーブル\nCREATE INDEX IF NOT EXISTS idx_invitation_uses_invitation_id ON invitation_uses(invitationId);\nCREATE INDEX IF NOT EXISTS idx_invitation_uses_user_id ON invitation_uses(userId);\n\n-- notificationsテーブル\nCREATE INDEX IF NOT EXISTS idx_notifications_user_id ON notifications(userId);\nCREATE INDEX IF NOT EXISTS idx_notifications_is_read ON notifications(isRead);\nCREATE INDEX IF NOT EXISTS idx_notifications_created_at ON notifications(createdAt);\n\n-- participationsテーブル\nCREATE INDEX IF NOT EXISTS idx_participations_user_id ON participations(userId);\nCREATE INDEX IF NOT EXISTS idx_participations_event_id ON participations(eventId);\nCREATE INDEX IF NOT EXISTS idx_participations_status ON participations(status);\n\n-- twitter_user_cacheテーブル\nCREATE INDEX IF NOT EXISTS idx_twitter_user_cache_twitter_id ON twitter_user_cache(twitterId);\nCREATE INDEX IF NOT EXISTS idx_twitter_user_cache_updated_at ON twitter_user_cache(updatedAt);\n\n-- 複合インデックス\nCREATE INDEX IF NOT EXISTS idx_challenge_members_challenge_user ON challenge_members(challengeId, userId);\nCREATE INDEX IF NOT EXISTS idx_notifications_user_read ON notifications(userId, isRead);\nCREATE INDEX IF NOT EXISTS idx_participations_user_event ON participations(userId, eventId);",
  "returncode": 1,
  "logs": [
    "ERROR 1072 (42000) at line 7: column does not exist: userId"
  ]
}