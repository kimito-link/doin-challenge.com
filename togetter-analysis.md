# Togetter高速化分析

## Togetterが速い理由

### 1. サーバーサイドレンダリング（SSR）
- ページを開いた瞬間にHTMLが完成している
- JavaScriptが読み込まれる前にコンテンツが表示される
- スケルトンやローディングスピナーは使わない

### 2. 静的コンテンツ優先
- 初期表示に必要なデータはHTMLに埋め込まれている
- クライアントサイドでのAPI呼び出しを最小限に
- 画像は遅延読み込み（lazy loading）

### 3. シンプルなHTML構造
- 複雑なJavaScriptフレームワークに依存しない
- 軽量なCSS
- 必要最小限のJavaScript

## 現在のアプリの問題点

### 1. クライアントサイドレンダリング（CSR）
- ページを開いてからAPIを呼び出す
- APIレスポンスを待つ間スケルトンを表示
- 遅延の原因

### 2. React Native / Expoのオーバーヘッド
- フレームワークの初期化に時間がかかる
- バンドルサイズが大きい

### 3. 複数のAPI呼び出し
- ホーム画面で複数のtRPCクエリを実行
- 各クエリがDBにアクセス

## 改善策

### 即時実装可能
1. **初期データをHTMLに埋め込む**（SSR的アプローチ）
2. **スケルトンを完全廃止**（空の状態でも即座に表示）
3. **キャッシュをより積極的に使用**
4. **画像の遅延読み込みを最適化**

### 中期的改善
1. **APIレスポンスのプリフェッチ**
2. **バンドルサイズの削減**
3. **不要なコンポーネントの遅延読み込み**
