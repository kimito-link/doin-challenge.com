# AI実装時の指示テンプレート

**このファイルには、AI実装時に使用する指示テンプレートが含まれています。**

---

## 📋 基本テンプレート

### 1. 新機能実装時

```
【機能名】を実装してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMPONENT_REGISTRY.md
3. docs/COMMON_MISTAKES.md
4. docs/AI_INSTRUCTIONS.md

実装内容:
- 【具体的な実装内容】

使用するコンポーネント:
- 【既存のコンポーネント名】

禁止事項:
- 【禁止事項】
```

**使用例**:
```
ログイン機能を実装してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMPONENT_REGISTRY.md
3. docs/COMMON_MISTAKES.md
4. docs/AI_INSTRUCTIONS.md

実装内容:
- ホーム画面にログインボタンを追加
- ログインボタンをクリックすると、カスタムログイン画面（モーダル）が表示される

使用するコンポーネント:
- components/common/LoginModal.tsx

禁止事項:
- 新しいログインUIを作成しない
- 青いバナーなど、別のログインUIを作成しない
```

---

### 2. バグ修正時

```
【バグの説明】を修正してください。

実装前に、以下のファイルを必ず読んでください:
1. docs/COMMON_MISTAKES.md
2. docs/AI_INSTRUCTIONS.md

バグの詳細:
- 発生画面: 【画面名】
- 再現手順:
  1. 【手順1】
  2. 【手順2】
  3. 【手順3】
- 期待される動作: 【期待される動作】
- 実際の動作: 【実際の動作】
- エラーメッセージ: 【エラーメッセージ】

修正方針:
- 【修正方針】
```

**使用例**:
```
サムネイル画像が表示されない問題を修正してください。

実装前に、以下のファイルを必ず読んでください:
1. docs/COMMON_MISTAKES.md
2. docs/AI_INSTRUCTIONS.md

バグの詳細:
- 発生画面: ホーム画面
- 再現手順:
  1. ホーム画面を開く
  2. チャレンジカードを確認
  3. 4番以降のチャレンジカードにサムネイル画像が表示されない
- 期待される動作: すべてのチャレンジカードにサムネイル画像が表示される
- 実際の動作: 4番以降のチャレンジカードにサムネイル画像が表示されない
- エラーメッセージ: なし

修正方針:
- データベースのchallengesテーブルでhostProfileImageカラムに値が入っているか確認
- サムネイル取得・表示ロジックを修正
```

---

### 3. UI改善時

```
【画面名】のUIを改善してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMMON_MISTAKES.md
3. docs/AI_INSTRUCTIONS.md

改善内容:
- 【具体的な改善内容】

改善箇所:
- 【要素名】: 【改善内容】

参考資料:
- 【スクリーンショット、URL、カラーコードなど】
```

**使用例**:
```
チャレンジ詳細画面のUIを改善してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMMON_MISTAKES.md
3. docs/AI_INSTRUCTIONS.md

改善内容:
- ヘッダー部分のテキストコントラスト比を改善

改善箇所:
- ホスト名「たぬ姉」: コントラスト比を4.5:1以上に
- Twitterハンドル「@yui_kunitamune」: コントラスト比を4.5:1以上に
- プロフィール文章: コントラスト比を4.5:1以上に

参考資料:
- WCAG 2.1 AA基準（コントラスト比4.5:1以上）
- WebAIM Contrast Checker: https://webaim.org/resources/contrastchecker/
```

---

### 4. コンポーネント作成時

```
【コンポーネント名】を作成してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMPONENT_REGISTRY.md
3. docs/AI_INSTRUCTIONS.md

コンポーネントの仕様:
- 用途: 【用途】
- 配置場所: 【配置場所】
- Props: 【Props】
- 使用箇所: 【使用箇所】

実装後:
- docs/COMPONENT_REGISTRY.md に追加してください
```

**使用例**:
```
FilterPanelコンポーネントを作成してください。

実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMPONENT_REGISTRY.md
3. docs/AI_INSTRUCTIONS.md

コンポーネントの仕様:
- 用途: チャレンジをフィルタリングする
- 配置場所: components/common/FilterPanel.tsx
- Props:
  - filters: string[] - フィルタ項目
  - onFilterChange: (filter: string) => void - フィルタ変更時のコールバック
- 使用箇所: ホーム画面

実装後:
- docs/COMPONENT_REGISTRY.md に追加してください
```

---

## 🔍 チェックポイント前の指示テンプレート

### チェックポイント作成前

```
チェックポイントを作成する前に、以下を確認してください:

1. **設計原則の確認**
   - DESIGN_PRINCIPLES.md を読んで、違反していないか確認

2. **コンポーネントレジストリの確認**
   - docs/COMPONENT_REGISTRY.md を読んで、最新か確認
   - 新しいコンポーネントを追加した場合は更新

3. **重複実装の確認**
   - 同じ機能を持つコンポーネントが複数存在しないか確認

4. **TypeScriptエラーの確認**
   - TypeScriptエラーがないか確認

5. **todo.md の更新**
   - 完了したタスクを [x] にマーク

上記をすべて確認したら、チェックポイントを作成してください。
```

---

## 📚 定期的なチェックの指示テンプレート

### 週次チェック

```
週次チェックを実行してください:

1. **重複実装のチェック**
   - match ツールで検索して、同じ機能を持つコンポーネントが複数存在しないか確認

2. **設計原則の確認**
   - DESIGN_PRINCIPLES.md を読んで、違反している実装がないか確認

3. **コンポーネントレジストリの更新**
   - docs/COMPONENT_REGISTRY.md を読んで、最新か確認
   - 新しいコンポーネントがある場合は追加

4. **COMMON_MISTAKES.md の更新**
   - 新しいミスが発生した場合は追加

チェック結果を報告してください。
```

---

## 🎯 効果的な指示のポイント

### 1. 明示的に指示する

❌ 悪い例:
```
ログイン機能を追加して
```

✅ 良い例:
```
ログイン機能を追加して。
ただし、既存の LoginModal コンポーネント（components/common/LoginModal.tsx）を使用すること。
新しいログインUIを作成しないこと。
```

---

### 2. 具体的な情報を提供する

❌ 悪い例:
```
UIを改善して
```

✅ 良い例:
```
チャレンジ詳細画面のヘッダー部分のテキストコントラスト比を改善して。
WCAG 2.1 AA基準（コントラスト比4.5:1以上）を満たすようにすること。
```

---

### 3. 禁止事項を明確にする

❌ 悪い例:
```
ログイン機能を追加して
```

✅ 良い例:
```
ログイン機能を追加して。
禁止事項:
- 新しいログインUIを作成しない
- 青いバナーなど、別のログインUIを作成しない
- ログイン機能を複数の場所で重複実装しない
```

---

### 4. ファイルを読むように指示する

❌ 悪い例:
```
ログイン機能を追加して
```

✅ 良い例:
```
ログイン機能を追加して。
実装前に、以下のファイルを必ず読んでください:
1. DESIGN_PRINCIPLES.md
2. docs/COMPONENT_REGISTRY.md
3. docs/COMMON_MISTAKES.md
4. docs/AI_INSTRUCTIONS.md
```

---

## 📝 カスタマイズのヒント

### プロジェクト固有の指示を追加

プロジェクトによっては、以下のような固有の指示を追加することを推奨します：

```
【プロジェクト固有の指示】:
- 【指示1】
- 【指示2】
- 【指示3】
```

**例**:
```
プロジェクト固有の指示:
- Tailwind CSS（NativeWind）を使用すること
- グローバルスタイル（styles.ts）に依存しないこと
- FlatListを使用すること（ScrollViewは使用しない）
```

---

## 🤝 サポート

質問やフィードバックがある場合は、以下までご連絡ください：

- **X (Twitter)**: [@reversehackrepu](https://x.com/reversehackrepu)

---

**最終更新**: 2026-01-31
