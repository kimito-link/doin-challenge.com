# 定期的な更新ガイド

**このガイドでは、AI実装ミス防止システムを定期的に更新する方法を説明します。**

---

## 📋 更新の目的

AI実装ミス防止システムは、プロジェクトの進行に伴って更新する必要があります。定期的に更新することで、以下の効果が期待できます：

1. **新しいミスを防ぐ**: 発生したミスを記録し、再発を防ぐ
2. **コンポーネントレジストリを最新に保つ**: 新しいコンポーネントを追加し、AIが検索できるようにする
3. **設計原則を更新**: プロジェクトの成長に合わせて、設計原則を更新する

---

## 🔄 更新のタイミング

### 1. 新しいミスが発生したとき（即座に更新）

**更新ファイル**: `docs/COMMON_MISTAKES.md`

**更新内容**:
- 発生したミスを記録
- 防止策を記載
- チェックリストを追加

**更新例**:
```markdown
### 5. 新しいミス: 【ミスの説明】

**問題**:
- 【ミスの詳細】
- 例: 【具体例】

**防止策**:
- **【防止策1】**
- **【防止策2】**

**チェックリスト**:
- [ ] 【チェック項目1】
- [ ] 【チェック項目2】
```

---

### 2. 新しいコンポーネントを作成したとき（即座に更新）

**更新ファイル**: `docs/COMPONENT_REGISTRY.md`

**更新内容**:
- コンポーネント名
- ファイルパス
- 用途
- 使用箇所
- 主要なProps

**更新例**:
```markdown
### FilterPanel
- **パス**: `components/common/FilterPanel.tsx`
- **用途**: チャレンジをフィルタリングする
- **使用箇所**: ホーム画面
- **Props**:
  - `filters: string[]` - フィルタ項目
  - `onFilterChange: (filter: string) => void` - フィルタ変更時のコールバック
```

---

### 3. 週次チェック（週に1回）

**チェック内容**:
1. 重複実装がないか確認
2. 設計原則に違反していないか確認
3. コンポーネントレジストリが最新か確認
4. COMMON_MISTAKES.md に新しいミスを追加

**チェック手順**:

#### ステップ1: 重複実装のチェック

```bash
# 類似コンポーネントを検索
match --action grep --scope "/path/to/project/components/**/*.tsx" --regex "Login|login"
```

**確認内容**:
- 同じ機能を持つコンポーネントが複数存在しないか
- 重複がある場合は統合する

---

#### ステップ2: 設計原則の確認

```bash
# DESIGN_PRINCIPLES.md を読む
file read /path/to/project/DESIGN_PRINCIPLES.md
```

**確認内容**:
- 実装内容が設計原則に違反していないか
- 違反している場合は修正する

---

#### ステップ3: コンポーネントレジストリの確認

```bash
# COMPONENT_REGISTRY.md を読む
file read /path/to/project/docs/COMPONENT_REGISTRY.md
```

**確認内容**:
- 新しいコンポーネントが追加されているか
- 追加されていない場合は追加する

---

#### ステップ4: COMMON_MISTAKES.md の更新

```bash
# COMMON_MISTAKES.md を読む
file read /path/to/project/docs/COMMON_MISTAKES.md
```

**確認内容**:
- 新しいミスが発生していないか
- 発生している場合は追加する

---

### 4. 月次チェック（月に1回）

**チェック内容**:
1. 設計原則を見直す
2. AI実装ガイドラインを見直す
3. 効果測定を行う

**チェック手順**:

#### ステップ1: 設計原則の見直し

```bash
# DESIGN_PRINCIPLES.md を読む
file read /path/to/project/DESIGN_PRINCIPLES.md
```

**確認内容**:
- 設計原則が現在のプロジェクトに適しているか
- 新しい設計原則が必要か
- 古い設計原則を削除する必要があるか

---

#### ステップ2: AI実装ガイドラインの見直し

```bash
# AI_INSTRUCTIONS.md を読む
file read /path/to/project/docs/AI_INSTRUCTIONS.md
```

**確認内容**:
- AI実装ガイドラインが現在のプロジェクトに適しているか
- 新しいガイドラインが必要か
- 古いガイドラインを削除する必要があるか

---

#### ステップ3: 効果測定

**測定項目**:
- 重複実装の発生率
- AIの理解度
- 実装ミスの発生率
- 実装時間

**測定方法**:
1. 過去1ヶ月の実装を振り返る
2. 重複実装、ミス、実装時間を記録
3. 前月と比較して改善しているか確認

---

## 📊 効果測定の方法

### 1. 重複実装の発生率

**計算方法**:
```
重複実装の発生率 = (重複実装の数 / 総実装数) × 100%
```

**目標値**: 5%以下

---

### 2. AIの理解度

**計算方法**:
```
AIの理解度 = (正しく実装された数 / 総実装数) × 100%
```

**目標値**: 70%以上

---

### 3. 実装ミスの発生率

**計算方法**:
```
実装ミスの発生率 = (ミスの数 / 総実装数) × 100%
```

**目標値**: 10%以下

---

### 4. 実装時間

**計算方法**:
```
平均実装時間 = 総実装時間 / 総実装数
```

**目標値**: 1時間以下

---

## 🔧 更新のベストプラクティス

### 1. 具体例を記載する

❌ 悪い例:
```markdown
### 1. コンポーネントの重複実装

**問題**:
- 同じ機能を持つコンポーネントを複数の場所で実装してしまう
```

✅ 良い例:
```markdown
### 1. ログインUIの重複実装

**問題**:
- ログインUIを複数の場所で実装してしまう
- 例: ホーム画面、チャレンジ詳細画面、マイページでそれぞれ異なるログインUIを実装
```

---

### 2. 防止策を明確にする

❌ 悪い例:
```markdown
**防止策**:
- 既存のコンポーネントを使用する
```

✅ 良い例:
```markdown
**防止策**:
- **必ず `components/common/LoginModal.tsx` を使用**
- 新しいログインUIを作成しない
- `DESIGN_PRINCIPLES.md` の「UI/UXの一貫性」を厳守
```

---

### 3. チェックリストを追加する

❌ 悪い例:
```markdown
**防止策**:
- **必ず `components/common/LoginModal.tsx` を使用**
```

✅ 良い例:
```markdown
**防止策**:
- **必ず `components/common/LoginModal.tsx` を使用**

**チェックリスト**:
- [ ] `components/common/LoginModal.tsx`を使用しているか?
- [ ] 新しいログインUIを作成していないか?
- [ ] `COMPONENT_REGISTRY.md`を確認したか?
```

---

## 📝 更新テンプレート

### COMMON_MISTAKES.md の更新テンプレート

```markdown
### 【ミス番号】. 【ミスの説明】

**問題**:
- 【ミスの詳細】
- 例: 【具体例】

**防止策**:
- **【防止策1】**
- **【防止策2】**

**チェックリスト**:
- [ ] 【チェック項目1】
- [ ] 【チェック項目2】
```

---

### COMPONENT_REGISTRY.md の更新テンプレート

```markdown
### 【ComponentName】
- **パス**: `【ファイルパス】`
- **用途**: 【用途】
- **使用箇所**: 【使用箇所1】、【使用箇所2】
- **Props**:
  - `prop1: type` - 【prop1の説明】
  - `prop2: type` - 【prop2の説明】
  - `prop3?: type` - 【prop3の説明】（オプション）
```

---

## 🤝 サポート

質問やフィードバックがある場合は、以下までご連絡ください：

- **X (Twitter)**: [@reversehackrepu](https://x.com/reversehackrepu)

---

**最終更新**: 2026-01-31
