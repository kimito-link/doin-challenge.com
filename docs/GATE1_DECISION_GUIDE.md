# Gate 1 判断ガイド（判断可能な形に整理）

結論を先に、その後に理由と具体手順を書きます。

---

# 結論（短く）

* **① docs/ARCHITECTURE.md（600行差分）**
  👉 **見送り（または分割して再提案）** が正解

* **② .claude/ ディレクトリ**
  👉 **即採用はしない／目的別に分解して最小採用** が正解

Gate 1の文脈では、**どちらも「そのまま採用」はNG**です。

---

# Gate 1の前提を再確認

Gate 1の目的はこれでしたね：

> * 危険変更を即検知できる
> * 1変更 = 1コミットで「何が変わったか」を固定する
> * 壊れても即戻せる

この前提に照らすと、**「意図が読めない巨大差分」と「環境依存しやすい設定群」**は、Gate 1にとって *最も相性が悪い変更* です。

---

# ① docs/ARCHITECTURE.md（600行差分）

## 採用した場合

### メリット

* ドキュメントが最新思想に寄っている可能性
* 将来の説明コストが下がる可能性

### デメリット（致命的）

* **何が変わったのかレビュー不能**
* 今の実装とズレていても即検知できない
* Gate 1の「変更単位固定」が完全に壊れる
* 後から「この設計どこから来た？」が追えない

👉 Gate 1視点では **事故の温床**。

---

## 見送る場合（推奨）

### メリット

* Gate 1の秩序を守れる
* 今の「動いている実態」を壊さない
* 後で検証できる

### デメリット

* ドキュメント更新が遅れる
* 書いた人のモチベが下がる可能性

👉 **Gate 1ではデメリットよりメリットが圧倒的に大きい**

---

## 安全に採用するなら（唯一の許容手順）

**分割が必須**です。

### 手順

1. **今のARCHITECTURE.mdをコピー**

   * `ARCHITECTURE.current.md` として保存
2. 差分案は

   * `ARCHITECTURE.proposed.md` として追加
3. PRの目的を明示：

   > 「これは *置き換えではなく提案* です」
4. 実装と一致確認が取れた章だけを
   **1章 = 1コミット** で移行

👉 これ以外の採用方法は **Gate 1違反**。

---

# ② .claude/ ディレクトリ（未追跡）

## 採用した場合

### メリット

* AIとの協働が安定する
* プロンプトや前提が共有される

### デメリット

* 個人環境依存になりやすい
* 「いつ・なぜ変わったか」が追いづらい
* 本番コードと無関係なのにdiffに引っかかる

👉 Gate 1に混ぜると **ノイズ源**になります。

---

## 見送る場合

### メリット

* Gate 1が純粋に「本番影響」に集中できる
* CI / diff-checkが静か

### デメリット

* AI運用の再現性が下がる
* 暗黙知が残る

---

## 最小リスクでの採用方法（推奨）

**分解して採用**してください。

### OKなもの

* 再現性のある仕様
* プロジェクト不変の前提

👉 例：

```
docs/ai/
  ai-principles.md        # 思想・前提・ポリシー
  ai-dod.md               # DoDテンプレ
  ai-ng.md                # NG集
```

### NGなもの

* 個人トークン
* ローカルパス
* 実験用プロンプト
* セッション状態

👉 `.claude/` は **.gitignore推奨**  
もしくは **docs/ai/ に再編してから採用**

---

# 両方を「保留」する判断基準

以下のどれかに当てはまったら **保留が正解**です。

* 変更の意図を一文で説明できない
* 「この差分で壊れる可能性があるか？」に即答できない
* Gate 1のチェックリストに直接寄与しない
* 本番コードに影響しないのにCIに影響する

今回、**両方とも該当しています**。

---

# 推奨アクション（具体）

### 今すぐやること

* ① docs/ARCHITECTURE.md → **見送り**
* ② .claude/ → **.gitignore or docs/aiへ分解**

### PRコメント例（そのまま使える）

```md
Gate 1の方針により、
- 意図不明な大規模docs差分
- 環境依存しやすいAI設定
は今回の変更から除外します。

いずれも「提案用ドキュメント」として
分離・再提出をお願いします。
```

---

# 最後に（重要）

あなたの判断基準はもう **エンジニアの勘**ではなく、**運用設計のレベル**に到達しています。

「良さそうだから入れる」を捨てて「壊れないか？戻れるか？」で判断している。

これは Gate 1 が **ちゃんと効いている証拠**です。

この2件を見送れるなら、Gate 1はすでに“実戦投入可能”な状態です。
